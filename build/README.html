<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Complete App &mdash; jobify  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=5929fcd5"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            jobify
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Complete App</a></li>
<li><a class="reference internal" href="#create-react-app">Create React APP</a></li>
<li><a class="reference internal" href="#vite-folder-and-file-structure">Vite - Folder and File Structure</a></li>
<li><a class="reference internal" href="#remove-boilerplate">Remove Boilerplate</a></li>
<li><a class="reference internal" href="#project-assets">Project Assets</a></li>
<li><a class="reference internal" href="#global-styles">Global Styles</a></li>
<li><a class="reference internal" href="#title-and-favicon">Title and Favicon</a></li>
<li><a class="reference internal" href="#install-packages-optional">Install Packages (Optional)</a></li>
<li><a class="reference internal" href="#router">Router</a></li>
<li><a class="reference internal" href="#setup-router">Setup Router</a></li>
<li><a class="reference internal" href="#create-pages">Create Pages</a></li>
<li><a class="reference internal" href="#index">Index</a></li>
<li><a class="reference internal" href="#link-component">Link Component</a></li>
<li><a class="reference internal" href="#nested-routes">Nested Routes</a></li>
<li><a class="reference internal" href="#index-home-page">Index (Home) Page</a></li>
<li><a class="reference internal" href="#error-page">Error Page</a></li>
<li><a class="reference internal" href="#styled-components">Styled Components</a></li>
<li><a class="reference internal" href="#style-entire-react-component">Style Entire React Component</a></li>
<li><a class="reference internal" href="#landing-page">Landing Page</a></li>
<li><a class="reference internal" href="#assets-wrappers">Assets/Wrappers</a></li>
<li><a class="reference internal" href="#logo-component">Logo Component</a></li>
<li><a class="reference internal" href="#logo-and-images">Logo and Images</a></li>
<li><a class="reference internal" href="#id1">Error Page</a></li>
<li><a class="reference internal" href="#error-page-css-optional">Error Page CSS (optional)</a></li>
<li><a class="reference internal" href="#register-page">Register Page</a></li>
<li><a class="reference internal" href="#formrow-component">FormRow Component</a></li>
<li><a class="reference internal" href="#login-page">Login Page</a></li>
<li><a class="reference internal" href="#register-and-login-css-optional">Register and Login CSS (optional)</a></li>
<li><a class="reference internal" href="#dashboard-pages">Dashboard Pages</a></li>
<li><a class="reference internal" href="#navbar-bigsidebar-and-smallsidebar">Navbar, BigSidebar and SmallSidebar</a></li>
<li><a class="reference internal" href="#dashboard-layout-css-optional">Dashboard Layout - CSS (optional)</a></li>
<li><a class="reference internal" href="#dashboard-context">Dashboard Context</a></li>
<li><a class="reference internal" href="#react-icons">React Icons</a></li>
<li><a class="reference internal" href="#navbar-initial-setup">Navbar - Initial Setup</a></li>
<li><a class="reference internal" href="#navbar-css-optional">Navbar CSS (optional)</a></li>
<li><a class="reference internal" href="#links">Links</a></li>
<li><a class="reference internal" href="#smallsidebar">SmallSidebar</a></li>
<li><a class="reference internal" href="#small-sidebar-css-optional">Small Sidebar CSS (optional)</a></li>
<li><a class="reference internal" href="#navlinks">NavLinks</a></li>
<li><a class="reference internal" href="#big-sidebar">Big Sidebar</a></li>
<li><a class="reference internal" href="#bigsidebar-css-optional">BigSidebar CSS (optional)</a></li>
<li><a class="reference internal" href="#logoutcontainer">LogoutContainer</a></li>
<li><a class="reference internal" href="#logoutcontainer-css-optional">LogoutContainer CSS (optional)</a></li>
<li><a class="reference internal" href="#themetoggle">ThemeToggle</a></li>
<li><a class="reference internal" href="#themetoggle-css-optional">ThemeToggle CSS (optional)</a></li>
<li><a class="reference internal" href="#dark-theme-logic">Dark Theme - Logic</a></li>
<li><a class="reference internal" href="#access-theme">Access Theme</a></li>
<li><a class="reference internal" href="#dark-theme-css">Dark Theme CSS</a></li>
<li><a class="reference internal" href="#folder-setup">Folder Setup</a></li>
<li><a class="reference internal" href="#setup-server">Setup Server</a></li>
<li><a class="reference internal" href="#es6-modules">ES6 Modules</a></li>
<li><a class="reference internal" href="#source-control">Source Control</a></li>
<li><a class="reference internal" href="#install-packages-and-setup-install-script">Install Packages and Setup Install Script</a></li>
<li><a class="reference internal" href="#setup-basic-express">Setup Basic Express</a></li>
<li><a class="reference internal" href="#thunder-client">Thunder Client</a></li>
<li><a class="reference internal" href="#accept-json">Accept JSON</a></li>
<li><a class="reference internal" href="#morgan-and-dotenv">Morgan and Dotenv</a></li>
<li><a class="reference internal" href="#new-features">New Features</a></li>
<li><a class="reference internal" href="#basic-crud">Basic CRUD</a></li>
<li><a class="reference internal" href="#get-all-jobs">Get All Jobs</a></li>
<li><a class="reference internal" href="#create-findone-modify-and-delete">Create, FindOne, Modify and Delete</a></li>
<li><a class="reference internal" href="#not-found-middleware">Not Found Middleware</a></li>
<li><a class="reference internal" href="#error-middleware">Error Middleware</a></li>
<li><a class="reference internal" href="#not-found-and-error-middleware">Not Found and Error Middleware</a></li>
<li><a class="reference internal" href="#controller-and-router">Controller and Router</a></li>
<li><a class="reference internal" href="#mongodb">MongoDB</a></li>
<li><a class="reference internal" href="#mongoosejs">Mongoosejs</a></li>
<li><a class="reference internal" href="#job-model">Job Model</a></li>
<li><a class="reference internal" href="#create-job">Create Job</a></li>
<li><a class="reference internal" href="#try-catch">Try / Catch</a></li>
<li><a class="reference internal" href="#express-async-errors">express-async-errors</a></li>
<li><a class="reference internal" href="#id2">Get All Jobs</a></li>
<li><a class="reference internal" href="#get-single-job">Get Single Job</a></li>
<li><a class="reference internal" href="#delete-job">Delete Job</a></li>
<li><a class="reference internal" href="#update-job">Update Job</a></li>
<li><a class="reference internal" href="#status-codes">Status Codes</a></li>
<li><a class="reference internal" href="#custom-error-class">Custom Error Class</a></li>
<li><a class="reference internal" href="#custom-error">Custom Error</a></li>
<li><a class="reference internal" href="#bad-request-error">Bad Request Error</a></li>
<li><a class="reference internal" href="#validation-layer">Validation Layer</a></li>
<li><a class="reference internal" href="#test-route">Test Route</a></li>
<li><a class="reference internal" href="#express-validator">Express Validator</a></li>
<li><a class="reference internal" href="#validation-middleware">Validation Middleware</a></li>
<li><a class="reference internal" href="#remove-test-case-from-server">Remove Test Case From Server</a></li>
<li><a class="reference internal" href="#setup-constants">Setup Constants</a></li>
<li><a class="reference internal" href="#validate-create-job">Validate Create Job</a></li>
<li><a class="reference internal" href="#validate-id-parameter">Validate ID Parameter</a></li>
<li><a class="reference internal" href="#clean-db">Clean DB</a></li>
<li><a class="reference internal" href="#user-model">User Model</a></li>
<li><a class="reference internal" href="#user-controller-and-router">User Controller and Router</a></li>
<li><a class="reference internal" href="#create-user-initial-setup">Create User - Initial Setup</a></li>
<li><a class="reference internal" href="#validate-user">Validate User</a></li>
<li><a class="reference internal" href="#admin-role">Admin Role</a></li>
<li><a class="reference internal" href="#hash-passwords">Hash Passwords</a><ul>
<li><a class="reference internal" href="#bcrypt-vs-bcryptjs">BCRYPT VS BCRYPTJS</a></li>
</ul>
</li>
<li><a class="reference internal" href="#setup-password-utils">Setup Password Utils</a></li>
<li><a class="reference internal" href="#login-user">Login User</a></li>
<li><a class="reference internal" href="#unauthenticated-error">Unauthenticated Error</a></li>
<li><a class="reference internal" href="#compare-password">Compare Password</a></li>
<li><a class="reference internal" href="#json-web-token">JSON Web Token</a></li>
<li><a class="reference internal" href="#test-jwt-optional">Test JWT (optional)</a></li>
<li><a class="reference internal" href="#env-variables">ENV Variables</a></li>
<li><a class="reference internal" href="#http-only-cookie">HTTP Only Cookie</a><ul>
<li><a class="reference internal" href="#http-only-cookie-vs-local-storage">HTTP Only Cookie VS Local Storage</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id3">Clean DB</a></li>
<li><a class="reference internal" href="#connect-user-and-job">Connect User and Job</a></li>
<li><a class="reference internal" href="#auth-middleware">Auth Middleware</a><ul>
<li><a class="reference internal" href="#cookie-parser">Cookie Parser</a></li>
</ul>
</li>
<li><a class="reference internal" href="#access-token">Access Token</a></li>
<li><a class="reference internal" href="#verify-token">Verify Token</a></li>
<li><a class="reference internal" href="#refactor-create-job">Refactor Create Job</a></li>
<li><a class="reference internal" href="#check-permissions">Check Permissions</a></li>
<li><a class="reference internal" href="#logout-user">Logout User</a></li>
<li><a class="reference internal" href="#user-routes">User Routes</a></li>
<li><a class="reference internal" href="#get-current-user">Get Current User</a></li>
<li><a class="reference internal" href="#remove-password">Remove Password</a></li>
<li><a class="reference internal" href="#update-user">Update User</a></li>
<li><a class="reference internal" href="#application-stats">Application Stats</a></li>
<li><a class="reference internal" href="#setup-proxy">Setup Proxy</a></li>
<li><a class="reference internal" href="#concurrently">Concurrently</a></li>
<li><a class="reference internal" href="#axios">Axios</a></li>
<li><a class="reference internal" href="#custom-instance">Custom Instance</a></li>
<li><a class="reference internal" href="#typical-form-submission">Typical Form Submission</a></li>
<li><a class="reference internal" href="#react-router-action">React Router - Action</a></li>
<li><a class="reference internal" href="#register-user">Register User</a></li>
<li><a class="reference internal" href="#usenavigation-and-navigation-state">useNavigation() and navigation.state</a></li>
<li><a class="reference internal" href="#react-toastify">React-Toastify</a></li>
<li><a class="reference internal" href="#id4">Login User</a></li>
<li><a class="reference internal" href="#access-action-data-optional">Access Action Data (optional)</a></li>
<li><a class="reference internal" href="#id5">Get Current User</a></li>
<li><a class="reference internal" href="#id6">Logout User</a></li>
<li><a class="reference internal" href="#addjob-structure">AddJob - Structure</a></li>
<li><a class="reference internal" href="#select-input">Select Input</a></li>
<li><a class="reference internal" href="#formrowselect-component">FormRowSelect Component</a></li>
<li><a class="reference internal" href="#id7">Create Job</a></li>
<li><a class="reference internal" href="#pending-class-and-redirect">Pending Class and Redirect</a></li>
<li><a class="reference internal" href="#add-job-css-optional">Add Job - CSS(optional)</a></li>
<li><a class="reference internal" href="#all-jobs-structure">All Jobs - Structure</a></li>
<li><a class="reference internal" href="#setup-all-jobs-context">Setup All Jobs Context</a></li>
<li><a class="reference internal" href="#render-jobs">Render Jobs</a></li>
<li><a class="reference internal" href="#jobscontainer-css-optional">JobsContainer - CSS (optional)</a></li>
<li><a class="reference internal" href="#dayjs">Dayjs</a></li>
<li><a class="reference internal" href="#job-component">Job Component</a></li>
<li><a class="reference internal" href="#jobinfo-component">JobInfo Component</a></li>
<li><a class="reference internal" href="#jobinfo-css-optional">JobInfo - CSS (optional)</a></li>
<li><a class="reference internal" href="#job-css-optional">Job - CSS (optional)</a></li>
<li><a class="reference internal" href="#edit-job-setup">Edit Job - Setup</a></li>
<li><a class="reference internal" href="#edit-job-complete">Edit Job - Complete</a></li>
<li><a class="reference internal" href="#id8">Delete Job</a></li>
<li><a class="reference internal" href="#admin-page">Admin Page</a></li>
<li><a class="reference internal" href="#statitem-component">StatItem Component</a></li>
<li><a class="reference internal" href="#admin-css-optional">Admin - CSS (optional)</a></li>
<li><a class="reference internal" href="#avatar-image">Avatar Image</a></li>
<li><a class="reference internal" href="#setup-public-folder">Setup Public Folder</a></li>
<li><a class="reference internal" href="#profile-page-initial-setup">Profile Page - Initial Setup</a></li>
<li><a class="reference internal" href="#profile-page-structure">Profile Page - Structure</a></li>
<li><a class="reference internal" href="#profile-page-action">Profile Page - Action</a></li>
<li><a class="reference internal" href="#update-user-server">Update User - Server</a></li>
<li><a class="reference internal" href="#cloudinary-create-account-get-api-keys">Cloudinary - Create Account/Get API Keys</a></li>
<li><a class="reference internal" href="#cloudinary-setup-instance">Cloudinary - Setup Instance</a></li>
<li><a class="reference internal" href="#update-user-controller">Update User Controller</a></li>
<li><a class="reference internal" href="#logout-container">Logout Container</a></li>
<li><a class="reference internal" href="#submit-btn-component">Submit Btn Component</a></li>
<li><a class="reference internal" href="#test-user">Test User</a></li>
<li><a class="reference internal" href="#test-user-login-page">Test User - Login Page</a></li>
<li><a class="reference internal" href="#test-user-restrict-access">Test User - Restrict Access</a></li>
<li><a class="reference internal" href="#mock-data">Mock Data</a></li>
<li><a class="reference internal" href="#populate-db">Populate DB</a></li>
<li><a class="reference internal" href="#stats-setup">Stats - Setup</a></li>
<li><a class="reference internal" href="#stats-complete-server-functionality">Stats - Complete Server Functionality</a></li>
<li><a class="reference internal" href="#commentary">Commentary</a></li>
<li><a class="reference internal" href="#stats-front-end-setup">Stats - Front-End Setup</a></li>
<li><a class="reference internal" href="#stats-container">Stats Container</a></li>
<li><a class="reference internal" href="#chartscontainer">ChartsContainer</a></li>
<li><a class="reference internal" href="#charts">Charts</a></li>
<li><a class="reference internal" href="#area-chart">Area Chart</a></li>
<li><a class="reference internal" href="#bar-chart">Bar Chart</a></li>
<li><a class="reference internal" href="#charts-css-optional">Charts CSS (optional)</a></li>
<li><a class="reference internal" href="#get-all-jobs-server">Get All Jobs - Server</a></li>
<li><a class="reference internal" href="#search-container">Search Container</a></li>
<li><a class="reference internal" href="#all-jobs-loader">All Jobs Loader</a></li>
<li><a class="reference internal" href="#submit-form-programmatically">Submit Form Programmatically</a></li>
<li><a class="reference internal" href="#debounce">Debounce</a></li>
<li><a class="reference internal" href="#pagination-setup">Pagination - Setup</a></li>
<li><a class="reference internal" href="#basic-pagebtncontainer">Basic PageBtnContainer</a></li>
<li><a class="reference internal" href="#complex-pagebtncontainer">Complex - PageBtnContainer</a></li>
<li><a class="reference internal" href="#pagebtncontainer-css-optional">PageBtnContainer CSS (optional)</a></li>
<li><a class="reference internal" href="#local-build">Local Build</a></li>
<li><a class="reference internal" href="#deploy-on-render">Deploy On Render</a></li>
<li><a class="reference internal" href="#build-front-end-on-render">Build Front-End on Render</a></li>
<li><a class="reference internal" href="#test-locally">Test Locally</a></li>
<li><a class="reference internal" href="#test-in-production">Test in Production</a></li>
<li><a class="reference internal" href="#upload-image-as-buffer">Upload Image As Buffer</a></li>
<li><a class="reference internal" href="#setup-global-loading">Setup Global Loading</a></li>
<li><a class="reference internal" href="#react-query">React Query</a></li>
<li><a class="reference internal" href="#page-error-element">Page Error Element</a></li>
<li><a class="reference internal" href="#first-query">First Query</a></li>
<li><a class="reference internal" href="#get-stats-with-react-query">Get Stats with React Query</a></li>
<li><a class="reference internal" href="#react-query-in-stats-loader">React Query in Stats Loader</a></li>
<li><a class="reference internal" href="#react-query-for-current-user">React Query for Current User</a></li>
<li><a class="reference internal" href="#invalidate-queries">Invalidate Queries</a></li>
<li><a class="reference internal" href="#all-jobs-query">All Jobs Query</a></li>
<li><a class="reference internal" href="#invalidate-jobs">Invalidate Jobs</a></li>
<li><a class="reference internal" href="#edit-job-loader">Edit Job Loader</a></li>
<li><a class="reference internal" href="#axios-interceptors">Axios Interceptors</a></li>
<li><a class="reference internal" href="#security">Security</a></li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">jobify</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Complete App</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/README.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="complete-app">
<h1>Complete App<a class="headerlink" href="#complete-app" title="Link to this heading"></a></h1>
<p><a class="reference external" href="https://jobify.live/">Jobify</a></p>
</section>
<section id="create-react-app">
<h1>Create React APP<a class="headerlink" href="#create-react-app" title="Link to this heading"></a></h1>
<p><a class="reference external" href="https://vitejs.dev/guide/">VITE</a></p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>create<span class="w"> </span>vite@latest<span class="w"> </span>projectName<span class="w"> </span>--<span class="w"> </span>--template<span class="w"> </span>react
</pre></div>
</div>
</section>
<section id="vite-folder-and-file-structure">
<h1>Vite - Folder and File Structure<a class="headerlink" href="#vite-folder-and-file-structure" title="Link to this heading"></a></h1>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>i
</pre></div>
</div>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>run<span class="w"> </span>dev
</pre></div>
</div>
<ul class="simple">
<li><p>APP running on http://localhost:5173/</p></li>
<li><p>.jsx extension</p></li>
</ul>
</section>
<section id="remove-boilerplate">
<h1>Remove Boilerplate<a class="headerlink" href="#remove-boilerplate" title="Link to this heading"></a></h1>
<ul>
<li><p>remove App.css</p></li>
<li><p>remove all code in index.css</p>
<p>App.jsx</p>
</li>
</ul>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">App</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">Jobify</span><span class="w"> </span><span class="nx">App</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;;</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">App</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="project-assets">
<h1>Project Assets<a class="headerlink" href="#project-assets" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>get assets folder from complete project</p></li>
<li><p>copy index.css</p></li>
<li><p>copy/move README.md (steps)</p>
<ul>
<li><p>work independently</p></li>
<li><p>reference</p></li>
<li><p>troubleshoot</p></li>
<li><p>copy</p></li>
</ul>
</li>
</ul>
</section>
<section id="global-styles">
<h1>Global Styles<a class="headerlink" href="#global-styles" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>saves times on the setup</p></li>
<li><p>less lines of css</p></li>
<li><p>speeds up the development</p></li>
<li><p>if any questions about specific styles</p></li>
<li><p>Coding Addict - <a class="reference external" href="https://youtu.be/UDdyGNlQK5w">Default Starter Video</a></p></li>
<li><p>Repo - <a class="reference external" href="https://github.com/john-smilga/default-starter">Default Starter Repo</a></p></li>
</ul>
</section>
<section id="title-and-favicon">
<h1>Title and Favicon<a class="headerlink" href="#title-and-favicon" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>add favicon.ico in public</p></li>
<li><p>change title and favicon in index.html</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;icon&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;image/svg+xml&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/favicon.ico&quot;</span> <span class="p">/&gt;</span>
  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Jobify<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>resource <a class="reference external" href="https://favicon.io/">Generate Favicons</a></p></li>
</ul>
</section>
<section id="install-packages-optional">
<h1>Install Packages (Optional)<a class="headerlink" href="#install-packages-optional" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>yes, specific package versions</p></li>
<li><p>specific commands will be provided later</p></li>
<li><p>won’t need to stop/start server</p></li>
</ul>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>install<span class="w"> </span>@tanstack/react-query@4.29.5<span class="w"> </span>@tanstack/react-query-devtools@4.29.6<span class="w"> </span>axios@1.3.6<span class="w"> </span>dayjs@1.11.7<span class="w"> </span>react-icons@4.8.0<span class="w"> </span>react-router-dom@6.10.0<span class="w"> </span>react-toastify@9.1.2<span class="w"> </span>recharts@2.5.0<span class="w"> </span>styled-components@5.3.10
</pre></div>
</div>
</section>
<section id="router">
<h1>Router<a class="headerlink" href="#router" title="Link to this heading"></a></h1>
<p><a class="reference external" href="https://reactrouter.com/en/main">React Router</a></p>
<ul class="simple">
<li><p>version 6.4 brought significant changes (loader and action)</p></li>
<li><p>pages as independent entities</p></li>
<li><p>less need for global state</p></li>
<li><p>more pages</p></li>
</ul>
</section>
<section id="setup-router">
<h1>Setup Router<a class="headerlink" href="#setup-router" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>all my examples will include version !!!</p></li>
</ul>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>i<span class="w"> </span>react-router-dom@6.10.0
</pre></div>
</div>
<p>App.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">createBrowserRouter</span><span class="p">,</span><span class="w"> </span><span class="nx">RouterProvider</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">router</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createBrowserRouter</span><span class="p">([</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">element</span><span class="o">:</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">home</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;,</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/about&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">element</span><span class="o">:</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="nx">about</span><span class="w"> </span><span class="nx">page</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">]);</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">App</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">RouterProvider</span><span class="w"> </span><span class="na">router</span><span class="o">=</span><span class="p">{</span><span class="nx">router</span><span class="p">}</span><span class="w"> </span><span class="p">/&gt;;</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">App</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="create-pages">
<h1>Create Pages<a class="headerlink" href="#create-pages" title="Link to this heading"></a></h1>
<ul>
<li><p>create src/pages directory</p></li>
<li><p>setup index.js and following pages :</p>
<p>AddJob.jsx
Admin.jsx
AllJobs.jsx
DashboardLayout.jsx
DeleteJob.jsx
EditJob.jsx
Error.jsx
HomeLayout.jsx
Landing.jsx
Login.jsx
Profile.jsx
Register.jsx
Stats.jsx</p>
</li>
</ul>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">AddJob</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">AddJob</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;;</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">AddJob</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="index">
<h1>Index<a class="headerlink" href="#index" title="Link to this heading"></a></h1>
<p>App.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">HomeLayout</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../ pages/HomeLayout&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>pages/index.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">DashboardLayout</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./DashboardLayout&#39;</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">Landing</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./Landing&#39;</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">HomeLayout</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./HomeLayout&#39;</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">Register</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./Register&#39;</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">Login</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./Login&#39;</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="ne">Error</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./Error&#39;</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">Stats</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./Stats&#39;</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">AllJobs</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./AllJobs&#39;</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">AddJob</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./AddJob&#39;</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">EditJob</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./EditJob&#39;</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">Profile</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./Profile&#39;</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">Admin</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./Admin&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>App.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">HomeLayout</span><span class="p">,</span>
<span class="w">  </span><span class="nx">Landing</span><span class="p">,</span>
<span class="w">  </span><span class="nx">Register</span><span class="p">,</span>
<span class="w">  </span><span class="nx">Login</span><span class="p">,</span>
<span class="w">  </span><span class="nx">DashboardLayout</span><span class="p">,</span>
<span class="w">  </span><span class="ne">Error</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./pages&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">router</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createBrowserRouter</span><span class="p">([</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">element</span><span class="o">:</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">HomeLayout</span><span class="w"> </span><span class="p">/&gt;,</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/register&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">element</span><span class="o">:</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">Register</span><span class="w"> </span><span class="p">/&gt;,</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/login&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">element</span><span class="o">:</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">Login</span><span class="w"> </span><span class="p">/&gt;,</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/dashboard&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">element</span><span class="o">:</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">DashboardLayout</span><span class="w"> </span><span class="p">/&gt;,</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">]);</span>
</pre></div>
</div>
</section>
<section id="link-component">
<h1>Link Component<a class="headerlink" href="#link-component" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>navigate around project</p></li>
<li><p>client side routing</p></li>
</ul>
<p>Register.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Link</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Register</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">Register</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">Link</span><span class="w"> </span><span class="na">to</span><span class="o">=</span><span class="s">&#39;/login&#39;</span><span class="p">&gt;</span><span class="nx">Login</span><span class="w"> </span><span class="nx">Page</span><span class="p">&lt;/</span><span class="nt">Link</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Register</span><span class="p">;</span>
</pre></div>
</div>
<p>Login.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Link</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Login</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">Login</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">Link</span><span class="w"> </span><span class="na">to</span><span class="o">=</span><span class="s">&#39;/register&#39;</span><span class="p">&gt;</span><span class="nx">Register</span><span class="w"> </span><span class="nx">Page</span><span class="p">&lt;/</span><span class="nt">Link</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Login</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="nested-routes">
<h1>Nested Routes<a class="headerlink" href="#nested-routes" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>what about Navbar?</p></li>
<li><p>decide on root (parent route)</p></li>
<li><p>make path relative</p></li>
<li><p>for time being only home layout will be visible</p></li>
</ul>
<p>App.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">router</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createBrowserRouter</span><span class="p">([</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">element</span><span class="o">:</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">HomeLayout</span><span class="w"> </span><span class="p">/&gt;,</span>
<span class="w">    </span><span class="nx">children</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;register&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">element</span><span class="o">:</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">Register</span><span class="w"> </span><span class="p">/&gt;,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;login&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">element</span><span class="o">:</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">Login</span><span class="w"> </span><span class="p">/&gt;,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;dashboard&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">element</span><span class="o">:</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">DashboardLayout</span><span class="w"> </span><span class="p">/&gt;,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">]);</span>
</pre></div>
</div>
<p>HomeLayout.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Outlet</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">HomeLayout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;&gt;</span>
<span class="w">      </span><span class="p">{</span><span class="cm">/* add things like Navbar */</span><span class="p">}</span>
<span class="w">      </span><span class="p">{</span><span class="cm">/* &lt;h1&gt;home layout&lt;/h1&gt; */</span><span class="p">}</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">Outlet</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">    </span><span class="p">&lt;/&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">HomeLayout</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="index-home-page">
<h1>Index (Home) Page<a class="headerlink" href="#index-home-page" title="Link to this heading"></a></h1>
<p>App.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">element</span><span class="o">:</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">HomeLayout</span><span class="w"> </span><span class="p">/&gt;,</span>
<span class="w">    </span><span class="nx">children</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">index</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">        </span><span class="nx">element</span><span class="o">:</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">Landing</span><span class="w"> </span><span class="p">/&gt;,</span>
<span class="w">      </span><span class="p">},</span>
<span class="p">...</span>
<span class="w">      </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="error-page">
<h1>Error Page<a class="headerlink" href="#error-page" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>bubbles up</p></li>
</ul>
<p>App.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">element</span><span class="o">:</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">HomeLayout</span><span class="w"> </span><span class="p">/&gt;,</span>
<span class="w">    </span><span class="nx">errorElement</span><span class="o">:</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">Error</span><span class="w"> </span><span class="p">/&gt;,</span>
<span class="w">    </span><span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Error.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Link</span><span class="p">,</span><span class="w"> </span><span class="nx">useRouteError</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="ne">Error</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">error</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useRouteError</span><span class="p">();</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="ne">Error</span><span class="w"> </span><span class="nx">Page</span><span class="w"> </span><span class="o">!!!</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">Link</span><span class="w"> </span><span class="na">to</span><span class="o">=</span><span class="s">&#39;/dashboard&#39;</span><span class="p">&gt;</span><span class="nx">back</span><span class="w"> </span><span class="nx">home</span><span class="p">&lt;/</span><span class="nt">Link</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="ne">Error</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="styled-components">
<h1>Styled Components<a class="headerlink" href="#styled-components" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>CSS in JS</p></li>
<li><p>Styled Components</p></li>
<li><p>have logic and styles in component</p></li>
<li><p>no name collisions</p></li>
<li><p>apply javascript logic</p></li>
<li><p><a class="reference external" href="https://styled-components.com/">Styled Components Docs</a></p></li>
<li><p><a class="reference external" href="https://www.udemy.com/course/styled-components-tutorial-and-project-course/?referralCode=9DABB172FCB2625B663F">Styled Components Course</a></p></li>
</ul>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>install<span class="w"> </span>styled-components@5.3.10
</pre></div>
</div>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">styled</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;styled-components&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">El</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">styled</span><span class="p">.</span><span class="nx">el</span><span class="sb">`</span>
<span class="sb">  // styles go here</span>
<span class="sb">`</span><span class="p">;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>no name collisions, since unique class</p></li>
<li><p>vscode-styled-components extension</p></li>
<li><p>colors and bugs</p></li>
</ul>
<p>Landing.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">styled</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;styled-components&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Landing</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">Landing</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">StyledButton</span><span class="p">&gt;</span><span class="nx">Click</span><span class="w"> </span><span class="nx">Me</span><span class="p">&lt;/</span><span class="nt">StyledButton</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">StyledButton</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">styled</span><span class="p">.</span><span class="nx">button</span><span class="sb">`</span>
<span class="sb">  background-color: red;</span>
<span class="sb">  color: white;</span>
<span class="sb">`</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Landing</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="style-entire-react-component">
<h1>Style Entire React Component<a class="headerlink" href="#style-entire-react-component" title="Link to this heading"></a></h1>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">styled</span><span class="p">.</span><span class="nx">el</span><span class="sb">``</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Component</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Wrapper</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="w"> </span><span class="nx">Component</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Wrapper&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
<ul class="simple">
<li><p>only responsible for styling</p></li>
<li><p>wrappers folder in assets</p></li>
</ul>
<p>Landing.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">styled</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;styled-components&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Landing</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">Wrapper</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">Landing</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;content&#39;</span><span class="p">&gt;</span><span class="nx">some</span><span class="w"> </span><span class="nx">content</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">Wrapper</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">styled</span><span class="p">.</span><span class="nx">div</span><span class="sb">`</span>
<span class="sb">  background-color: red;</span>
<span class="sb">  h1 {</span>
<span class="sb">    color: white;</span>
<span class="sb">  }</span>
<span class="sb">  .content {</span>
<span class="sb">    background-color: blue;</span>
<span class="sb">    color: yellow;</span>
<span class="sb">  }</span>
<span class="sb">`</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Landing</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="landing-page">
<h1>Landing Page<a class="headerlink" href="#landing-page" title="Link to this heading"></a></h1>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">main</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/images/main.svg&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Link</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">logo</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/images/logo.svg&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">styled</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;styled-components&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">Landing</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">StyledWrapper</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">nav</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">img</span><span class="w"> </span><span class="na">src</span><span class="o">=</span><span class="p">{</span><span class="nx">logo</span><span class="p">}</span><span class="w"> </span><span class="na">alt</span><span class="o">=</span><span class="s">&#39;jobify&#39;</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;logo&#39;</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">nav</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;container page&#39;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="cm">/* info */</span><span class="p">}</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;info&#39;</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="w">            </span><span class="nx">job</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span><span class="nx">tracking</span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span><span class="w"> </span><span class="nx">app</span>
<span class="w">          </span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">            </span><span class="nx">I</span><span class="s1">&#39;m baby wayfarers hoodie next level taiyaki brooklyn cliche blue</span>
<span class="s1">            bottle single-origin coffee chia. Aesthetic post-ironic venmo,</span>
<span class="s1">            quinoa lo-fi tote bag adaptogen everyday carry meggings +1 brunch</span>
<span class="s1">            narwhal.</span>
<span class="s1">          &lt;/p&gt;</span>
<span class="s1">          &lt;Link to=&#39;</span><span class="o">/</span><span class="nx">register</span><span class="s1">&#39; className=&#39;</span><span class="nx">btn</span><span class="w"> </span><span class="nx">register</span><span class="o">-</span><span class="nx">link</span><span class="s1">&#39;&gt;</span>
<span class="s1">            Register</span>
<span class="s1">          &lt;/Link&gt;</span>
<span class="s1">          &lt;Link to=&#39;</span><span class="o">/</span><span class="nx">login</span><span class="s1">&#39; className=&#39;</span><span class="nx">btn</span><span class="s1">&#39;&gt;</span>
<span class="s1">            Login / Demo User</span>
<span class="s1">          &lt;/Link&gt;</span>
<span class="s1">        &lt;/div&gt;</span>
<span class="s1">        &lt;img src={main} alt=&#39;</span><span class="nx">job</span><span class="w"> </span><span class="nx">hunt</span><span class="s1">&#39; className=&#39;</span><span class="nx">img</span><span class="w"> </span><span class="nx">main</span><span class="o">-</span><span class="nx">img</span><span class="err">&#39;</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">StyledWrapper</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">StyledWrapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">styled</span><span class="p">.</span><span class="nx">section</span><span class="sb">`</span>
<span class="sb">  nav {</span>
<span class="sb">    width: var(--fluid-width);</span>
<span class="sb">    max-width: var(--max-width);</span>
<span class="sb">    margin: 0 auto;</span>
<span class="sb">    height: var(--nav-height);</span>
<span class="sb">    display: flex;</span>
<span class="sb">    align-items: center;</span>
<span class="sb">  }</span>
<span class="sb">  .page {</span>
<span class="sb">    min-height: calc(100vh - var(--nav-height));</span>
<span class="sb">    display: grid;</span>
<span class="sb">    align-items: center;</span>
<span class="sb">    margin-top: -3rem;</span>
<span class="sb">  }</span>
<span class="sb">  h1 {</span>
<span class="sb">    font-weight: 700;</span>
<span class="sb">    span {</span>
<span class="sb">      color: var(--primary-500);</span>
<span class="sb">    }</span>
<span class="sb">    margin-bottom: 1.5rem;</span>
<span class="sb">  }</span>
<span class="sb">  p {</span>
<span class="sb">    line-height: 2;</span>
<span class="sb">    color: var(--text-secondary-color);</span>
<span class="sb">    margin-bottom: 1.5rem;</span>
<span class="sb">    max-width: 35em;</span>
<span class="sb">  }</span>
<span class="sb">  .register-link {</span>
<span class="sb">    margin-right: 1rem;</span>
<span class="sb">  }</span>
<span class="sb">  .main-img {</span>
<span class="sb">    display: none;</span>
<span class="sb">  }</span>
<span class="sb">  .btn {</span>
<span class="sb">    padding: 0.75rem 1rem;</span>
<span class="sb">  }</span>
<span class="sb">  @media (min-width: 992px) {</span>
<span class="sb">    .page {</span>
<span class="sb">      grid-template-columns: 1fr 400px;</span>
<span class="sb">      column-gap: 3rem;</span>
<span class="sb">    }</span>
<span class="sb">    .main-img {</span>
<span class="sb">      display: block;</span>
<span class="sb">    }</span>
<span class="sb">  }</span>
<span class="sb">`</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Landing</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="assets-wrappers">
<h1>Assets/Wrappers<a class="headerlink" href="#assets-wrappers" title="Link to this heading"></a></h1>
<ul>
<li><p>css optional</p>
<p>Landing.jsx</p>
</li>
</ul>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/LandingPage&#39;</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="logo-component">
<h1>Logo Component<a class="headerlink" href="#logo-component" title="Link to this heading"></a></h1>
<ul>
<li><p>create src/components/Logo.jsx</p></li>
<li><p>import logo and setup component</p></li>
<li><p>in components setup index.js import/export (just like pages)</p></li>
<li><p>replace in Landing</p>
<p>Logo.jsx</p>
</li>
</ul>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">logo</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/images/logo.svg&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Logo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">img</span><span class="w"> </span><span class="na">src</span><span class="o">=</span><span class="p">{</span><span class="nx">logo</span><span class="p">}</span><span class="w"> </span><span class="na">alt</span><span class="o">=</span><span class="s">&#39;jobify&#39;</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;logo&#39;</span><span class="w"> </span><span class="p">/&gt;;</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Logo</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="logo-and-images">
<h1>Logo and Images<a class="headerlink" href="#logo-and-images" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>logo built in Figma</p></li>
<li><p><a class="reference external" href="https://undraw.co/">Cool Images</a></p></li>
</ul>
</section>
<section id="id1">
<h1>Error Page<a class="headerlink" href="#id1" title="Link to this heading"></a></h1>
<p>Error.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Link</span><span class="p">,</span><span class="w"> </span><span class="nx">useRouteError</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">img</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/images/not-found.svg&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/ErrorPage&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="ne">Error</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">error</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useRouteError</span><span class="p">();</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">status</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">404</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">Wrapper</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">img</span><span class="w"> </span><span class="na">src</span><span class="o">=</span><span class="p">{</span><span class="nx">img</span><span class="p">}</span><span class="w"> </span><span class="na">alt</span><span class="o">=</span><span class="s">&#39;not found&#39;</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">Ohh</span><span class="o">!</span><span class="w"> </span><span class="nx">page</span><span class="w"> </span><span class="nx">not</span><span class="w"> </span><span class="nx">found</span><span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="nx">We</span><span class="w"> </span><span class="nx">can</span><span class="s1">&#39;t seem to find the page you&#39;</span><span class="nx">re</span><span class="w"> </span><span class="nx">looking</span><span class="w"> </span><span class="k">for</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">Link</span><span class="w"> </span><span class="na">to</span><span class="o">=</span><span class="s">&#39;/dashboard&#39;</span><span class="p">&gt;</span><span class="nx">back</span><span class="w"> </span><span class="nx">home</span><span class="p">&lt;/</span><span class="nt">Link</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">Wrapper</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">Wrapper</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">something</span><span class="w"> </span><span class="nx">went</span><span class="w"> </span><span class="nx">wrong</span><span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">Wrapper</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="ne">Error</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="error-page-css-optional">
<h1>Error Page CSS (optional)<a class="headerlink" href="#error-page-css-optional" title="Link to this heading"></a></h1>
<p>assets/wrappers/Error.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">styled</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;styled-components&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">styled</span><span class="p">.</span><span class="nx">main</span><span class="sb">`</span>
<span class="sb">  min-height: 100vh;</span>
<span class="sb">  text-align: center;</span>
<span class="sb">  display: flex;</span>
<span class="sb">  align-items: center;</span>
<span class="sb">  justify-content: center;</span>
<span class="sb">  img {</span>
<span class="sb">    width: 90vw;</span>
<span class="sb">    max-width: 600px;</span>
<span class="sb">    display: block;</span>
<span class="sb">    margin-bottom: 2rem;</span>
<span class="sb">    margin-top: -3rem;</span>
<span class="sb">  }</span>
<span class="sb">  h3 {</span>
<span class="sb">    margin-bottom: 0.5rem;</span>
<span class="sb">  }</span>
<span class="sb">  p {</span>
<span class="sb">    line-height: 1.5;</span>
<span class="sb">    margin-top: 0.5rem;</span>
<span class="sb">    margin-bottom: 1rem;</span>
<span class="sb">    color: var(--text-secondary-color);</span>
<span class="sb">  }</span>
<span class="sb">  a {</span>
<span class="sb">    color: var(--primary-500);</span>
<span class="sb">    text-transform: capitalize;</span>
<span class="sb">  }</span>
<span class="sb">`</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Wrapper</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="register-page">
<h1>Register Page<a class="headerlink" href="#register-page" title="Link to this heading"></a></h1>
<p>Register.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Logo</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/RegisterAndLoginPage&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Link</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Register</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">Wrapper</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">form</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;form&#39;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">Logo</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">h4</span><span class="p">&gt;</span><span class="nx">Register</span><span class="p">&lt;/</span><span class="nt">h4</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;form-row&#39;</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">label</span><span class="w"> </span><span class="na">htmlFor</span><span class="o">=</span><span class="s">&#39;name&#39;</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;form-label&#39;</span><span class="p">&gt;</span>
<span class="w">            </span><span class="nx">name</span>
<span class="w">          </span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">input</span>
<span class="w">            </span><span class="na">type</span><span class="o">=</span><span class="s">&#39;text&#39;</span>
<span class="w">            </span><span class="na">id</span><span class="o">=</span><span class="s">&#39;name&#39;</span>
<span class="w">            </span><span class="na">name</span><span class="o">=</span><span class="s">&#39;name&#39;</span>
<span class="w">            </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;form-input&#39;</span>
<span class="w">            </span><span class="na">defaultValue</span><span class="o">=</span><span class="s">&#39;john&#39;</span>
<span class="w">            </span><span class="na">required</span>
<span class="w">          </span><span class="p">/&gt;</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="w">        </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">type</span><span class="o">=</span><span class="s">&#39;submit&#39;</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;btn btn-block&#39;</span><span class="p">&gt;</span>
<span class="w">          </span><span class="nx">submit</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">          </span><span class="nx">Already</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">member</span><span class="o">?</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">Link</span><span class="w"> </span><span class="na">to</span><span class="o">=</span><span class="s">&#39;/login&#39;</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;member-btn&#39;</span><span class="p">&gt;</span>
<span class="w">            </span><span class="nx">Login</span>
<span class="w">          </span><span class="p">&lt;/</span><span class="nt">Link</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">Wrapper</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Register</span><span class="p">;</span>
</pre></div>
</div>
<ul>
<li><p>required attribute</p>
<p>In HTML, the “required” attribute is used to indicate that a form input field must be filled out before the form can be submitted. It is typically applied to input elements such as text fields, checkboxes, and radio buttons. When the “required” attribute is added to an input element, the browser will prevent form submission if the field is left empty, providing a validation message to prompt the user to enter the required information.</p>
</li>
<li><p>default value</p></li>
</ul>
<p>In React, the defaultValue prop is used to set the initial or default value of an input component. It is similar to the value attribute in HTML, but with a slightly different behavior.</p>
</section>
<section id="formrow-component">
<h1>FormRow Component<a class="headerlink" href="#formrow-component" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>create components/FormRow.jsx (export/import)</p></li>
</ul>
<p>FormRow.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">FormRow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">type</span><span class="p">,</span><span class="w"> </span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">labelText</span><span class="p">,</span><span class="w"> </span><span class="nx">defaultValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;form-row&#39;</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">label</span><span class="w"> </span><span class="na">htmlFor</span><span class="o">=</span><span class="p">{</span><span class="nx">name</span><span class="p">}</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;form-label&#39;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="nx">labelText</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">name</span><span class="p">}</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">input</span>
<span class="w">        </span><span class="na">type</span><span class="o">=</span><span class="p">{</span><span class="nx">type</span><span class="p">}</span>
<span class="w">        </span><span class="na">id</span><span class="o">=</span><span class="p">{</span><span class="nx">name</span><span class="p">}</span>
<span class="w">        </span><span class="na">name</span><span class="o">=</span><span class="p">{</span><span class="nx">name</span><span class="p">}</span>
<span class="w">        </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;form-input&#39;</span>
<span class="w">        </span><span class="na">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="nx">defaultValue</span><span class="p">}</span>
<span class="w">        </span><span class="na">required</span>
<span class="w">      </span><span class="p">/&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">FormRow</span><span class="p">;</span>
</pre></div>
</div>
<p>Register.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Logo</span><span class="p">,</span><span class="w"> </span><span class="nx">FormRow</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/RegisterAndLoginPage&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Link</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Register</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">Wrapper</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">form</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;form&#39;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">Logo</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">h4</span><span class="p">&gt;</span><span class="nx">Register</span><span class="p">&lt;/</span><span class="nt">h4</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">FormRow</span><span class="w"> </span><span class="na">type</span><span class="o">=</span><span class="s">&#39;text&#39;</span><span class="w"> </span><span class="na">name</span><span class="o">=</span><span class="s">&#39;name&#39;</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">FormRow</span><span class="w"> </span><span class="na">type</span><span class="o">=</span><span class="s">&#39;text&#39;</span><span class="w"> </span><span class="na">name</span><span class="o">=</span><span class="s">&#39;lastName&#39;</span><span class="w"> </span><span class="na">labelText</span><span class="o">=</span><span class="s">&#39;last name&#39;</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">FormRow</span><span class="w"> </span><span class="na">type</span><span class="o">=</span><span class="s">&#39;text&#39;</span><span class="w"> </span><span class="na">name</span><span class="o">=</span><span class="s">&#39;location&#39;</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">FormRow</span><span class="w"> </span><span class="na">type</span><span class="o">=</span><span class="s">&#39;email&#39;</span><span class="w"> </span><span class="na">name</span><span class="o">=</span><span class="s">&#39;email&#39;</span><span class="w"> </span><span class="p">/&gt;</span>

<span class="w">        </span><span class="p">&lt;</span><span class="nt">FormRow</span><span class="w"> </span><span class="na">type</span><span class="o">=</span><span class="s">&#39;password&#39;</span><span class="w"> </span><span class="na">name</span><span class="o">=</span><span class="s">&#39;password&#39;</span><span class="w"> </span><span class="p">/&gt;</span>

<span class="w">        </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">type</span><span class="o">=</span><span class="s">&#39;submit&#39;</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;btn btn-block&#39;</span><span class="p">&gt;</span>
<span class="w">          </span><span class="nx">submit</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">          </span><span class="nx">Already</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">member</span><span class="o">?</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">Link</span><span class="w"> </span><span class="na">to</span><span class="o">=</span><span class="s">&#39;/login&#39;</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;member-btn&#39;</span><span class="p">&gt;</span>
<span class="w">            </span><span class="nx">Login</span>
<span class="w">          </span><span class="p">&lt;/</span><span class="nt">Link</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">Wrapper</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Register</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="login-page">
<h1>Login Page<a class="headerlink" href="#login-page" title="Link to this heading"></a></h1>
<p>Login Page</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Logo</span><span class="p">,</span><span class="w"> </span><span class="nx">FormRow</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/RegisterAndLoginPage&#39;</span><span class="p">;</span>

<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Link</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Login</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">Wrapper</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">form</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;form&#39;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">Logo</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">h4</span><span class="p">&gt;</span><span class="nx">Login</span><span class="p">&lt;/</span><span class="nt">h4</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">FormRow</span><span class="w"> </span><span class="na">type</span><span class="o">=</span><span class="s">&#39;email&#39;</span><span class="w"> </span><span class="na">name</span><span class="o">=</span><span class="s">&#39;email&#39;</span><span class="w"> </span><span class="na">defaultValue</span><span class="o">=</span><span class="s">&#39;john@gmail.com&#39;</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">FormRow</span><span class="w"> </span><span class="na">type</span><span class="o">=</span><span class="s">&#39;password&#39;</span><span class="w"> </span><span class="na">name</span><span class="o">=</span><span class="s">&#39;password&#39;</span><span class="w"> </span><span class="na">defaultValue</span><span class="o">=</span><span class="s">&#39;secret123&#39;</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">type</span><span class="o">=</span><span class="s">&#39;submit&#39;</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;btn btn-block&#39;</span><span class="p">&gt;</span>
<span class="w">          </span><span class="nx">submit</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">type</span><span class="o">=</span><span class="s">&#39;button&#39;</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;btn btn-block&#39;</span><span class="p">&gt;</span>
<span class="w">          </span><span class="nx">explore</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">app</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">          </span><span class="nx">Not</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">member</span><span class="w"> </span><span class="nx">yet</span><span class="o">?</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">Link</span><span class="w"> </span><span class="na">to</span><span class="o">=</span><span class="s">&#39;/register&#39;</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;member-btn&#39;</span><span class="p">&gt;</span>
<span class="w">            </span><span class="nx">Register</span>
<span class="w">          </span><span class="p">&lt;/</span><span class="nt">Link</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">Wrapper</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Login</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="register-and-login-css-optional">
<h1>Register and Login CSS (optional)<a class="headerlink" href="#register-and-login-css-optional" title="Link to this heading"></a></h1>
<p>assets/wrappers/RegisterAndLoginPage.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">styled</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;styled-components&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">styled</span><span class="p">.</span><span class="nx">section</span><span class="sb">`</span>
<span class="sb">  min-height: 100vh;</span>
<span class="sb">  display: grid;</span>
<span class="sb">  align-items: center;</span>
<span class="sb">  .logo {</span>
<span class="sb">    display: block;</span>
<span class="sb">    margin: 0 auto;</span>
<span class="sb">    margin-bottom: 1.38rem;</span>
<span class="sb">  }</span>
<span class="sb">  .form {</span>
<span class="sb">    max-width: 400px;</span>
<span class="sb">    border-top: 5px solid var(--primary-500);</span>
<span class="sb">  }</span>

<span class="sb">  h4 {</span>
<span class="sb">    text-align: center;</span>
<span class="sb">    margin-bottom: 1.38rem;</span>
<span class="sb">  }</span>
<span class="sb">  p {</span>
<span class="sb">    margin-top: 1rem;</span>
<span class="sb">    text-align: center;</span>
<span class="sb">    line-height: 1.5;</span>
<span class="sb">  }</span>
<span class="sb">  .btn {</span>
<span class="sb">    margin-top: 1rem;</span>
<span class="sb">  }</span>
<span class="sb">  .member-btn {</span>
<span class="sb">    color: var(--primary-500);</span>
<span class="sb">    letter-spacing: var(--letter-spacing);</span>
<span class="sb">    margin-left: 0.25rem;</span>
<span class="sb">  }</span>
<span class="sb">`</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Wrapper</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="dashboard-pages">
<h1>Dashboard Pages<a class="headerlink" href="#dashboard-pages" title="Link to this heading"></a></h1>
<p>App.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;dashboard&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">element</span><span class="o">:</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">DashboardLayout</span><span class="w"> </span><span class="p">/&gt;,</span>
<span class="w">        </span><span class="nx">children</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nx">index</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">            </span><span class="nx">element</span><span class="o">:</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">AddJob</span><span class="w"> </span><span class="p">/&gt;,</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span><span class="w"> </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;stats&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">element</span><span class="o">:</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">Stats</span><span class="w"> </span><span class="p">/&gt;</span><span class="w"> </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;all-jobs&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">element</span><span class="o">:</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">AllJobs</span><span class="w"> </span><span class="p">/&gt;,</span>
<span class="w">          </span><span class="p">},</span>

<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;profile&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">element</span><span class="o">:</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">Profile</span><span class="w"> </span><span class="p">/&gt;,</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;admin&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">element</span><span class="o">:</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">Admin</span><span class="w"> </span><span class="p">/&gt;,</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">      </span><span class="p">},</span>
</pre></div>
</div>
<p>Dashboard.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Outlet</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">DashboardLayout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">Outlet</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">DashboardLayout</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="navbar-bigsidebar-and-smallsidebar">
<h1>Navbar, BigSidebar and SmallSidebar<a class="headerlink" href="#navbar-bigsidebar-and-smallsidebar" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>in components create :
Navbar.jsx
BigSidebar.jsx
SmallSidebar.jsx</p></li>
</ul>
<p>DashboardLayout.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Outlet</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>

<span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/Dashboard&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Navbar</span><span class="p">,</span><span class="w"> </span><span class="nx">BigSidebar</span><span class="p">,</span><span class="w"> </span><span class="nx">SmallSidebar</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Dashboard</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">Wrapper</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">main</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;dashboard&#39;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">SmallSidebar</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">BigSidebar</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">Navbar</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;dashboard-page&#39;</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">Outlet</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">          </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">Wrapper</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Dashboard</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="dashboard-layout-css-optional">
<h1>Dashboard Layout - CSS (optional)<a class="headerlink" href="#dashboard-layout-css-optional" title="Link to this heading"></a></h1>
<p>assets/wrappers/DashboardLayout.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">styled</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;styled-components&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">styled</span><span class="p">.</span><span class="nx">section</span><span class="sb">`</span>
<span class="sb">  .dashboard {</span>
<span class="sb">    display: grid;</span>
<span class="sb">    grid-template-columns: 1fr;</span>
<span class="sb">  }</span>
<span class="sb">  .dashboard-page {</span>
<span class="sb">    width: 90vw;</span>
<span class="sb">    margin: 0 auto;</span>
<span class="sb">    padding: 2rem 0;</span>
<span class="sb">  }</span>
<span class="sb">  @media (min-width: 992px) {</span>
<span class="sb">    .dashboard {</span>
<span class="sb">      grid-template-columns: auto 1fr;</span>
<span class="sb">    }</span>
<span class="sb">    .dashboard-page {</span>
<span class="sb">      width: 90%;</span>
<span class="sb">    }</span>
<span class="sb">  }</span>
<span class="sb">`</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Wrapper</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="dashboard-context">
<h1>Dashboard Context<a class="headerlink" href="#dashboard-context" title="Link to this heading"></a></h1>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Outlet</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>

<span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/Dashboard&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Navbar</span><span class="p">,</span><span class="w"> </span><span class="nx">BigSidebar</span><span class="p">,</span><span class="w"> </span><span class="nx">SmallSidebar</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components&#39;</span><span class="p">;</span>

<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useState</span><span class="p">,</span><span class="w"> </span><span class="nx">createContext</span><span class="p">,</span><span class="w"> </span><span class="nx">useContext</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">DashboardContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createContext</span><span class="p">();</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">Dashboard</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// temp</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;john&#39;</span><span class="w"> </span><span class="p">};</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">showSidebar</span><span class="p">,</span><span class="w"> </span><span class="nx">setShowSidebar</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">isDarkTheme</span><span class="p">,</span><span class="w"> </span><span class="nx">setIsDarkTheme</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">toggleDarkTheme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;toggle dark theme&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">toggleSidebar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setShowSidebar</span><span class="p">(</span><span class="o">!</span><span class="nx">showSidebar</span><span class="p">);</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">logoutUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;logout user&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">};</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">DashboardContext</span><span class="p">.</span><span class="na">Provider</span>
<span class="w">      </span><span class="na">value</span><span class="o">=</span><span class="p">{{</span>
<span class="w">        </span><span class="nx">user</span><span class="p">,</span>
<span class="w">        </span><span class="nx">showSidebar</span><span class="p">,</span>
<span class="w">        </span><span class="nx">isDarkTheme</span><span class="p">,</span>
<span class="w">        </span><span class="nx">toggleDarkTheme</span><span class="p">,</span>
<span class="w">        </span><span class="nx">toggleSidebar</span><span class="p">,</span>
<span class="w">        </span><span class="nx">logoutUser</span><span class="p">,</span>
<span class="w">      </span><span class="p">}}</span>
<span class="w">    </span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">Wrapper</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">main</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;dashboard&#39;</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">SmallSidebar</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">BigSidebar</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">Navbar</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;dashboard-page&#39;</span><span class="p">&gt;</span>
<span class="w">              </span><span class="p">&lt;</span><span class="nt">Outlet</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">            </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">Wrapper</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">DashboardContext</span><span class="p">.</span><span class="na">Provider</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">useDashboardContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">useContext</span><span class="p">(</span><span class="nx">DashboardContext</span><span class="p">);</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Dashboard</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="react-icons">
<h1>React Icons<a class="headerlink" href="#react-icons" title="Link to this heading"></a></h1>
<p><a class="reference external" href="https://react-icons.github.io/react-icons/">React Icons</a></p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>install<span class="w"> </span>react-icons@4.8.0
</pre></div>
</div>
<p>Navbar.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="nx">FaHome</span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-icons/fa&#39;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">Navbar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="nx">navbar</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">FaHome</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="navbar-initial-setup">
<h1>Navbar - Initial Setup<a class="headerlink" href="#navbar-initial-setup" title="Link to this heading"></a></h1>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/Navbar&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">FaAlignLeft</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-icons/fa&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Logo</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./Logo&#39;</span><span class="p">;</span>

<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useDashboardContext</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../pages/DashboardLayout&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">Navbar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">toggleSidebar</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useDashboardContext</span><span class="p">();</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">Wrapper</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;nav-center&#39;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">type</span><span class="o">=</span><span class="s">&#39;button&#39;</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;toggle-btn&#39;</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">toggleSidebar</span><span class="p">}&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">FaAlignLeft</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">Logo</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">h4</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;logo-text&#39;</span><span class="p">&gt;</span><span class="nx">dashboard</span><span class="p">&lt;/</span><span class="nt">h4</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;btn-container&#39;</span><span class="p">&gt;</span><span class="nx">toggle</span><span class="o">/</span><span class="nx">logout</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">Wrapper</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Navbar</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="navbar-css-optional">
<h1>Navbar CSS (optional)<a class="headerlink" href="#navbar-css-optional" title="Link to this heading"></a></h1>
<p>assets/wrappers/Navbar.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">styled</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;styled-components&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">styled</span><span class="p">.</span><span class="nx">nav</span><span class="sb">`</span>
<span class="sb">  height: var(--nav-height);</span>
<span class="sb">  display: flex;</span>
<span class="sb">  align-items: center;</span>
<span class="sb">  justify-content: center;</span>
<span class="sb">  box-shadow: 0 1px 0px 0px rgba(0, 0, 0, 0.1);</span>
<span class="sb">  background: var(--background-secondary-color);</span>
<span class="sb">  .logo {</span>
<span class="sb">    display: flex;</span>
<span class="sb">    align-items: center;</span>
<span class="sb">    width: 100px;</span>
<span class="sb">  }</span>
<span class="sb">  .nav-center {</span>
<span class="sb">    display: flex;</span>
<span class="sb">    width: 90vw;</span>
<span class="sb">    align-items: center;</span>
<span class="sb">    justify-content: space-between;</span>
<span class="sb">  }</span>
<span class="sb">  .toggle-btn {</span>
<span class="sb">    background: transparent;</span>
<span class="sb">    border-color: transparent;</span>
<span class="sb">    font-size: 1.75rem;</span>
<span class="sb">    color: var(--primary-500);</span>
<span class="sb">    cursor: pointer;</span>
<span class="sb">    display: flex;</span>
<span class="sb">    align-items: center;</span>
<span class="sb">  }</span>
<span class="sb">  .btn-container {</span>
<span class="sb">    display: flex;</span>
<span class="sb">    align-items: center;</span>
<span class="sb">  }</span>

<span class="sb">  .logo-text {</span>
<span class="sb">    display: none;</span>
<span class="sb">  }</span>
<span class="sb">  @media (min-width: 992px) {</span>
<span class="sb">    position: sticky;</span>
<span class="sb">    top: 0;</span>

<span class="sb">    .nav-center {</span>
<span class="sb">      width: 90%;</span>
<span class="sb">    }</span>
<span class="sb">    .logo {</span>
<span class="sb">      display: none;</span>
<span class="sb">    }</span>
<span class="sb">    .logo-text {</span>
<span class="sb">      display: block;</span>
<span class="sb">    }</span>
<span class="sb">  }</span>
<span class="sb">`</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Wrapper</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="links">
<h1>Links<a class="headerlink" href="#links" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>create src/utils/links.jsx</p></li>
</ul>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">IoBarChartSharp</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-icons/io5&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">MdQueryStats</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-icons/md&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">FaWpforms</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-icons/fa&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ImProfile</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-icons/im&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">MdAdminPanelSettings</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-icons/md&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">links</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;add job&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;.&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">icon</span><span class="o">:</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">FaWpforms</span><span class="w"> </span><span class="p">/&gt;</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;all jobs&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;all-jobs&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">icon</span><span class="o">:</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">MdQueryStats</span><span class="w"> </span><span class="p">/&gt;</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;stats&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;stats&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">icon</span><span class="o">:</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">IoBarChartSharp</span><span class="w"> </span><span class="p">/&gt;</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;profile&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;profile&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">icon</span><span class="o">:</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">ImProfile</span><span class="w"> </span><span class="p">/&gt;</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;admin&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;admin&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">icon</span><span class="o">:</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">MdAdminPanelSettings</span><span class="w"> </span><span class="p">/&gt;</span><span class="w"> </span><span class="p">},</span>
<span class="p">];</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">links</span><span class="p">;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>in a second, we will discuss why ‘.’ in “add job”</p></li>
</ul>
</section>
<section id="smallsidebar">
<h1>SmallSidebar<a class="headerlink" href="#smallsidebar" title="Link to this heading"></a></h1>
<p>SmallSidebar</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/SmallSidebar&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">FaTimes</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-icons/fa&#39;</span><span class="p">;</span>

<span class="k">import</span><span class="w"> </span><span class="nx">Logo</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./Logo&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">NavLink</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">links</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../utils/links&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useDashboardContext</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../pages/DashboardLayout&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">SmallSidebar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">showSidebar</span><span class="p">,</span><span class="w"> </span><span class="nx">toggleSidebar</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useDashboardContext</span><span class="p">();</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">Wrapper</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span>
<span class="w">        </span><span class="na">className</span><span class="o">=</span><span class="p">{</span>
<span class="w">          </span><span class="nx">showSidebar</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;sidebar-container show-sidebar&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;sidebar-container&#39;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;content&#39;</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">type</span><span class="o">=</span><span class="s">&#39;button&#39;</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;close-btn&#39;</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">toggleSidebar</span><span class="p">}&gt;</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">FaTimes</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">          </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">header</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">Logo</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">          </span><span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;nav-links&#39;</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">{</span><span class="nx">links</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">link</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">text</span><span class="p">,</span><span class="w"> </span><span class="nx">path</span><span class="p">,</span><span class="w"> </span><span class="nx">icon</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">link</span><span class="p">;</span>

<span class="w">              </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">                </span><span class="p">&lt;</span><span class="nt">NavLink</span>
<span class="w">                  </span><span class="na">to</span><span class="o">=</span><span class="p">{</span><span class="nx">path</span><span class="p">}</span>
<span class="w">                  </span><span class="na">key</span><span class="o">=</span><span class="p">{</span><span class="nx">text</span><span class="p">}</span>
<span class="w">                  </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;nav-link&#39;</span>
<span class="w">                  </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">toggleSidebar</span><span class="p">}</span>
<span class="w">                  </span><span class="err">//</span><span class="w"> </span><span class="na">will</span><span class="w"> </span><span class="na">discuss</span><span class="w"> </span><span class="na">in</span><span class="w"> </span><span class="na">a</span><span class="w"> </span><span class="na">second</span>
<span class="w">                  </span><span class="na">end</span>
<span class="w">                </span><span class="p">&gt;</span>
<span class="w">                  </span><span class="p">&lt;</span><span class="nt">span</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;icon&#39;</span><span class="p">&gt;{</span><span class="nx">icon</span><span class="p">}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="w">                  </span><span class="p">{</span><span class="nx">text</span><span class="p">}</span>
<span class="w">                </span><span class="p">&lt;/</span><span class="nt">NavLink</span><span class="p">&gt;</span>
<span class="w">              </span><span class="p">);</span>
<span class="w">            </span><span class="p">})}</span>
<span class="w">          </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">Wrapper</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">SmallSidebar</span><span class="p">;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>cover ‘.’ path ,active class and ‘end’ prop</p></li>
</ul>
</section>
<section id="small-sidebar-css-optional">
<h1>Small Sidebar CSS (optional)<a class="headerlink" href="#small-sidebar-css-optional" title="Link to this heading"></a></h1>
<p>assets/wrappers/SmallSidebar.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">styled</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;styled-components&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">styled</span><span class="p">.</span><span class="nx">aside</span><span class="sb">`</span>
<span class="sb">  @media (min-width: 992px) {</span>
<span class="sb">    display: none;</span>
<span class="sb">  }</span>
<span class="sb">  .sidebar-container {</span>
<span class="sb">    position: fixed;</span>
<span class="sb">    inset: 0;</span>
<span class="sb">    background: rgba(0, 0, 0, 0.7);</span>
<span class="sb">    display: flex;</span>
<span class="sb">    justify-content: center;</span>
<span class="sb">    align-items: center;</span>
<span class="sb">    z-index: -1;</span>
<span class="sb">    opacity: 0;</span>
<span class="sb">    transition: var(--transition);</span>
<span class="sb">    visibility: hidden;</span>
<span class="sb">  }</span>
<span class="sb">  .show-sidebar {</span>
<span class="sb">    z-index: 99;</span>
<span class="sb">    opacity: 1;</span>
<span class="sb">    visibility: visible;</span>
<span class="sb">  }</span>
<span class="sb">  .content {</span>
<span class="sb">    background: var(--background-secondary-color);</span>
<span class="sb">    width: var(--fluid-width);</span>
<span class="sb">    height: 95vh;</span>
<span class="sb">    border-radius: var(--border-radius);</span>
<span class="sb">    padding: 4rem 2rem;</span>
<span class="sb">    position: relative;</span>
<span class="sb">    display: flex;</span>
<span class="sb">    align-items: center;</span>
<span class="sb">    flex-direction: column;</span>
<span class="sb">  }</span>
<span class="sb">  .close-btn {</span>
<span class="sb">    position: absolute;</span>
<span class="sb">    top: 10px;</span>
<span class="sb">    left: 10px;</span>
<span class="sb">    background: transparent;</span>
<span class="sb">    border-color: transparent;</span>
<span class="sb">    font-size: 2rem;</span>
<span class="sb">    color: var(--red-dark);</span>
<span class="sb">    cursor: pointer;</span>
<span class="sb">  }</span>
<span class="sb">  .nav-links {</span>
<span class="sb">    padding-top: 2rem;</span>
<span class="sb">    display: flex;</span>
<span class="sb">    flex-direction: column;</span>
<span class="sb">  }</span>
<span class="sb">  .nav-link {</span>
<span class="sb">    display: flex;</span>
<span class="sb">    align-items: center;</span>
<span class="sb">    color: var(--text-secondary-color);</span>
<span class="sb">    padding: 1rem 0;</span>
<span class="sb">    text-transform: capitalize;</span>
<span class="sb">    transition: var(--transition);</span>
<span class="sb">  }</span>
<span class="sb">  .nav-link:hover {</span>
<span class="sb">    color: var(--primary-500);</span>
<span class="sb">  }</span>

<span class="sb">  .icon {</span>
<span class="sb">    font-size: 1.5rem;</span>
<span class="sb">    margin-right: 1rem;</span>
<span class="sb">    display: grid;</span>
<span class="sb">    place-items: center;</span>
<span class="sb">  }</span>
<span class="sb">  .active {</span>
<span class="sb">    color: var(--primary-500);</span>
<span class="sb">  }</span>
<span class="sb">`</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Wrapper</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="navlinks">
<h1>NavLinks<a class="headerlink" href="#navlinks" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>components/NavLinks.jsx</p></li>
</ul>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useDashboardContext</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../pages/DashboardLayout&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">links</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../utils/links&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">NavLink</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">NavLinks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">user</span><span class="p">,</span><span class="w"> </span><span class="nx">toggleSidebar</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useDashboardContext</span><span class="p">();</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;nav-links&#39;</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">{</span><span class="nx">links</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">link</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">text</span><span class="p">,</span><span class="w"> </span><span class="nx">path</span><span class="p">,</span><span class="w"> </span><span class="nx">icon</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">link</span><span class="p">;</span>
<span class="w">        </span><span class="c1">// admin user</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">NavLink</span>
<span class="w">            </span><span class="na">to</span><span class="o">=</span><span class="p">{</span><span class="nx">path</span><span class="p">}</span>
<span class="w">            </span><span class="na">key</span><span class="o">=</span><span class="p">{</span><span class="nx">text</span><span class="p">}</span>
<span class="w">            </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">toggleSidebar</span><span class="p">}</span>
<span class="w">            </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;nav-link&#39;</span>
<span class="w">            </span><span class="na">end</span>
<span class="w">          </span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">span</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;icon&#39;</span><span class="p">&gt;{</span><span class="nx">icon</span><span class="p">}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">{</span><span class="nx">text</span><span class="p">}</span>
<span class="w">          </span><span class="p">&lt;/</span><span class="nt">NavLink</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">})}</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">NavLinks</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="big-sidebar">
<h1>Big Sidebar<a class="headerlink" href="#big-sidebar" title="Link to this heading"></a></h1>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">NavLinks</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./NavLinks&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Logo</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components/Logo&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/BigSidebar&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useDashboardContext</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../pages/DashboardLayout&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">BigSidebar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">showSidebar</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useDashboardContext</span><span class="p">();</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">Wrapper</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span>
<span class="w">        </span><span class="na">className</span><span class="o">=</span><span class="p">{</span>
<span class="w">          </span><span class="nx">showSidebar</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;sidebar-container &#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;sidebar-container show-sidebar&#39;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;content&#39;</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">header</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">Logo</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">          </span><span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">NavLinks</span><span class="w"> </span><span class="na">isBigSidebar</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">Wrapper</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">BigSidebar</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">NavLinks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">isBigSidebar</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">user</span><span class="p">,</span><span class="w"> </span><span class="nx">toggleSidebar</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useDashboardContext</span><span class="p">();</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;nav-links&#39;</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">{</span><span class="nx">links</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">link</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">text</span><span class="p">,</span><span class="w"> </span><span class="nx">path</span><span class="p">,</span><span class="w"> </span><span class="nx">icon</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">link</span><span class="p">;</span>
<span class="w">        </span><span class="c1">// admin user</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">NavLink</span>
<span class="w">            </span><span class="na">to</span><span class="o">=</span><span class="p">{</span><span class="nx">path</span><span class="p">}</span>
<span class="w">            </span><span class="na">key</span><span class="o">=</span><span class="p">{</span><span class="nx">text</span><span class="p">}</span>
<span class="w">            </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">isBigSidebar</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nx">toggleSidebar</span><span class="p">}</span>
<span class="w">            </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;nav-link&#39;</span>
<span class="w">            </span><span class="na">end</span>
<span class="w">          </span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">span</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;icon&#39;</span><span class="p">&gt;{</span><span class="nx">icon</span><span class="p">}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">{</span><span class="nx">text</span><span class="p">}</span>
<span class="w">          </span><span class="p">&lt;/</span><span class="nt">NavLink</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">})}</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">NavLinks</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="bigsidebar-css-optional">
<h1>BigSidebar CSS (optional)<a class="headerlink" href="#bigsidebar-css-optional" title="Link to this heading"></a></h1>
<p>assets/wrappers/BigSidebar.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">styled</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;styled-components&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">styled</span><span class="p">.</span><span class="nx">aside</span><span class="sb">`</span>
<span class="sb">  display: none;</span>
<span class="sb">  @media (min-width: 992px) {</span>
<span class="sb">    display: block;</span>
<span class="sb">    box-shadow: 1px 0px 0px 0px rgba(0, 0, 0, 0.1);</span>
<span class="sb">    .sidebar-container {</span>
<span class="sb">      background: var(--background-secondary-color);</span>
<span class="sb">      min-height: 100vh;</span>
<span class="sb">      height: 100%;</span>
<span class="sb">      width: 250px;</span>
<span class="sb">      margin-left: -250px;</span>
<span class="sb">      transition: margin-left 0.3s ease-in-out;</span>
<span class="sb">    }</span>
<span class="sb">    .content {</span>
<span class="sb">      position: sticky;</span>
<span class="sb">      top: 0;</span>
<span class="sb">    }</span>
<span class="sb">    .show-sidebar {</span>
<span class="sb">      margin-left: 0;</span>
<span class="sb">    }</span>
<span class="sb">    header {</span>
<span class="sb">      height: 6rem;</span>
<span class="sb">      display: flex;</span>
<span class="sb">      align-items: center;</span>
<span class="sb">      padding-left: 2.5rem;</span>
<span class="sb">    }</span>
<span class="sb">    .nav-links {</span>
<span class="sb">      padding-top: 2rem;</span>
<span class="sb">      display: flex;</span>
<span class="sb">      flex-direction: column;</span>
<span class="sb">    }</span>
<span class="sb">    .nav-link {</span>
<span class="sb">      display: flex;</span>
<span class="sb">      align-items: center;</span>
<span class="sb">      color: var(--text-secondary-color);</span>
<span class="sb">      padding: 1rem 0;</span>
<span class="sb">      padding-left: 2.5rem;</span>
<span class="sb">      text-transform: capitalize;</span>
<span class="sb">      transition: padding-left 0.3s ease-in-out;</span>
<span class="sb">    }</span>
<span class="sb">    .nav-link:hover {</span>
<span class="sb">      padding-left: 3rem;</span>
<span class="sb">      color: var(--primary-500);</span>
<span class="sb">      transition: var(--transition);</span>
<span class="sb">    }</span>

<span class="sb">    .icon {</span>
<span class="sb">      font-size: 1.5rem;</span>
<span class="sb">      margin-right: 1rem;</span>
<span class="sb">      display: grid;</span>
<span class="sb">      place-items: center;</span>
<span class="sb">    }</span>
<span class="sb">    .active {</span>
<span class="sb">      color: var(--primary-500);</span>
<span class="sb">    }</span>
<span class="sb">  }</span>
<span class="sb">`</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Wrapper</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="logoutcontainer">
<h1>LogoutContainer<a class="headerlink" href="#logoutcontainer" title="Link to this heading"></a></h1>
<p>components/LogoutContainer.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">FaUserCircle</span><span class="p">,</span><span class="w"> </span><span class="nx">FaCaretDown</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-icons/fa&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/LogoutContainer&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useState</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useDashboardContext</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../pages/DashboardLayout&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">LogoutContainer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">showLogout</span><span class="p">,</span><span class="w"> </span><span class="nx">setShowLogout</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">user</span><span class="p">,</span><span class="w"> </span><span class="nx">logoutUser</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useDashboardContext</span><span class="p">();</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">Wrapper</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">button</span>
<span class="w">        </span><span class="na">type</span><span class="o">=</span><span class="s">&#39;button&#39;</span>
<span class="w">        </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;btn logout-btn&#39;</span>
<span class="w">        </span><span class="na">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setShowLogout</span><span class="p">(</span><span class="o">!</span><span class="nx">showLogout</span><span class="p">)}</span>
<span class="w">      </span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="nx">user</span><span class="p">.</span><span class="nx">avatar</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="p">(</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">img</span><span class="w"> </span><span class="na">src</span><span class="o">=</span><span class="p">{</span><span class="nx">user</span><span class="p">.</span><span class="nx">avatar</span><span class="p">}</span><span class="w"> </span><span class="na">alt</span><span class="o">=</span><span class="s">&#39;avatar&#39;</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;img&#39;</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">        </span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">(</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">FaUserCircle</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">        </span><span class="p">)}</span>

<span class="w">        </span><span class="p">{</span><span class="nx">user</span><span class="o">?</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">FaCaretDown</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="p">{</span><span class="nx">showLogout</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;dropdown show-dropdown&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;dropdown&#39;</span><span class="p">}&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">type</span><span class="o">=</span><span class="s">&#39;button&#39;</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;dropdown-btn&#39;</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">logoutUser</span><span class="p">}&gt;</span>
<span class="w">          </span><span class="nx">logout</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">Wrapper</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">LogoutContainer</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="logoutcontainer-css-optional">
<h1>LogoutContainer CSS (optional)<a class="headerlink" href="#logoutcontainer-css-optional" title="Link to this heading"></a></h1>
<p>assets/wrappers/LogoutContainer.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">styled</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;styled-components&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">styled</span><span class="p">.</span><span class="nx">div</span><span class="sb">`</span>
<span class="sb">  position: relative;</span>

<span class="sb">  .logout-btn {</span>
<span class="sb">    display: flex;</span>
<span class="sb">    align-items: center;</span>
<span class="sb">    justify-content: center;</span>
<span class="sb">    gap: 0 0.5rem;</span>
<span class="sb">  }</span>
<span class="sb">  .img {</span>
<span class="sb">    width: 25px;</span>
<span class="sb">    height: 25px;</span>
<span class="sb">    border-radius: 50%;</span>
<span class="sb">  }</span>
<span class="sb">  .dropdown {</span>
<span class="sb">    position: absolute;</span>
<span class="sb">    top: 45px;</span>
<span class="sb">    left: 0;</span>
<span class="sb">    width: 100%;</span>
<span class="sb">    box-shadow: var(--shadow-2);</span>
<span class="sb">    text-align: center;</span>
<span class="sb">    visibility: hidden;</span>
<span class="sb">    border-radius: var(--border-radius);</span>
<span class="sb">    background: var(--primary-500);</span>
<span class="sb">  }</span>
<span class="sb">  .show-dropdown {</span>
<span class="sb">    visibility: visible;</span>
<span class="sb">  }</span>
<span class="sb">  .dropdown-btn {</span>
<span class="sb">    border-radius: var(--border-radius);</span>
<span class="sb">    padding: 0.5rem;</span>
<span class="sb">    background: transparent;</span>
<span class="sb">    border-color: transparent;</span>
<span class="sb">    color: var(--white);</span>
<span class="sb">    letter-spacing: var(--letter-spacing);</span>
<span class="sb">    text-transform: capitalize;</span>
<span class="sb">    cursor: pointer;</span>
<span class="sb">    width: 100%;</span>
<span class="sb">    height: 100%;</span>
<span class="sb">  }</span>
<span class="sb">`</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Wrapper</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="themetoggle">
<h1>ThemeToggle<a class="headerlink" href="#themetoggle" title="Link to this heading"></a></h1>
<p>components/ThemeToggle.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">BsFillSunFill</span><span class="p">,</span><span class="w"> </span><span class="nx">BsFillMoonFill</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-icons/bs&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/ThemeToggle&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useDashboardContext</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../pages/DashboardLayout&#39;</span><span class="p">;</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">isDarkTheme</span><span class="p">,</span><span class="w"> </span><span class="nx">toggleDarkTheme</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useDashboardContext</span><span class="p">();</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">Wrapper</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">toggleDarkTheme</span><span class="p">}&gt;</span>
<span class="w">      </span><span class="p">{</span><span class="nx">isDarkTheme</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">BsFillSunFill</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;toggle-icon&#39;</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">      </span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">BsFillMoonFill</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;toggle-icon&#39;</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">      </span><span class="p">)}</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">Wrapper</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">ThemeToggle</span><span class="p">;</span>
</pre></div>
</div>
<p>Navbar.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;btn-container&#39;</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">&lt;</span><span class="nt">ThemeToggle</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
<section id="themetoggle-css-optional">
<h1>ThemeToggle CSS (optional)<a class="headerlink" href="#themetoggle-css-optional" title="Link to this heading"></a></h1>
<p>assets/wrappers/ThemeToggle.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">styled</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;styled-components&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">styled</span><span class="p">.</span><span class="nx">div</span><span class="sb">`</span>
<span class="sb">  background: transparent;</span>
<span class="sb">  border-color: transparent;</span>
<span class="sb">  width: 3.5rem;</span>
<span class="sb">  height: 2rem;</span>
<span class="sb">  display: grid;</span>
<span class="sb">  place-items: center;</span>
<span class="sb">  cursor: pointer;</span>

<span class="sb">  .toggle-icon {</span>
<span class="sb">    font-size: 1.15rem;</span>
<span class="sb">    color: var(--text-color);</span>
<span class="sb">  }</span>
<span class="sb">`</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Wrapper</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="dark-theme-logic">
<h1>Dark Theme - Logic<a class="headerlink" href="#dark-theme-logic" title="Link to this heading"></a></h1>
<p>DashboardLayout.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">toggleDarkTheme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">newDarkTheme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">!</span><span class="nx">isDarkTheme</span><span class="p">;</span>
<span class="w">  </span><span class="nx">setIsDarkTheme</span><span class="p">(</span><span class="nx">newDarkTheme</span><span class="p">);</span>
<span class="w">  </span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">toggle</span><span class="p">(</span><span class="s1">&#39;dark-theme&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">newDarkTheme</span><span class="p">);</span>
<span class="w">  </span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s1">&#39;darkTheme&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">newDarkTheme</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="access-theme">
<h1>Access Theme<a class="headerlink" href="#access-theme" title="Link to this heading"></a></h1>
<p>App.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">checkDefaultTheme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">isDarkTheme</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="s1">&#39;darkTheme&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;true&#39;</span>
<span class="w">  </span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">toggle</span><span class="p">(</span><span class="s1">&#39;dark-theme&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">isDarkTheme</span><span class="p">);</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">isDarkTheme</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">isDarkThemeEnabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">checkDefaultTheme</span><span class="p">();</span>

<span class="p">{</span>
<span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;dashboard&#39;</span><span class="p">,</span>
<span class="nx">element</span><span class="o">:</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">DashboardLayout</span><span class="w"> </span><span class="na">isDarkThemeEnabled</span><span class="o">=</span><span class="p">{</span><span class="nx">isDarkThemeEnabled</span><span class="p">}</span><span class="w"> </span><span class="p">/&gt;,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>DashboardLayout.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">Dashboard</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">isDarkThemeEnabled</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">isDarkTheme</span><span class="p">,</span><span class="w"> </span><span class="nx">setIsDarkTheme</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="nx">isDarkThemeEnabled</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="dark-theme-css">
<h1>Dark Theme CSS<a class="headerlink" href="#dark-theme-css" title="Link to this heading"></a></h1>
<p>index.css</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="p">:</span><span class="nd">root</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c">/* DARK MODE */</span>

<span class="w">  </span><span class="nv">--dark-mode-bg-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#333</span><span class="p">;</span>
<span class="w">  </span><span class="nv">--dark-mode-text-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#f0f0f0</span><span class="p">;</span>
<span class="w">  </span><span class="nv">--dark-mode-bg-secondary-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#3f3f3f</span><span class="p">;</span>
<span class="w">  </span><span class="nv">--dark-mode-text-secondary-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--grey-</span><span class="mi">300</span><span class="p">);</span>

<span class="w">  </span><span class="nv">--background-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--grey-</span><span class="mi">50</span><span class="p">);</span>
<span class="w">  </span><span class="nv">--text-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--grey-</span><span class="mi">900</span><span class="p">);</span>
<span class="w">  </span><span class="nv">--background-secondary-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--white</span><span class="p">);</span>
<span class="w">  </span><span class="nv">--text-secondary-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--grey-</span><span class="mi">500</span><span class="p">);</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">dark-theme</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nv">--text-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--dark-mode-text-color</span><span class="p">);</span>
<span class="w">  </span><span class="nv">--background-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--dark-mode-bg-color</span><span class="p">);</span>
<span class="w">  </span><span class="nv">--text-secondary-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--dark-mode-text-secondary-color</span><span class="p">);</span>
<span class="w">  </span><span class="nv">--background-secondary-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--dark-mode-bg-secondary-color</span><span class="p">);</span>
<span class="p">}</span>

<span class="nt">body</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">background</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--background-color</span><span class="p">);</span>
<span class="w">  </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--text-color</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="folder-setup">
<h1>Folder Setup<a class="headerlink" href="#folder-setup" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>IMPORTANT !!!!</p></li>
<li><p>remove existing .git folder (if any) from client</p></li>
</ul>
<p>Mac</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>rm<span class="w"> </span>-rf<span class="w"> </span>.git
</pre></div>
</div>
<p>Windows</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>rmdir<span class="w"> </span>-Force<span class="w"> </span>-Recurse<span class="w"> </span>.git
</pre></div>
</div>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>rd<span class="w"> </span>/s<span class="w"> </span>/q<span class="w"> </span>.git
</pre></div>
</div>
<ul class="simple">
<li><p>Windows commands were shared by students and I have not personally tested them.</p></li>
<li><p>git status should return :
“fatal: Not a git repository (or any of the parent directories): .git”</p></li>
<li><p>create jobify directory</p></li>
<li><p>copy/paste client</p></li>
<li><p>move README to root</p></li>
</ul>
</section>
<section id="setup-server">
<h1>Setup Server<a class="headerlink" href="#setup-server" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>create package.json</p></li>
</ul>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>init<span class="w"> </span>-y
</pre></div>
</div>
<ul class="simple">
<li><p>create and test server.js</p></li>
</ul>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>node<span class="w"> </span>server
</pre></div>
</div>
</section>
<section id="es6-modules">
<h1>ES6 Modules<a class="headerlink" href="#es6-modules" title="Link to this heading"></a></h1>
<p>package.json</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;module&quot;</span><span class="p">,</span>
</pre></div>
</div>
<p>Create test.js and implement named import</p>
<p>test.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">42</span><span class="p">;</span>
</pre></div>
</div>
<p>server.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">value</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./test.js&#39;</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
</pre></div>
</div>
<ul class="simple">
<li><p>don’t forget about .js extension</p></li>
<li><p>for named imports, names must match</p></li>
</ul>
</section>
<section id="source-control">
<h1>Source Control<a class="headerlink" href="#source-control" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>create .gitignore</p></li>
<li><p>copy values from client/.gitignore</p></li>
<li><p>create Github Repo (optional)</p></li>
</ul>
</section>
<section id="install-packages-and-setup-install-script">
<h1>Install Packages and Setup Install Script<a class="headerlink" href="#install-packages-and-setup-install-script" title="Link to this heading"></a></h1>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>install<span class="w"> </span>bcryptjs@2.4.3<span class="w"> </span>concurrently@8.0.1<span class="w"> </span>cookie-parser@1.4.6<span class="w"> </span>dayjs@1.11.7<span class="w"> </span>dotenv@16.0.3<span class="w"> </span>express@4.18.2<span class="w"> </span>express-async-errors@3.1.1<span class="w"> </span>express-validator@7.0.1<span class="w"> </span>http-status-codes@2.2.0<span class="w"> </span>jsonwebtoken@9.0.0<span class="w"> </span>mongoose@7.0.5<span class="w"> </span>morgan@1.10.0<span class="w"> </span>multer@1.4.5-lts.1<span class="w"> </span>nanoid@4.0.2<span class="w"> </span>nodemon@2.0.22<span class="w"> </span>cloudinary@1.37.3<span class="w"> </span>dayjs@1.11.9<span class="w"> </span>datauri@4.1.0<span class="w"> </span>helmet@7.0.0<span class="w"> </span>express-rate-limit@6.8.0<span class="w"> </span>express-mongo-sanitize@2.2.0
</pre></div>
</div>
<p>package.json</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="nt">&quot;scripts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;setup-project&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;npm i &amp;&amp; cd client &amp;&amp; npm i&quot;</span>
<span class="w">  </span><span class="p">},</span>
</pre></div>
</div>
<ul class="simple">
<li><p>install packages in root and client</p></li>
</ul>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>run<span class="w"> </span>setup-project
</pre></div>
</div>
</section>
<section id="setup-basic-express">
<h1>Setup Basic Express<a class="headerlink" href="#setup-basic-express" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>install express and nodemon.</p></li>
<li><p>setup a basic server which listening on PORT=5100</p></li>
<li><p>create a basic home route which sends back “hello world”</p></li>
<li><p>setup a script with nodemon package.</p></li>
</ul>
<p><a class="reference external" href="https://expressjs.com/">Express Docs</a></p>
<p>Express is a fast and minimalist web application framework for Node.js. It simplifies the process of building web applications by providing a robust set of features for handling HTTP requests, routing, middleware, and more. Express allows you to create server-side applications and APIs easily, with a focus on simplicity and flexibility.</p>
<p><a class="reference external" href="https://nodemon.io/">Nodemon Docs</a></p>
<p>Nodemon is a development tool that improves the developer experience. It monitors your Node.js application for any changes in the code and automatically restarts the server whenever a change is detected. This eliminates the need to manually restart the server after every code modification, making the development process more efficient and productive. Nodemon is commonly used during development to save time and avoid the hassle of manual server restarts.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>i<span class="w"> </span>express@4.18.2<span class="w"> </span>nodemon@2.0.22
</pre></div>
</div>
<p>server.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">express</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;express&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">app</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">express</span><span class="p">();</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">&#39;Hello World&#39;</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="mf">5100</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;server running....&#39;</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</div>
<p>package.json</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="nt">&quot;scripts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;dev&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;nodemon server.js&quot;</span>
<span class="w">  </span><span class="p">},</span>
</pre></div>
</div>
</section>
<section id="thunder-client">
<h1>Thunder Client<a class="headerlink" href="#thunder-client" title="Link to this heading"></a></h1>
<p>Thunder Client is a popular Visual Studio Code extension that facilitates API testing and debugging. It provides a user-friendly interface for making HTTP requests and viewing the responses, allowing developers to easily test APIs, examine headers, and inspect JSON/XML payloads. Thunder Client offers features such as environment variables, request history, and the ability to save and organize requests for efficient development workflows.</p>
<p><a class="reference external" href="https://www.thunderclient.com/">Thunder Client</a></p>
<ul class="simple">
<li><p>install and test home route</p></li>
</ul>
</section>
<section id="accept-json">
<h1>Accept JSON<a class="headerlink" href="#accept-json" title="Link to this heading"></a></h1>
<p>Setup express middleware to accept json</p>
<p>server</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">express</span><span class="p">.</span><span class="nx">json</span><span class="p">());</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">req</span><span class="p">);</span>

<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Data received&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="w"> </span><span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
</section>
<section id="morgan-and-dotenv">
<h1>Morgan and Dotenv<a class="headerlink" href="#morgan-and-dotenv" title="Link to this heading"></a></h1>
<p><a class="reference external" href="https://www.npmjs.com/package/morgan">Morgan</a></p>
<p>HTTP request logger middleware for node.js</p>
<p><a class="reference external" href="https://www.npmjs.com/package/dotenv">Dotenv</a></p>
<p>Dotenv is a zero-dependency module that loads environment variables from a .env file into process.env.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>i<span class="w"> </span>morgan@1.10.0<span class="w"> </span>dotenv@16.0.3
</pre></div>
</div>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">morgan</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;morgan&#39;</span><span class="p">;</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">morgan</span><span class="p">(</span><span class="s1">&#39;dev&#39;</span><span class="p">));</span>
</pre></div>
</div>
<ul class="simple">
<li><p>create .env file in the root</p></li>
<li><p>add PORT and NODE_ENV</p></li>
<li><p>add .env to .gitignore</p></li>
</ul>
<p>server.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">dotenv</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;dotenv&#39;</span><span class="p">;</span>
<span class="nx">dotenv</span><span class="p">.</span><span class="nx">config</span><span class="p">();</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">NODE_ENV</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;development&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">morgan</span><span class="p">(</span><span class="s1">&#39;dev&#39;</span><span class="p">));</span>
<span class="p">}</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">PORT</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="mf">5100</span><span class="p">;</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="nx">port</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`server running on PORT </span><span class="si">${</span><span class="nx">port</span><span class="si">}</span><span class="sb">....`</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</div>
</section>
<section id="new-features">
<h1>New Features<a class="headerlink" href="#new-features" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>fetch API</p></li>
<li><p>global await (top-level await)</p></li>
<li><p>watch mode</p></li>
</ul>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span>
<span class="w">    </span><span class="s1">&#39;https://www.course-api.com/react-useReducer-cart-project&#39;</span>
<span class="w">  </span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">cartData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">cartData</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>package.json</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="nt">&quot;scripts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;watch&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;node --watch server.js &quot;</span>
<span class="w">  </span><span class="p">},</span>
</pre></div>
</div>
</section>
<section id="basic-crud">
<h1>Basic CRUD<a class="headerlink" href="#basic-crud" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>create jobs array where each item is an object with following properties
id, company, position</p></li>
<li><p>create routes to handle - create, read, update and delete functionalities</p></li>
</ul>
</section>
<section id="get-all-jobs">
<h1>Get All Jobs<a class="headerlink" href="#get-all-jobs" title="Link to this heading"></a></h1>
<p><a class="reference external" href="https://www.npmjs.com/package/nanoid">Nanoid</a></p>
<p>The nanoid package is a software library used for generating unique and compact identifiers in web applications or databases. It creates short and URL-safe IDs by combining random characters from a set of 64 characters. Nanoid is a popular choice due to its simplicity, efficiency, and collision-resistant nature.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>i<span class="w"> </span>nanoid@4.0.2
</pre></div>
</div>
<p>server.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">nanoid</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;nanoid&#39;</span><span class="p">;</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">jobs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="nx">nanoid</span><span class="p">(),</span><span class="w"> </span><span class="nx">company</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;apple&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">position</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;front-end&#39;</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="nx">nanoid</span><span class="p">(),</span><span class="w"> </span><span class="nx">company</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;google&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">position</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;back-end&#39;</span><span class="w"> </span><span class="p">},</span>
<span class="p">];</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/api/v1/jobs&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">200</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">jobs</span><span class="w"> </span><span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
</section>
<section id="create-findone-modify-and-delete">
<h1>Create, FindOne, Modify and Delete<a class="headerlink" href="#create-findone-modify-and-delete" title="Link to this heading"></a></h1>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="c1">// CREATE JOB</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/api/v1/jobs&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">company</span><span class="p">,</span><span class="w"> </span><span class="nx">position</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">company</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="nx">position</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">400</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;please provide company and position&#39;</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">nanoid</span><span class="p">(</span><span class="mf">10</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// console.log(id);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="p">,</span><span class="w"> </span><span class="nx">company</span><span class="p">,</span><span class="w"> </span><span class="nx">position</span><span class="w"> </span><span class="p">};</span>
<span class="w">  </span><span class="nx">jobs</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">job</span><span class="p">);</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">200</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="p">});</span>
<span class="p">});</span>

<span class="c1">// GET SINGLE JOB</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/api/v1/jobs/:id&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">;</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">jobs</span><span class="p">.</span><span class="nx">find</span><span class="p">((</span><span class="nx">job</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">job</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">id</span><span class="p">);</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">job</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">404</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="sb">`no job with id </span><span class="si">${</span><span class="nx">id</span><span class="si">}</span><span class="sb">`</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">200</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="p">});</span>
<span class="p">});</span>

<span class="c1">// EDIT JOB</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">patch</span><span class="p">(</span><span class="s1">&#39;/api/v1/jobs/:id&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">company</span><span class="p">,</span><span class="w"> </span><span class="nx">position</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">company</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="nx">position</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">400</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;please provide company and position&#39;</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">;</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">jobs</span><span class="p">.</span><span class="nx">find</span><span class="p">((</span><span class="nx">job</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">job</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">id</span><span class="p">);</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">job</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">404</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="sb">`no job with id </span><span class="si">${</span><span class="nx">id</span><span class="si">}</span><span class="sb">`</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nx">job</span><span class="p">.</span><span class="nx">company</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">company</span><span class="p">;</span>
<span class="w">  </span><span class="nx">job</span><span class="p">.</span><span class="nx">position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">position</span><span class="p">;</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">200</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;job modified&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="p">});</span>
<span class="p">});</span>

<span class="c1">// DELETE JOB</span>

<span class="nx">app</span><span class="p">.</span><span class="ow">delete</span><span class="p">(</span><span class="s1">&#39;/api/v1/jobs/:id&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">;</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">jobs</span><span class="p">.</span><span class="nx">find</span><span class="p">((</span><span class="nx">job</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">job</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">id</span><span class="p">);</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">job</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">404</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="sb">`no job with id </span><span class="si">${</span><span class="nx">id</span><span class="si">}</span><span class="sb">`</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">newJobs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">jobs</span><span class="p">.</span><span class="nx">filter</span><span class="p">((</span><span class="nx">job</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">job</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="nx">id</span><span class="p">);</span>
<span class="w">  </span><span class="nx">jobs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">newJobs</span><span class="p">;</span>

<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">200</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;job deleted&#39;</span><span class="w"> </span><span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
</section>
<section id="not-found-middleware">
<h1>Not Found Middleware<a class="headerlink" href="#not-found-middleware" title="Link to this heading"></a></h1>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">404</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;not found&#39;</span><span class="w"> </span><span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
</section>
<section id="error-middleware">
<h1>Error Middleware<a class="headerlink" href="#error-middleware" title="Link to this heading"></a></h1>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">((</span><span class="nx">err</span><span class="p">,</span><span class="w"> </span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">,</span><span class="w"> </span><span class="nx">next</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">500</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;something went wrong&#39;</span><span class="w"> </span><span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
</section>
<section id="not-found-and-error-middleware">
<h1>Not Found and Error Middleware<a class="headerlink" href="#not-found-and-error-middleware" title="Link to this heading"></a></h1>
<p>The “not found” middleware in Express.js is used when a request is made to a route that does not exist. It catches these requests and responds with a 404 status code, indicating that the requested resource was not found.</p>
<p>On the other hand, the “error” middleware in Express.js is used to handle any errors that occur during the processing of a request. It is typically used to catch unexpected errors or exceptions that are not explicitly handled in the application code. It logs the error and sends a 500 status code, indicating an internal server error.</p>
<p>In summary, the “not found” middleware is specifically designed to handle requests for non-existent routes, while the “error” middleware is a catch-all for handling unexpected errors that occur during request processing.</p>
<ul class="simple">
<li><p>make a request to “/jobss”</p></li>
</ul>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="c1">// GET ALL JOBS</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/api/v1/jobs&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// console.log(jobss);</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">200</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">jobs</span><span class="w"> </span><span class="p">});</span>
<span class="p">});</span>

<span class="c1">// GET SINGLE JOB</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/api/v1/jobs/:id&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">;</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">jobs</span><span class="p">.</span><span class="nx">find</span><span class="p">((</span><span class="nx">job</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">job</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">id</span><span class="p">);</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">job</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="s1">&#39;no job with that id&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">404</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="sb">`no job with id </span><span class="si">${</span><span class="nx">id</span><span class="si">}</span><span class="sb">`</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">200</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
</section>
<section id="controller-and-router">
<h1>Controller and Router<a class="headerlink" href="#controller-and-router" title="Link to this heading"></a></h1>
<p>setup controllers and router</p>
<p>controllers/jobController.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">nanoid</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;nanoid&#39;</span><span class="p">;</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">jobs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="nx">nanoid</span><span class="p">(),</span><span class="w"> </span><span class="nx">company</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;apple&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">position</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;front-end developer&#39;</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="nx">nanoid</span><span class="p">(),</span><span class="w"> </span><span class="nx">company</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;google&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">position</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;back-end developer&#39;</span><span class="w"> </span><span class="p">},</span>
<span class="p">];</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">getAllJobs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">200</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">jobs</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">createJob</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">company</span><span class="p">,</span><span class="w"> </span><span class="nx">position</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">company</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="nx">position</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">400</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;please provide company and position&#39;</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">nanoid</span><span class="p">(</span><span class="mf">10</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="p">,</span><span class="w"> </span><span class="nx">company</span><span class="p">,</span><span class="w"> </span><span class="nx">position</span><span class="w"> </span><span class="p">};</span>
<span class="w">  </span><span class="nx">jobs</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">job</span><span class="p">);</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">200</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">getJob</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">;</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">jobs</span><span class="p">.</span><span class="nx">find</span><span class="p">((</span><span class="nx">job</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">job</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">id</span><span class="p">);</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">job</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// throw new Error(&#39;no job with that id&#39;);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">404</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="sb">`no job with id </span><span class="si">${</span><span class="nx">id</span><span class="si">}</span><span class="sb">`</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">200</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">updateJob</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">company</span><span class="p">,</span><span class="w"> </span><span class="nx">position</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">company</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="nx">position</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">400</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;please provide company and position&#39;</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">;</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">jobs</span><span class="p">.</span><span class="nx">find</span><span class="p">((</span><span class="nx">job</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">job</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">id</span><span class="p">);</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">job</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">404</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="sb">`no job with id </span><span class="si">${</span><span class="nx">id</span><span class="si">}</span><span class="sb">`</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nx">job</span><span class="p">.</span><span class="nx">company</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">company</span><span class="p">;</span>
<span class="w">  </span><span class="nx">job</span><span class="p">.</span><span class="nx">position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">position</span><span class="p">;</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">200</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;job modified&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">deleteJob</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">;</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">jobs</span><span class="p">.</span><span class="nx">find</span><span class="p">((</span><span class="nx">job</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">job</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">id</span><span class="p">);</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">job</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">404</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="sb">`no job with id </span><span class="si">${</span><span class="nx">id</span><span class="si">}</span><span class="sb">`</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">newJobs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">jobs</span><span class="p">.</span><span class="nx">filter</span><span class="p">((</span><span class="nx">job</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">job</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="nx">id</span><span class="p">);</span>
<span class="w">  </span><span class="nx">jobs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">newJobs</span><span class="p">;</span>

<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">200</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;job deleted&#39;</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>
</pre></div>
</div>
<p>routes/jobRouter.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Router</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;express&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">router</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Router</span><span class="p">();</span>

<span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">getAllJobs</span><span class="p">,</span>
<span class="w">  </span><span class="nx">getJob</span><span class="p">,</span>
<span class="w">  </span><span class="nx">createJob</span><span class="p">,</span>
<span class="w">  </span><span class="nx">updateJob</span><span class="p">,</span>
<span class="w">  </span><span class="nx">deleteJob</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../controllers/jobController.js&#39;</span><span class="p">;</span>

<span class="c1">// router.get(&#39;/&#39;, getAllJobs);</span>
<span class="c1">// router.post(&#39;/&#39;, createJob);</span>

<span class="nx">router</span><span class="p">.</span><span class="nx">route</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">).</span><span class="nx">get</span><span class="p">(</span><span class="nx">getAllJobs</span><span class="p">).</span><span class="nx">post</span><span class="p">(</span><span class="nx">createJob</span><span class="p">);</span>
<span class="nx">router</span><span class="p">.</span><span class="nx">route</span><span class="p">(</span><span class="s1">&#39;/:id&#39;</span><span class="p">).</span><span class="nx">get</span><span class="p">(</span><span class="nx">getJob</span><span class="p">).</span><span class="nx">patch</span><span class="p">(</span><span class="nx">updateJob</span><span class="p">).</span><span class="ow">delete</span><span class="p">(</span><span class="nx">deleteJob</span><span class="p">);</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">router</span><span class="p">;</span>
</pre></div>
</div>
<p>server.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">jobRouter</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./routers/jobRouter.js&#39;</span><span class="p">;</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">&#39;/api/v1/jobs&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">jobRouter</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="mongodb">
<h1>MongoDB<a class="headerlink" href="#mongodb" title="Link to this heading"></a></h1>
<p><a class="reference external" href="https://www.mongodb.com/">MongoDb</a></p>
<p>MongoDB is a popular NoSQL database that provides a flexible and scalable approach to storing and retrieving data. It uses a document-oriented model, where data is organized into collections of JSON-like documents. MongoDB offers high performance, horizontal scalability, and easy integration with modern development frameworks, making it suitable for handling diverse data types and handling large-scale applications.</p>
<p>MongoDB Atlas is a fully managed cloud database service provided by MongoDB, offering automated deployment, scaling, and monitoring of MongoDB clusters, allowing developers to focus on building their applications without worrying about infrastructure management.</p>
</section>
<section id="mongoosejs">
<h1>Mongoosejs<a class="headerlink" href="#mongoosejs" title="Link to this heading"></a></h1>
<p><a class="reference external" href="https://mongoosejs.com/">Mongoose</a></p>
<p>Mongoose is an Object Data Modeling (ODM) library for Node.js that provides a straightforward and elegant way to interact with MongoDB. It allows developers to define schemas and models for their data, providing structure and validation. Mongoose also offers features like data querying, middleware, and support for data relationships, making it a powerful tool for building MongoDB-based applications.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>i<span class="w"> </span>mongoose@7.0.5
</pre></div>
</div>
<p>server.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">mongoose</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;mongoose&#39;</span><span class="p">;</span>

<span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">await</span><span class="w"> </span><span class="nx">mongoose</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">MONGO_URL</span><span class="p">);</span>
<span class="w">  </span><span class="nx">app</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="nx">port</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`server running on PORT </span><span class="si">${</span><span class="nx">port</span><span class="si">}</span><span class="sb">....`</span><span class="p">);</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="w">  </span><span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mf">1</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="job-model">
<h1>Job Model<a class="headerlink" href="#job-model" title="Link to this heading"></a></h1>
<p>models/JobModel.js</p>
<p>enum - data type represents a field with a predefined set of values</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">mongoose</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;mongoose&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">JobSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">mongoose</span><span class="p">.</span><span class="nx">Schema</span><span class="p">(</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">company</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">    </span><span class="nx">position</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">    </span><span class="nx">jobStatus</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">      </span><span class="kr">enum</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;interview&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;declined&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;pending&#39;</span><span class="p">],</span>
<span class="w">      </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;pending&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">jobType</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">      </span><span class="kr">enum</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;full-time&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;part-time&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;internship&#39;</span><span class="p">],</span>
<span class="w">      </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;full-time&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">jobLocation</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">      </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;my city&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">timestamps</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span>
<span class="p">);</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">mongoose</span><span class="p">.</span><span class="nx">model</span><span class="p">(</span><span class="s1">&#39;Job&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">JobSchema</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="create-job">
<h1>Create Job<a class="headerlink" href="#create-job" title="Link to this heading"></a></h1>
<p>jobController.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">Job</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../models/JobModel.js&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">createJob</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">company</span><span class="p">,</span><span class="w"> </span><span class="nx">position</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">Job</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span><span class="w"> </span><span class="nx">company</span><span class="p">,</span><span class="w"> </span><span class="nx">position</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">201</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="try-catch">
<h1>Try / Catch<a class="headerlink" href="#try-catch" title="Link to this heading"></a></h1>
<p>jobController.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">createJob</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">company</span><span class="p">,</span><span class="w"> </span><span class="nx">position</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">Job</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="s1">&#39;something&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">201</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">500</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;server error&#39;</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="express-async-errors">
<h1>express-async-errors<a class="headerlink" href="#express-async-errors" title="Link to this heading"></a></h1>
<p>The “express-async-errors” package is an Express.js middleware that helps handle errors that occur within asynchronous functions. It catches unhandled errors inside async/await functions and forwards them to Express.js’s error handling middleware, preventing the Node.js process from crashing. It simplifies error handling in Express.js applications by allowing you to write asynchronous code without worrying about manually catching and forwarding errors.</p>
<p><a class="reference external" href="https://www.npmjs.com/package/express-async-errors">Express Async Errors</a></p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>i<span class="w"> </span>express-async-errors@3.1.1
</pre></div>
</div>
<ul>
<li><p>setup import at the top !!!</p>
<p>server.js</p>
</li>
</ul>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;express-async-errors&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>jobController.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">createJob</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">company</span><span class="p">,</span><span class="w"> </span><span class="nx">position</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">Job</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span><span class="w"> </span><span class="nx">company</span><span class="p">,</span><span class="w"> </span><span class="nx">position</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">201</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="id2">
<h1>Get All Jobs<a class="headerlink" href="#id2" title="Link to this heading"></a></h1>
<p>jobController.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">getAllJobs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">jobs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">Job</span><span class="p">.</span><span class="nx">find</span><span class="p">({});</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">200</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">jobs</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="get-single-job">
<h1>Get Single Job<a class="headerlink" href="#get-single-job" title="Link to this heading"></a></h1>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">getJob</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">;</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">Job</span><span class="p">.</span><span class="nx">findById</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">job</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">404</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="sb">`no job with id </span><span class="si">${</span><span class="nx">id</span><span class="si">}</span><span class="sb">`</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">200</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="delete-job">
<h1>Delete Job<a class="headerlink" href="#delete-job" title="Link to this heading"></a></h1>
<p>jobController.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">deleteJob</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">;</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">removedJob</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">Job</span><span class="p">.</span><span class="nx">findByIdAndDelete</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">removedJob</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">404</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="sb">`no job with id </span><span class="si">${</span><span class="nx">id</span><span class="si">}</span><span class="sb">`</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">200</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">job</span><span class="o">:</span><span class="w"> </span><span class="nx">removedJob</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="update-job">
<h1>Update Job<a class="headerlink" href="#update-job" title="Link to this heading"></a></h1>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">updateJob</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">;</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">updatedJob</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">Job</span><span class="p">.</span><span class="nx">findByIdAndUpdate</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="ow">new</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">updatedJob</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">404</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="sb">`no job with id </span><span class="si">${</span><span class="nx">id</span><span class="si">}</span><span class="sb">`</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">200</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">job</span><span class="o">:</span><span class="w"> </span><span class="nx">updatedJob</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="status-codes">
<h1>Status Codes<a class="headerlink" href="#status-codes" title="Link to this heading"></a></h1>
<p>A library for HTTP status codes is useful because it provides a comprehensive and standardized set of codes that represent the outcome of HTTP requests. It allows developers to easily understand and handle different scenarios during web development, such as successful responses, client or server errors, redirects, and more. By using a status code library, developers can ensure consistent and reliable communication between servers and clients, leading to better error handling and improved user experience.</p>
<p><a class="reference external" href="https://www.npmjs.com/package/http-status-codes">Http Status Codes</a></p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>i<span class="w"> </span>http-status-codes@2.2.0
</pre></div>
</div>
<p>200 OK OK
201 CREATED Created</p>
<p>400 BAD_REQUEST Bad Request
401 UNAUTHORIZED Unauthorized</p>
<p>403 FORBIDDEN Forbidden
404 NOT_FOUND Not Found</p>
<p>500 INTERNAL_SERVER_ERROR Internal Server Error</p>
<ul class="simple">
<li><p>refactor 200 response in all controllers</p></li>
</ul>
<p>jobController.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="nx">StatusCodes</span><span class="p">.</span><span class="nx">OK</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">jobs</span><span class="w"> </span><span class="p">});</span>
</pre></div>
</div>
<p>createJob</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="nx">StatusCodes</span><span class="p">.</span><span class="nx">CREATED</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="p">});</span>
</pre></div>
</div>
</section>
<section id="custom-error-class">
<h1>Custom Error Class<a class="headerlink" href="#custom-error-class" title="Link to this heading"></a></h1>
<p>jobController</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">getJob</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="p">....</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">job</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="s1">&#39;no job with that id&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// return res.status(404).json({ msg: `no job with id ${id}` });</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="p">...</span>
<span class="p">};</span>
</pre></div>
</div>
<p>errors/customErrors.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">StatusCodes</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;http-status-codes&#39;</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">NotFoundError</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="ne">Error</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">message</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">super</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;NotFoundError&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">statusCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">StatusCodes</span><span class="p">.</span><span class="nx">NOT_FOUND</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This code defines a custom error class NotFoundError that extends the built-in Error class in JavaScript. The NotFoundError class is designed to be used when a requested resource is not found, and it includes a status code of 404 to indicate this.</p>
<p>Here’s a breakdown of the code:</p>
<p>class NotFoundError extends Error: This line defines a new class NotFoundError that extends the built-in Error class. This means that NotFoundError inherits all of the properties and methods of the Error class, and can also define its own properties and methods.</p>
<p>constructor(message): This is the constructor method for the NotFoundError class, which is called when a new instance of the class is created. The message parameter is the error message that will be displayed when the error is thrown.</p>
<p>super(message): This line calls the constructor of the Error class and passes the message parameter to it. This sets the error message for the NotFoundError instance.</p>
<p>this.name = “NotFoundError”: This line sets the name property of the NotFoundError instance to “NotFoundError”. This is a built-in property of the Error class that specifies the name of the error.</p>
<p>this.statusCode = 404: This line sets the statusCode property of the NotFoundError instance to 404. This is a custom property that is specific to the NotFoundError class and indicates the HTTP status code that should be returned when this error occurs.</p>
<p>By creating a custom error class like NotFoundError, you can provide more specific error messages and properties to help with debugging and error handling in your application.</p>
</section>
<section id="custom-error">
<h1>Custom Error<a class="headerlink" href="#custom-error" title="Link to this heading"></a></h1>
<p>jobController.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">NotFoundError</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../customErrors.js&#39;</span><span class="p">;</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">job</span><span class="p">)</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">NotFoundError</span><span class="p">(</span><span class="sb">`no job with id : </span><span class="si">${</span><span class="nx">id</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
</pre></div>
</div>
<p>middleware/errorHandlerMiddleware.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">StatusCodes</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;http-status-codes&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">errorHandlerMiddleware</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="w"> </span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">,</span><span class="w"> </span><span class="nx">next</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">statusCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">err</span><span class="p">.</span><span class="nx">statusCode</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">StatusCodes</span><span class="p">.</span><span class="nx">INTERNAL_SERVER_ERROR</span><span class="p">;</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">err</span><span class="p">.</span><span class="nx">message</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s1">&#39;Something went wrong, try again later&#39;</span><span class="p">;</span>

<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="nx">statusCode</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">errorHandlerMiddleware</span><span class="p">;</span>
</pre></div>
</div>
<p>server.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">errorHandlerMiddleware</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./middleware/errorHandlerMiddleware.js&#39;</span><span class="p">;</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">errorHandlerMiddleware</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="bad-request-error">
<h1>Bad Request Error<a class="headerlink" href="#bad-request-error" title="Link to this heading"></a></h1>
<p>400 BAD_REQUEST Bad Request
401 UNAUTHORIZED Unauthorized
403 FORBIDDEN Forbidden
404 NOT_FOUND Not Found</p>
<p>customErrors.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">BadRequestError</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="ne">Error</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">message</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">super</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;BadRequestError&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">statusCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">StatusCodes</span><span class="p">.</span><span class="nx">BAD_REQUEST</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
<span class="k">export</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">UnauthenticatedError</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="ne">Error</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">message</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">super</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;UnauthenticatedError&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">statusCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">StatusCodes</span><span class="p">.</span><span class="nx">UNAUTHORIZED</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
<span class="k">export</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">UnauthorizedError</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="ne">Error</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">message</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">super</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;UnauthorizedError&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">statusCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">StatusCodes</span><span class="p">.</span><span class="nx">FORBIDDEN</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="validation-layer">
<h1>Validation Layer<a class="headerlink" href="#validation-layer" title="Link to this heading"></a></h1>
<p><a class="reference external" href="https://express-validator.github.io/docs/">Express Validator</a></p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>i<span class="w"> </span>express-validator@7.0.1
</pre></div>
</div>
</section>
<section id="test-route">
<h1>Test Route<a class="headerlink" href="#test-route" title="Link to this heading"></a></h1>
<p>server.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">app</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/api/v1/test&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="sb">`hello </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">`</span><span class="w"> </span><span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
</section>
<section id="express-validator">
<h1>Express Validator<a class="headerlink" href="#express-validator" title="Link to this heading"></a></h1>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">body</span><span class="p">,</span><span class="w"> </span><span class="nx">validationResult</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;express-validator&#39;</span><span class="p">;</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;/api/v1/test&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="p">[</span><span class="nx">body</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">).</span><span class="nx">notEmpty</span><span class="p">().</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;name is required&#39;</span><span class="p">)],</span>
<span class="w">  </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">errors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">validationResult</span><span class="p">(</span><span class="nx">req</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">errors</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">errorMessages</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">array</span><span class="p">().</span><span class="nx">map</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">error</span><span class="p">.</span><span class="nx">msg</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">400</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">errors</span><span class="o">:</span><span class="w"> </span><span class="nx">errorMessages</span><span class="w"> </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">next</span><span class="p">();</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
<span class="w">    </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="sb">`hello </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">`</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">);</span>
</pre></div>
</div>
</section>
<section id="validation-middleware">
<h1>Validation Middleware<a class="headerlink" href="#validation-middleware" title="Link to this heading"></a></h1>
<p>middleware/validationMiddleware.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">body</span><span class="p">,</span><span class="w"> </span><span class="nx">validationResult</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;express-validator&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">BadRequestError</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../errors/customErrors&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">withValidationErrors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">validateValues</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="nx">validateValues</span><span class="p">,</span>
<span class="w">    </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">,</span><span class="w"> </span><span class="nx">next</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">errors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">validationResult</span><span class="p">(</span><span class="nx">req</span><span class="p">);</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">errors</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">errorMessages</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">array</span><span class="p">().</span><span class="nx">map</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">error</span><span class="p">.</span><span class="nx">msg</span><span class="p">);</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">BadRequestError</span><span class="p">(</span><span class="nx">errorMessages</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="nx">next</span><span class="p">();</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">];</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">validateTest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">withValidationErrors</span><span class="p">([</span>
<span class="w">  </span><span class="nx">body</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="nx">notEmpty</span><span class="p">()</span>
<span class="w">    </span><span class="p">.</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;name is required&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="nx">isLength</span><span class="p">({</span><span class="w"> </span><span class="nx">min</span><span class="o">:</span><span class="w"> </span><span class="mf">3</span><span class="p">,</span><span class="w"> </span><span class="nx">max</span><span class="o">:</span><span class="w"> </span><span class="mf">50</span><span class="w"> </span><span class="p">})</span>
<span class="w">    </span><span class="p">.</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;name must be between 3 and 50 characters long&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="nx">trim</span><span class="p">(),</span>
<span class="p">]);</span>
</pre></div>
</div>
</section>
<section id="remove-test-case-from-server">
<h1>Remove Test Case From Server<a class="headerlink" href="#remove-test-case-from-server" title="Link to this heading"></a></h1>
</section>
<section id="setup-constants">
<h1>Setup Constants<a class="headerlink" href="#setup-constants" title="Link to this heading"></a></h1>
<p>utils/constants.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">JOB_STATUS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">PENDING</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;pending&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">INTERVIEW</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;interview&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">DECLINED</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;declined&#39;</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">JOB_TYPE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">FULL_TIME</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;full-time&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">PART_TIME</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;part-time&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">INTERNSHIP</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;internship&#39;</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">JOB_SORT_BY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">NEWEST_FIRST</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;newest&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">OLDEST_FIRST</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;oldest&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">ASCENDING</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;a-z&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">DESCENDING</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;z-a&#39;</span><span class="p">,</span>
<span class="p">};</span>
</pre></div>
</div>
<p>models/JobModel.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">mongoose</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;mongoose&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">JOB_STATUS</span><span class="p">,</span><span class="w"> </span><span class="nx">JOB_TYPE</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../utils/constants&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">JobSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">mongoose</span><span class="p">.</span><span class="nx">Schema</span><span class="p">(</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">company</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">    </span><span class="nx">position</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">    </span><span class="nx">jobStatus</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">      </span><span class="kr">enum</span><span class="o">:</span><span class="w"> </span><span class="nb">Object</span><span class="p">.</span><span class="nx">values</span><span class="p">(</span><span class="nx">JOB_STATUS</span><span class="p">),</span>
<span class="w">      </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="nx">JOB_STATUS</span><span class="p">.</span><span class="nx">PENDING</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">jobType</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">      </span><span class="kr">enum</span><span class="o">:</span><span class="w"> </span><span class="nb">Object</span><span class="p">.</span><span class="nx">values</span><span class="p">(</span><span class="nx">JOB_TYPE</span><span class="p">),</span>
<span class="w">      </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="nx">JOB_TYPE</span><span class="p">.</span><span class="nx">FULL_TIME</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">jobLocation</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">      </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;my city&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">timestamps</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span>
<span class="p">);</span>
</pre></div>
</div>
</section>
<section id="validate-create-job">
<h1>Validate Create Job<a class="headerlink" href="#validate-create-job" title="Link to this heading"></a></h1>
<p>validationMiddleware.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">JOB_STATUS</span><span class="p">,</span><span class="w"> </span><span class="nx">JOB_TYPE</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../utils/constants.js&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">validateJobInput</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">withValidationErrors</span><span class="p">([</span>
<span class="w">  </span><span class="nx">body</span><span class="p">(</span><span class="s1">&#39;company&#39;</span><span class="p">).</span><span class="nx">notEmpty</span><span class="p">().</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;company is required&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="nx">body</span><span class="p">(</span><span class="s1">&#39;position&#39;</span><span class="p">).</span><span class="nx">notEmpty</span><span class="p">().</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;position is required&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="nx">body</span><span class="p">(</span><span class="s1">&#39;jobLocation&#39;</span><span class="p">).</span><span class="nx">notEmpty</span><span class="p">().</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;job location is required&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="nx">body</span><span class="p">(</span><span class="s1">&#39;jobStatus&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="nx">isIn</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">values</span><span class="p">(</span><span class="nx">JOB_STATUS</span><span class="p">))</span>
<span class="w">    </span><span class="p">.</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;invalid status value&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="nx">body</span><span class="p">(</span><span class="s1">&#39;jobType&#39;</span><span class="p">).</span><span class="nx">isIn</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">values</span><span class="p">(</span><span class="nx">JOB_TYPE</span><span class="p">)).</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;invalid job type&#39;</span><span class="p">),</span>
<span class="p">]);</span>
</pre></div>
</div>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">validateJobInput</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../middleware/validationMiddleware.js&#39;</span><span class="p">;</span>

<span class="nx">router</span><span class="p">.</span><span class="nx">route</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">).</span><span class="nx">get</span><span class="p">(</span><span class="nx">getAllJobs</span><span class="p">).</span><span class="nx">post</span><span class="p">(</span><span class="nx">validateJobInput</span><span class="p">,</span><span class="w"> </span><span class="nx">createJob</span><span class="p">);</span>
<span class="nx">router</span>
<span class="w">  </span><span class="p">.</span><span class="nx">route</span><span class="p">(</span><span class="s1">&#39;/:id&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">getJob</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="nx">patch</span><span class="p">(</span><span class="nx">validateJobInput</span><span class="p">,</span><span class="w"> </span><span class="nx">updateJob</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="ow">delete</span><span class="p">(</span><span class="nx">deleteJob</span><span class="p">);</span>
</pre></div>
</div>
<ul class="simple">
<li><p>create job request</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;company&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;coding addict&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;position&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;backend-end&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;jobStatus&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pending&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;jobType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;full-time&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;jobLocation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;florida&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="validate-id-parameter">
<h1>Validate ID Parameter<a class="headerlink" href="#validate-id-parameter" title="Link to this heading"></a></h1>
<p>validationMiddleware.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">mongoose</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;mongoose&#39;</span><span class="p">;</span>

<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">param</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;express-validator&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">validateIdParam</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">withValidationErrors</span><span class="p">([</span>
<span class="w">  </span><span class="nx">param</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="nx">custom</span><span class="p">((</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">mongoose</span><span class="p">.</span><span class="nx">Types</span><span class="p">.</span><span class="nx">ObjectId</span><span class="p">.</span><span class="nx">isValid</span><span class="p">(</span><span class="nx">value</span><span class="p">))</span>
<span class="w">    </span><span class="p">.</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;invalid MongoDB id&#39;</span><span class="p">),</span>
<span class="p">]);</span>
</pre></div>
</div>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">validateIdParam</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">withValidationErrors</span><span class="p">([</span>
<span class="w">  </span><span class="nx">param</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">).</span><span class="nx">custom</span><span class="p">(</span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">isValidId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">mongoose</span><span class="p">.</span><span class="nx">Types</span><span class="p">.</span><span class="nx">ObjectId</span><span class="p">.</span><span class="nx">isValid</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">isValidId</span><span class="p">)</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">BadRequestError</span><span class="p">(</span><span class="s1">&#39;invalid MongoDB id&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">Job</span><span class="p">.</span><span class="nx">findById</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">job</span><span class="p">)</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">NotFoundError</span><span class="p">(</span><span class="sb">`no job with id : </span><span class="si">${</span><span class="nx">value</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">  </span><span class="p">}),</span>
<span class="p">]);</span>
</pre></div>
</div>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">body</span><span class="p">,</span><span class="w"> </span><span class="nx">param</span><span class="p">,</span><span class="w"> </span><span class="nx">validationResult</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;express-validator&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">BadRequestError</span><span class="p">,</span><span class="w"> </span><span class="nx">NotFoundError</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../errors/customErrors.js&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">JOB_STATUS</span><span class="p">,</span><span class="w"> </span><span class="nx">JOB_TYPE</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../utils/constants.js&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">mongoose</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;mongoose&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Job</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../models/JobModel.js&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">withValidationErrors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">validateValues</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="nx">validateValues</span><span class="p">,</span>
<span class="w">    </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">,</span><span class="w"> </span><span class="nx">next</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">errors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">validationResult</span><span class="p">(</span><span class="nx">req</span><span class="p">);</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">errors</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">errorMessages</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">array</span><span class="p">().</span><span class="nx">map</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">error</span><span class="p">.</span><span class="nx">msg</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">errorMessages</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">startsWith</span><span class="p">(</span><span class="s1">&#39;no job&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">NotFoundError</span><span class="p">(</span><span class="nx">errorMessages</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">BadRequestError</span><span class="p">(</span><span class="nx">errorMessages</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="nx">next</span><span class="p">();</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">];</span>
<span class="p">};</span>
</pre></div>
</div>
<ul class="simple">
<li><p>remove NotFoundError from getJob, updateJob, deleteJob controllers</p></li>
</ul>
</section>
<section id="clean-db">
<h1>Clean DB<a class="headerlink" href="#clean-db" title="Link to this heading"></a></h1>
</section>
<section id="user-model">
<h1>User Model<a class="headerlink" href="#user-model" title="Link to this heading"></a></h1>
<p>models/UserModel.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">mongoose</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;mongoose&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">UserSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">mongoose</span><span class="p">.</span><span class="nx">Schema</span><span class="p">({</span>
<span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">  </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">  </span><span class="nx">password</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">  </span><span class="nx">lastName</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">    </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;lastName&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nx">location</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">    </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;my city&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nx">role</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">    </span><span class="kr">enum</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;admin&#39;</span><span class="p">],</span>
<span class="w">    </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;user&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">});</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">mongoose</span><span class="p">.</span><span class="nx">model</span><span class="p">(</span><span class="s1">&#39;User&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">UserSchema</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="user-controller-and-router">
<h1>User Controller and Router<a class="headerlink" href="#user-controller-and-router" title="Link to this heading"></a></h1>
<p>controllers/authController.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">register</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">&#39;register&#39;</span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">login</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">&#39;register&#39;</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
<p>routers/authRouter.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Router</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;express&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">register</span><span class="p">,</span><span class="w"> </span><span class="nx">login</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../controllers/authController.js&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">router</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Router</span><span class="p">();</span>

<span class="nx">router</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/register&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">register</span><span class="p">);</span>
<span class="nx">router</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/login&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">login</span><span class="p">);</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">router</span><span class="p">;</span>
</pre></div>
</div>
<p>server.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">authRouter</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./routers/authRouter.js&#39;</span><span class="p">;</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">&#39;/api/v1/auth&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">authRouter</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="create-user-initial-setup">
<h1>Create User - Initial Setup<a class="headerlink" href="#create-user-initial-setup" title="Link to this heading"></a></h1>
<p>authController.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">StatusCodes</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;http-status-codes&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">User</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../models/UserModel.js&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">register</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">User</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="nx">StatusCodes</span><span class="p">.</span><span class="nx">CREATED</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>
</pre></div>
</div>
<ul class="simple">
<li><p>register user request</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;john&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;john@gmail.com&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;password&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;secret123&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;lastName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smith&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;location&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;my city&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="validate-user">
<h1>Validate User<a class="headerlink" href="#validate-user" title="Link to this heading"></a></h1>
<p>validationMiddleware.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">User</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../models/UserModel.js&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">validateRegisterInput</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">withValidationErrors</span><span class="p">([</span>
<span class="w">  </span><span class="nx">body</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">).</span><span class="nx">notEmpty</span><span class="p">().</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;name is required&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="nx">body</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="nx">notEmpty</span><span class="p">()</span>
<span class="w">    </span><span class="p">.</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;email is required&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="nx">isEmail</span><span class="p">()</span>
<span class="w">    </span><span class="p">.</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;invalid email format&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="nx">custom</span><span class="p">(</span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">email</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">User</span><span class="p">.</span><span class="nx">findOne</span><span class="p">({</span><span class="w"> </span><span class="nx">email</span><span class="w"> </span><span class="p">});</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">user</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">BadRequestError</span><span class="p">(</span><span class="s1">&#39;email already exists&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}),</span>
<span class="w">  </span><span class="nx">body</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="nx">notEmpty</span><span class="p">()</span>
<span class="w">    </span><span class="p">.</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;password is required&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="nx">isLength</span><span class="p">({</span><span class="w"> </span><span class="nx">min</span><span class="o">:</span><span class="w"> </span><span class="mf">8</span><span class="w"> </span><span class="p">})</span>
<span class="w">    </span><span class="p">.</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;password must be at least 8 characters long&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="nx">body</span><span class="p">(</span><span class="s1">&#39;location&#39;</span><span class="p">).</span><span class="nx">notEmpty</span><span class="p">().</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;location is required&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="nx">body</span><span class="p">(</span><span class="s1">&#39;lastName&#39;</span><span class="p">).</span><span class="nx">notEmpty</span><span class="p">().</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;last name is required&#39;</span><span class="p">),</span>
<span class="p">]);</span>
</pre></div>
</div>
<p>authRouter.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">validateRegisterInput</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../middleware/validationMiddleware.js&#39;</span><span class="p">;</span>

<span class="nx">router</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/register&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">validateRegisterInput</span><span class="p">,</span><span class="w"> </span><span class="nx">register</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="admin-role">
<h1>Admin Role<a class="headerlink" href="#admin-role" title="Link to this heading"></a></h1>
<p>authController.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="c1">// first registered user is an admin</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">isFirstAccount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">await</span><span class="w"> </span><span class="nx">User</span><span class="p">.</span><span class="nx">countDocuments</span><span class="p">())</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">role</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">isFirstAccount</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;admin&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;user&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">User</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="hash-passwords">
<h1>Hash Passwords<a class="headerlink" href="#hash-passwords" title="Link to this heading"></a></h1>
<p><a class="reference external" href="https://www.npmjs.com/package/bcryptjs">bcryptjs</a></p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>i<span class="w"> </span>bcryptjs@2.4.3
</pre></div>
</div>
<p>authController.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">bcrypt</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;bcryptjs&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">register</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// a random value that is added to the password before hashing</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">salt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">bcrypt</span><span class="p">.</span><span class="nx">genSalt</span><span class="p">(</span><span class="mf">10</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">hashedPassword</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">bcrypt</span><span class="p">.</span><span class="nx">hash</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">password</span><span class="p">,</span><span class="w"> </span><span class="nx">salt</span><span class="p">);</span>
<span class="w">  </span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">hashedPassword</span><span class="p">;</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">User</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
<p>const salt = await bcrypt.genSalt(10);
This line generates a random “salt” value that will be used to hash the password. A salt is a random value that is added to the password before hashing, which helps to make the resulting hash more resistant to attacks like dictionary attacks and rainbow table attacks. The genSalt() function in bcrypt generates a random salt value using a specified “cost” value. The cost value determines how much CPU time is needed to calculate the hash, and higher cost values result in stronger hashes that are more resistant to attacks.</p>
<p>In this example, a cost value of 10 is used to generate the salt. This is a good default value that provides a good balance between security and performance. However, you may need to adjust the cost value based on the specific needs of your application.</p>
<p>const hashedPassword = await bcrypt.hash(password, salt);
This line uses the generated salt value to hash the password. The hash() function in bcrypt takes two arguments: the password to be hashed, and the salt value to use for the hash. It then calculates the hash value using a one-way hash function and the specified salt value.</p>
<p>The resulting hash value is a string that represents the hashed password. This string can then be stored in a database or other storage mechanism to be compared against the user’s password when they log in.</p>
<p>By using a salt value and a one-way hash function, bcrypt helps to ensure that user passwords are stored securely and are resistant to attacks like password cracking and brute-force attacks.</p>
<section id="bcrypt-vs-bcryptjs">
<h2>BCRYPT VS BCRYPTJS<a class="headerlink" href="#bcrypt-vs-bcryptjs" title="Link to this heading"></a></h2>
<p>bcrypt and bcryptjs are both popular libraries for hashing passwords in Node.js applications. However, bcryptjs is considered to be a better choice for a few reasons:</p>
<p>Cross-platform compatibility: bcrypt is a native Node.js module that uses C++ bindings, which can make it difficult to install and use on some platforms. bcryptjs, on the other hand, is a pure JavaScript implementation that works on any platform.</p>
<p>Security: While both bcrypt and bcryptjs use the same underlying algorithm for hashing passwords, bcryptjs is designed to be more resistant to certain types of attacks, such as side-channel attacks.</p>
<p>Ease of use: bcryptjs has a simpler and more intuitive API than bcrypt, which can make it easier to use and integrate into your application.</p>
<p>Overall, while bcrypt and bcryptjs are both good choices for hashing passwords in Node.js applications, bcryptjs is considered to be a better choice for its cross-platform compatibility, improved security, ease of use, and ongoing maintenance.</p>
</section>
</section>
<section id="setup-password-utils">
<h1>Setup Password Utils<a class="headerlink" href="#setup-password-utils" title="Link to this heading"></a></h1>
<p>utils/passwordUtils.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">bcrypt</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;bcryptjs&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">hashPassword</span><span class="p">(</span><span class="nx">password</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">salt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">bcrypt</span><span class="p">.</span><span class="nx">genSalt</span><span class="p">(</span><span class="mf">10</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">hashedPassword</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">bcrypt</span><span class="p">.</span><span class="nx">hash</span><span class="p">(</span><span class="nx">password</span><span class="p">,</span><span class="w"> </span><span class="nx">salt</span><span class="p">);</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">hashedPassword</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>authController.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">hashPassword</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../utils/passwordUtils.js&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">register</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">hashedPassword</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">hashPassword</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">password</span><span class="p">);</span>
<span class="w">  </span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">hashedPassword</span><span class="p">;</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">User</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="nx">StatusCodes</span><span class="p">.</span><span class="nx">CREATED</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;user created&#39;</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="login-user">
<h1>Login User<a class="headerlink" href="#login-user" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>login user request</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;john@gmail.com&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;password&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;secret123&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>validationMiddleware.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">validateLoginInput</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">withValidationErrors</span><span class="p">([</span>
<span class="w">  </span><span class="nx">body</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="nx">notEmpty</span><span class="p">()</span>
<span class="w">    </span><span class="p">.</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;email is required&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="nx">isEmail</span><span class="p">()</span>
<span class="w">    </span><span class="p">.</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;invalid email format&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="nx">body</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">).</span><span class="nx">notEmpty</span><span class="p">().</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;password is required&#39;</span><span class="p">),</span>
<span class="p">]);</span>
</pre></div>
</div>
<p>authRouter.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">validateLoginInput</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../middleware/validationMiddleware.js&#39;</span><span class="p">;</span>

<span class="nx">router</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/login&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">validateLoginInput</span><span class="p">,</span><span class="w"> </span><span class="nx">login</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="unauthenticated-error">
<h1>Unauthenticated Error<a class="headerlink" href="#unauthenticated-error" title="Link to this heading"></a></h1>
<p>authController.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">UnauthenticatedError</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../errors/customErrors.js&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">login</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// check if user exists</span>
<span class="w">  </span><span class="c1">// check if password is correct</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">User</span><span class="p">.</span><span class="nx">findOne</span><span class="p">({</span><span class="w"> </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">email</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">user</span><span class="p">)</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">UnauthenticatedError</span><span class="p">(</span><span class="s1">&#39;invalid credentials&#39;</span><span class="p">);</span>

<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">&#39;login route&#39;</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="compare-password">
<h1>Compare Password<a class="headerlink" href="#compare-password" title="Link to this heading"></a></h1>
<p>passwordUtils.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">comparePassword</span><span class="p">(</span><span class="nx">password</span><span class="p">,</span><span class="w"> </span><span class="nx">hashedPassword</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">isMatch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">bcrypt</span><span class="p">.</span><span class="nx">compare</span><span class="p">(</span><span class="nx">password</span><span class="p">,</span><span class="w"> </span><span class="nx">hashedPassword</span><span class="p">);</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">isMatch</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>authController.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">hashPassword</span><span class="p">,</span><span class="w"> </span><span class="nx">comparePassword</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../utils/passwordUtils.js&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">login</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// check if user exists</span>
<span class="w">  </span><span class="c1">// check if password is correct</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">User</span><span class="p">.</span><span class="nx">findOne</span><span class="p">({</span><span class="w"> </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">email</span><span class="w"> </span><span class="p">});</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">user</span><span class="p">)</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">UnauthenticatedError</span><span class="p">(</span><span class="s1">&#39;invalid credentials&#39;</span><span class="p">);</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">isPasswordCorrect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">comparePassword</span><span class="p">(</span>
<span class="w">    </span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">password</span><span class="p">,</span>
<span class="w">    </span><span class="nx">user</span><span class="p">.</span><span class="nx">password</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">isPasswordCorrect</span><span class="p">)</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">UnauthenticatedError</span><span class="p">(</span><span class="s1">&#39;invalid credentials&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">&#39;login route&#39;</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Refactor</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">isValidUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="k">await</span><span class="w"> </span><span class="nx">comparePassword</span><span class="p">(</span><span class="nx">password</span><span class="p">,</span><span class="w"> </span><span class="nx">user</span><span class="p">.</span><span class="nx">password</span><span class="p">));</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">isValidUser</span><span class="p">)</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">UnauthenticatedError</span><span class="p">(</span><span class="s1">&#39;invalid credentials&#39;</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="json-web-token">
<h1>JSON Web Token<a class="headerlink" href="#json-web-token" title="Link to this heading"></a></h1>
<p>A JSON Web Token (JWT) is a compact and secure way of transmitting data between parties. It is often used to authenticate and authorize users in web applications and APIs. JWTs contain information about the user and additional metadata, and can be used to securely transmit this information</p>
<p><a class="reference external" href="https://jwt.io/introduction">Useful Resource</a></p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>i<span class="w"> </span>jsonwebtoken@9.0.0
</pre></div>
</div>
<p>utils/tokenUtils.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">jwt</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;jsonwebtoken&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">createJWT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">payload</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">token</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">(</span><span class="nx">payload</span><span class="p">,</span><span class="w"> </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">JWT_SECRET</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">expiresIn</span><span class="o">:</span><span class="w"> </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">JWT_EXPIRES_IN</span><span class="p">,</span>
<span class="w">  </span><span class="p">});</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">token</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p>JWT_SECRET represents the secret key used to sign the JWT. When creating a JWT, the payload (data) is signed with this secret key to generate a unique token. The secret key should be kept secure and should not be disclosed to unauthorized parties.</p>
<p>JWT_EXPIRES_IN specifies the expiration time for the JWT. It determines how long the token remains valid before it expires. The value of JWT_EXPIRES_IN is typically provided as a duration, such as “1h” for one hour or “7d” for seven days. Once the token expires, it is no longer considered valid and can’t be used for authentication or authorization purposes.</p>
<p>These environment variables (JWT_SECRET and JWT_EXPIRES_IN) are read from the system environment during runtime, allowing for flexibility in configuration without modifying the code.</p>
<p>authController.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">createJWT</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../utils/tokenUtils.js&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">token</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createJWT</span><span class="p">({</span><span class="w"> </span><span class="nx">userId</span><span class="o">:</span><span class="w"> </span><span class="nx">user</span><span class="p">.</span><span class="nx">_id</span><span class="p">,</span><span class="w"> </span><span class="nx">role</span><span class="o">:</span><span class="w"> </span><span class="nx">user</span><span class="p">.</span><span class="nx">role</span><span class="w"> </span><span class="p">});</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">token</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="test-jwt-optional">
<h1>Test JWT (optional)<a class="headerlink" href="#test-jwt-optional" title="Link to this heading"></a></h1>
<p><a class="reference external" href="https://jwt.io/">JWT</a></p>
</section>
<section id="env-variables">
<h1>ENV Variables<a class="headerlink" href="#env-variables" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>RESTART SERVER!!!!</p></li>
</ul>
<p>.env</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">JWT_SECRET</span><span class="o">=</span>
<span class="nx">JWT_EXPIRES_IN</span><span class="o">=</span>
</pre></div>
</div>
</section>
<section id="http-only-cookie">
<h1>HTTP Only Cookie<a class="headerlink" href="#http-only-cookie" title="Link to this heading"></a></h1>
<p>An HTTP-only cookie is a cookie that can’t be accessed by JavaScript running in the browser. It is designed to help prevent cross-site scripting (XSS) attacks, which can be used to steal cookies and other sensitive information.</p>
<section id="http-only-cookie-vs-local-storage">
<h2>HTTP Only Cookie VS Local Storage<a class="headerlink" href="#http-only-cookie-vs-local-storage" title="Link to this heading"></a></h2>
<p>An HTTP-only cookie is a type of cookie that is designed to be inaccessible to JavaScript running in the browser. It is primarily used for authentication purposes and is a more secure way of storing sensitive information like user tokens. Local storage, on the other hand, is a browser-based storage mechanism that is accessible to JavaScript, and is used to store application data like preferences or user-generated content. While local storage is convenient, it is not a secure way of storing sensitive information as it can be accessed and modified by JavaScript running in the browser.</p>
<p>authControllers.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">oneDay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1000</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">60</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">60</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">24</span><span class="p">;</span>

<span class="nx">res</span><span class="p">.</span><span class="nx">cookie</span><span class="p">(</span><span class="s1">&#39;token&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">token</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">httpOnly</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nx">expires</span><span class="o">:</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">oneDay</span><span class="p">),</span>
<span class="w">  </span><span class="nx">secure</span><span class="o">:</span><span class="w"> </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">NODE_ENV</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;production&#39;</span><span class="p">,</span>
<span class="p">});</span>

<span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="nx">StatusCodes</span><span class="p">.</span><span class="nx">CREATED</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;user logged in&#39;</span><span class="w"> </span><span class="p">});</span>
</pre></div>
</div>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">oneDay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1000</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">60</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">60</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">24</span><span class="p">;</span>
</pre></div>
</div>
<p>This line defines a constant oneDay that represents the number of milliseconds in a day. This value is used later to set the expiration time for the cookie.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">res</span><span class="p">.</span><span class="nx">cookie</span><span class="p">(</span><span class="s1">&#39;token&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">token</span><span class="p">,</span><span class="w"> </span><span class="p">{...});</span><span class="o">:</span>
</pre></div>
</div>
<p>This line sets a cookie with the name “token” and a value of token, which is the JWT that was generated for the user. The … represents an object containing additional options for the cookie.</p>
<p>httpOnly: true: This option makes the cookie inaccessible to JavaScript running in the browser. This helps to prevent cross-site scripting (XSS) attacks, which can be used to steal cookies and other sensitive information.</p>
<p>expires: new Date(Date.now() + oneDay): This option sets the expiration time for the cookie. In this case, the cookie will expire one day from the current time (as represented by Date.now() + oneDay).</p>
<p>secure: process.env.NODE_ENV === ‘production’: This option determines whether the cookie should be marked as secure or not. If the NODE_ENV environment variable is set to “production”, then the cookie is marked as secure, which means it can only be transmitted over HTTPS. This helps to prevent man-in-the-middle (MITM) attacks, which can intercept and modify cookies that are transmitted over unsecured connections.</p>
<p>jobsController.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">getAllJobs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">req</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">jobs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">Job</span><span class="p">.</span><span class="nx">find</span><span class="p">({});</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="nx">StatusCodes</span><span class="p">.</span><span class="nx">OK</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">jobs</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
</section>
<section id="id3">
<h1>Clean DB<a class="headerlink" href="#id3" title="Link to this heading"></a></h1>
</section>
<section id="connect-user-and-job">
<h1>Connect User and Job<a class="headerlink" href="#connect-user-and-job" title="Link to this heading"></a></h1>
<p>models/User.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">JobSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">mongoose</span><span class="p">.</span><span class="nx">Schema</span><span class="p">(</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="p">....</span>
<span class="w">    </span><span class="nx">createdBy</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nx">mongoose</span><span class="p">.</span><span class="nx">Types</span><span class="p">.</span><span class="nx">ObjectId</span><span class="p">,</span>
<span class="w">      </span><span class="nx">ref</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;User&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">timestamps</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span>
<span class="p">);</span>
</pre></div>
</div>
</section>
<section id="auth-middleware">
<h1>Auth Middleware<a class="headerlink" href="#auth-middleware" title="Link to this heading"></a></h1>
<p>middleware/authMiddleware.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">authenticateUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">,</span><span class="w"> </span><span class="nx">next</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;auth middleware&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="nx">next</span><span class="p">();</span>
<span class="p">};</span>
</pre></div>
</div>
<p>server.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">authenticateUser</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./middleware/authMiddleware.js&#39;</span><span class="p">;</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">&#39;/api/v1/jobs&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">authenticateUser</span><span class="p">,</span><span class="w"> </span><span class="nx">jobRouter</span><span class="p">);</span>
</pre></div>
</div>
<section id="cookie-parser">
<h2>Cookie Parser<a class="headerlink" href="#cookie-parser" title="Link to this heading"></a></h2>
<p><a class="reference external" href="https://www.npmjs.com/package/cookie-parser">Cookie Parser</a></p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>i<span class="w"> </span>cookie-parser@1.4.6
</pre></div>
</div>
<p>server.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">cookieParser</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;cookie-parser&#39;</span><span class="p">;</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">cookieParser</span><span class="p">());</span>
</pre></div>
</div>
</section>
</section>
<section id="access-token">
<h1>Access Token<a class="headerlink" href="#access-token" title="Link to this heading"></a></h1>
<p>authMiddleware.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">UnauthenticatedError</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../customErrors.js&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">authenticateUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">,</span><span class="w"> </span><span class="nx">next</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">token</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">cookies</span><span class="p">;</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">token</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">UnauthenticatedError</span><span class="p">(</span><span class="s1">&#39;authentication invalid&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="nx">next</span><span class="p">();</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="verify-token">
<h1>Verify Token<a class="headerlink" href="#verify-token" title="Link to this heading"></a></h1>
<p>utils/tokenUtils.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">verifyJWT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">token</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">decoded</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">jwt</span><span class="p">.</span><span class="nx">verify</span><span class="p">(</span><span class="nx">token</span><span class="p">,</span><span class="w"> </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">JWT_SECRET</span><span class="p">);</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">decoded</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p>authMiddleware.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">UnauthenticatedError</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../customErrors.js&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">verifyJWT</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../utils/tokenUtils.js&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">authenticateUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">,</span><span class="w"> </span><span class="nx">next</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">token</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">cookies</span><span class="p">;</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">token</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">UnauthenticatedError</span><span class="p">(</span><span class="s1">&#39;authentication invalid&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">userId</span><span class="p">,</span><span class="w"> </span><span class="nx">role</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">verifyJWT</span><span class="p">(</span><span class="nx">token</span><span class="p">);</span>
<span class="w">    </span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">userId</span><span class="p">,</span><span class="w"> </span><span class="nx">role</span><span class="w"> </span><span class="p">};</span>
<span class="w">    </span><span class="nx">next</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">UnauthenticatedError</span><span class="p">(</span><span class="s1">&#39;authentication invalid&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
<p>jobController.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">getAllJobs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">jobs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">Job</span><span class="p">.</span><span class="nx">find</span><span class="p">({</span><span class="w"> </span><span class="nx">createdBy</span><span class="o">:</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">userId</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="nx">StatusCodes</span><span class="p">.</span><span class="nx">OK</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">jobs</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="refactor-create-job">
<h1>Refactor Create Job<a class="headerlink" href="#refactor-create-job" title="Link to this heading"></a></h1>
<p>jobController.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">createJob</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">createdBy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">userId</span><span class="p">;</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">Job</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="nx">StatusCodes</span><span class="p">.</span><span class="nx">CREATED</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="check-permissions">
<h1>Check Permissions<a class="headerlink" href="#check-permissions" title="Link to this heading"></a></h1>
<p>validationMiddleware.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">withValidationErrors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">validateValues</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="nx">validateValues</span><span class="p">,</span>
<span class="w">    </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">,</span><span class="w"> </span><span class="nx">next</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">errors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">validationResult</span><span class="p">(</span><span class="nx">req</span><span class="p">);</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">errors</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">       </span><span class="p">...</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">errorMessages</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">startsWith</span><span class="p">(</span><span class="s1">&#39;not authorized&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">UnauthorizedError</span><span class="p">(</span><span class="s1">&#39;not authorized to access this route&#39;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">BadRequestError</span><span class="p">(</span><span class="nx">errorMessages</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="nx">next</span><span class="p">();</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">];</span>
<span class="p">};</span>
</pre></div>
</div>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">BadRequestError</span><span class="p">,</span>
<span class="w">  </span><span class="nx">NotFoundError</span><span class="p">,</span>
<span class="w">  </span><span class="nx">UnauthorizedError</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../errors/customErrors.js&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">validateIdParam</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">withValidationErrors</span><span class="p">([</span>
<span class="w">  </span><span class="nx">param</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">).</span><span class="nx">custom</span><span class="p">(</span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">value</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">req</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">isValidMongoId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">mongoose</span><span class="p">.</span><span class="nx">Types</span><span class="p">.</span><span class="nx">ObjectId</span><span class="p">.</span><span class="nx">isValid</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">isValidMongoId</span><span class="p">)</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">BadRequestError</span><span class="p">(</span><span class="s1">&#39;invalid MongoDB id&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">Job</span><span class="p">.</span><span class="nx">findById</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">job</span><span class="p">)</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">NotFoundError</span><span class="p">(</span><span class="sb">`no job with id </span><span class="si">${</span><span class="nx">value</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">isAdmin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">role</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;admin&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">isOwner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">userId</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">job</span><span class="p">.</span><span class="nx">createdBy</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">isAdmin</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="nx">isOwner</span><span class="p">)</span>
<span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="nx">UnauthorizedError</span><span class="p">(</span><span class="s1">&#39;not authorized to access this route&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}),</span>
<span class="p">]);</span>
</pre></div>
</div>
</section>
<section id="logout-user">
<h1>Logout User<a class="headerlink" href="#logout-user" title="Link to this heading"></a></h1>
<p>controllers/authController.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">logout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">cookie</span><span class="p">(</span><span class="s1">&#39;token&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;logout&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">httpOnly</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nx">expires</span><span class="o">:</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()),</span>
<span class="w">  </span><span class="p">});</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="nx">StatusCodes</span><span class="p">.</span><span class="nx">OK</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;user logged out!&#39;</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>
</pre></div>
</div>
<p>routes/authRouter.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Router</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;express&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">router</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Router</span><span class="p">();</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">logout</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../controllers/authController.js&#39;</span><span class="p">;</span>

<span class="nx">router</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/logout&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">logout</span><span class="p">);</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">router</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="user-routes">
<h1>User Routes<a class="headerlink" href="#user-routes" title="Link to this heading"></a></h1>
<p>controllers/userController.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">StatusCodes</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;http-status-codes&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">User</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../models/User.js&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Job</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../models/Job.js&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">getCurrentUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="nx">StatusCodes</span><span class="p">.</span><span class="nx">OK</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;get current user&#39;</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">getApplicationStats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="nx">StatusCodes</span><span class="p">.</span><span class="nx">OK</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;application stats&#39;</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">updateUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="nx">StatusCodes</span><span class="p">.</span><span class="nx">OK</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;update user&#39;</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>
</pre></div>
</div>
<p>routes/userRouter.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Router</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;express&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">router</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Router</span><span class="p">();</span>

<span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">getCurrentUser</span><span class="p">,</span>
<span class="w">  </span><span class="nx">getApplicationStats</span><span class="p">,</span>
<span class="w">  </span><span class="nx">updateUser</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../controllers/userController.js&#39;</span><span class="p">;</span>

<span class="nx">router</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/current-user&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">getCurrentUser</span><span class="p">);</span>
<span class="nx">router</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/admin/app-stats&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">getApplicationStats</span><span class="p">);</span>
<span class="nx">router</span><span class="p">.</span><span class="nx">patch</span><span class="p">(</span><span class="s1">&#39;/update-user&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">updateUser</span><span class="p">);</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">router</span><span class="p">;</span>
</pre></div>
</div>
<p>server.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">userRouter</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./routers/userRouter.js&#39;</span><span class="p">;</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">&#39;/api/v1/users&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">authenticateUser</span><span class="p">,</span><span class="w"> </span><span class="nx">userRouter</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="get-current-user">
<h1>Get Current User<a class="headerlink" href="#get-current-user" title="Link to this heading"></a></h1>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">getCurrentUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">User</span><span class="p">.</span><span class="nx">findOne</span><span class="p">({</span><span class="w"> </span><span class="nx">_id</span><span class="o">:</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">userId</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="nx">StatusCodes</span><span class="p">.</span><span class="nx">OK</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="remove-password">
<h1>Remove Password<a class="headerlink" href="#remove-password" title="Link to this heading"></a></h1>
<p>models/UserModel.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">UserSchema</span><span class="p">.</span><span class="nx">methods</span><span class="p">.</span><span class="nx">toJSON</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">toObject</span><span class="p">();</span>
<span class="w">  </span><span class="ow">delete</span><span class="w"> </span><span class="nx">obj</span><span class="p">.</span><span class="nx">password</span><span class="p">;</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">obj</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">getCurrentUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">User</span><span class="p">.</span><span class="nx">findOne</span><span class="p">({</span><span class="w"> </span><span class="nx">_id</span><span class="o">:</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">userId</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">userWithoutPassword</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">user</span><span class="p">.</span><span class="nx">toJSON</span><span class="p">();</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="nx">StatusCodes</span><span class="p">.</span><span class="nx">OK</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">user</span><span class="o">:</span><span class="w"> </span><span class="nx">userWithoutPassword</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="update-user">
<h1>Update User<a class="headerlink" href="#update-user" title="Link to this heading"></a></h1>
<p>middleware/validationMiddleware.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">validateUpdateUserInput</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">withValidationErrors</span><span class="p">([</span>
<span class="w">  </span><span class="nx">body</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">).</span><span class="nx">notEmpty</span><span class="p">().</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;name is required&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="nx">body</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="nx">notEmpty</span><span class="p">()</span>
<span class="w">    </span><span class="p">.</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;email is required&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="nx">isEmail</span><span class="p">()</span>
<span class="w">    </span><span class="p">.</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;invalid email format&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="nx">custom</span><span class="p">(</span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">email</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">req</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">User</span><span class="p">.</span><span class="nx">findOne</span><span class="p">({</span><span class="w"> </span><span class="nx">email</span><span class="w"> </span><span class="p">});</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">user</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">user</span><span class="p">.</span><span class="nx">_id</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">userId</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="s1">&#39;email already exists&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}),</span>
<span class="w">  </span><span class="nx">body</span><span class="p">(</span><span class="s1">&#39;lastName&#39;</span><span class="p">).</span><span class="nx">notEmpty</span><span class="p">().</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;last name is required&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="nx">body</span><span class="p">(</span><span class="s1">&#39;location&#39;</span><span class="p">).</span><span class="nx">notEmpty</span><span class="p">().</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;location is required&#39;</span><span class="p">),</span>
<span class="p">]);</span>
</pre></div>
</div>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">updateUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">updatedUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">User</span><span class="p">.</span><span class="nx">findByIdAndUpdate</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">userId</span><span class="p">,</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="nx">StatusCodes</span><span class="p">.</span><span class="nx">OK</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;user updated&#39;</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;john&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;john@gmail.com&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;lastName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smith&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;location&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;florida&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="application-stats">
<h1>Application Stats<a class="headerlink" href="#application-stats" title="Link to this heading"></a></h1>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">getApplicationStats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">users</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">User</span><span class="p">.</span><span class="nx">countDocuments</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">jobs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">Job</span><span class="p">.</span><span class="nx">countDocuments</span><span class="p">();</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="nx">StatusCodes</span><span class="p">.</span><span class="nx">OK</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">users</span><span class="p">,</span><span class="w"> </span><span class="nx">jobs</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>
</pre></div>
</div>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">authorizePermissions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(...</span><span class="nx">roles</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">,</span><span class="w"> </span><span class="nx">next</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">roles</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">role</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">UnauthorizedError</span><span class="p">(</span><span class="s1">&#39;Unauthorized to access this route&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">next</span><span class="p">();</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">};</span>
</pre></div>
</div>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">authorizePermissions</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../middleware/authMiddleware.js&#39;</span><span class="p">;</span>

<span class="nx">router</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/admin/app-stats&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span>
<span class="w">  </span><span class="nx">authorizePermissions</span><span class="p">(</span><span class="s1">&#39;admin&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="nx">getApplicationStats</span><span class="p">,</span>
<span class="p">]);</span>
</pre></div>
</div>
</section>
<section id="setup-proxy">
<h1>Setup Proxy<a class="headerlink" href="#setup-proxy" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>only in dev env</p></li>
<li><p>a must since cookies are sent back to the same server</p></li>
<li><p>spin up both servers (our own and vite dev)</p></li>
<li><p>server</p></li>
</ul>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>run<span class="w"> </span>dev
</pre></div>
</div>
<ul class="simple">
<li><p>vite dev server</p></li>
</ul>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>client<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>npm<span class="w"> </span>run<span class="w"> </span>dev
</pre></div>
</div>
<p>server.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">app</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/api/v1/test&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;test route&#39;</span><span class="w"> </span><span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
<p>client/src/main.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;http://localhost:5100/api/v1/test&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="w">  </span><span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">));</span>
</pre></div>
</div>
<p>client/vite.config.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">defineConfig</span><span class="p">({</span>
<span class="w">  </span><span class="nx">plugins</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="nx">react</span><span class="p">()],</span>
<span class="w">  </span><span class="nx">server</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">proxy</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="s1">&#39;/api&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">target</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;http://localhost:5100/api&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">changeOrigin</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">        </span><span class="nx">rewrite</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">path</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">path</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^\/api/</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">),</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">});</span>
</pre></div>
</div>
<p>main.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;/api/v1/test&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="w">  </span><span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">));</span>
</pre></div>
</div>
<p>This code configures a proxy rule for the development server, specifically for requests that start with /api. Let’s go through each property:</p>
<p>‘/api’: This is the path to match. If a request is made to the development server with a path that starts with /api, the proxy rule will be applied.
target: ‘http://localhost:5100/api’: This specifies the target URL where the requests will be redirected. In this case, any request that matches the /api path will be forwarded to http://localhost:5100/api.</p>
<p>changeOrigin: true: When set to true, this property changes the origin of the request to match the target URL. This can be useful when working with CORS (Cross-Origin Resource Sharing) restrictions.</p>
<p>rewrite: (path) =&gt; path.replace(/^/api/, ‘’): This property allows you to modify the path of the request before it is forwarded to the target. In this case, the rewrite function uses a regular expression (/^/api/) to remove the /api prefix from the path. For example, if a request is made to /api/users, the rewritten path will be /users.</p>
<p>To summarize, these lines of code configure a proxy rule for requests starting with /api on the development server. The requests will be redirected to http://localhost:5100/api, with the /api prefix removed from the path.</p>
</section>
<section id="concurrently">
<h1>Concurrently<a class="headerlink" href="#concurrently" title="Link to this heading"></a></h1>
<p>The concurrently npm package is a utility that allows you to run multiple commands concurrently in the same terminal window. It provides a convenient way to execute multiple tasks or processes simultaneously.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>i<span class="w"> </span>concurrently@8.0.1
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="nt">&quot;scripts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;setup-project&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;npm i &amp;&amp; cd client &amp;&amp; npm i&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;server&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;nodemon server&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;client&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cd client &amp;&amp; npm run dev&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;dev&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;concurrently --kill-others-on-fail \&quot; npm run server\&quot; \&quot; npm run client\&quot;&quot;</span>
<span class="w">  </span><span class="p">},</span>
</pre></div>
</div>
<p>By default, when a command fails, concurrently continues running the remaining commands. However, when –kill-others-on-fail is specified, if any of the commands fail, concurrently will immediately terminate all the other running commands.</p>
</section>
<section id="axios">
<h1>Axios<a class="headerlink" href="#axios" title="Link to this heading"></a></h1>
<p>Axios is a popular JavaScript library that simplifies the process of making HTTP requests from web browsers or Node.js. It provides a simple and elegant API for performing asynchronous HTTP requests, supporting features such as making GET, POST, PUT, and DELETE requests, handling request and response headers, handling request cancellation, and more.</p>
<p><a class="reference external" href="https://axios-http.com/docs/intro">Axios Docs</a></p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>i<span class="w"> </span>axios@1.3.6
</pre></div>
</div>
<p>main.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">axios</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;axios&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">axios</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/api/v1/test&#39;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="custom-instance">
<h1>Custom Instance<a class="headerlink" href="#custom-instance" title="Link to this heading"></a></h1>
<p>utils/customFetch.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">axios</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;axios&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">customFetch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">axios</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
<span class="w">  </span><span class="nx">baseURL</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/api/v1&#39;</span><span class="p">,</span>
<span class="p">});</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">;</span>
</pre></div>
</div>
<p>main.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">customFetch</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./utils/customFetch.js&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/test&#39;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="typical-form-submission">
<h1>Typical Form Submission<a class="headerlink" href="#typical-form-submission" title="Link to this heading"></a></h1>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useState</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">axios</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;axios&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">MyForm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">value</span><span class="p">,</span><span class="w"> </span><span class="nx">setValue</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">handleSubmit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">event</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;url&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">value</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">form</span><span class="w"> </span><span class="nx">onSubmit</span><span class="o">=</span><span class="p">{</span><span class="nx">handleSubmit</span><span class="p">}</span><span class="o">&gt;</span><span class="p">.....</span><span class="o">&lt;</span><span class="err">/form&gt;;</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">MyForm</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="react-router-action">
<h1>React Router - Action<a class="headerlink" href="#react-router-action" title="Link to this heading"></a></h1>
<p>Route actions are the “writes” to route loader “reads”. They provide a way for apps to perform data mutations with simple HTML and HTTP semantics while React Router abstracts away the complexity of asynchronous UI and revalidation. This gives you the simple mental model of HTML + HTTP (where the browser handles the asynchrony and revalidation) with the behavior and UX capabilities of modern SPAs.</p>
<p>Register.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Form</span><span class="p">,</span><span class="w"> </span><span class="nx">redirect</span><span class="p">,</span><span class="w"> </span><span class="nx">useNavigation</span><span class="p">,</span><span class="w"> </span><span class="nx">Link</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/RegisterAndLoginPage&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">FormRow</span><span class="p">,</span><span class="w"> </span><span class="nx">Logo</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Register</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Wrapper</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Form</span><span class="w"> </span><span class="nx">method</span><span class="o">=</span><span class="s1">&#39;post&#39;</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form&#39;</span><span class="o">&gt;</span>
<span class="w">        </span><span class="p">...</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Form&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Wrapper&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Register</span><span class="p">;</span>
</pre></div>
</div>
<p>App.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;register&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">element</span><span class="o">:</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">Register</span><span class="w"> </span><span class="p">/&gt;,</span>
<span class="w">  </span><span class="nx">action</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;hello there&#39;</span><span class="p">);</span>
<span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">},</span>
<span class="p">},</span>
</pre></div>
</div>
</section>
<section id="register-user">
<h1>Register User<a class="headerlink" href="#register-user" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>FormData API</p></li>
</ul>
<p><a class="reference external" href="https://youtu.be/5-x4OUM-SP8">FormData API - JS Nuggets</a>
<a class="reference external" href="https://youtu.be/WrX5RndZIzw">FormData API - React </a></p>
<p>Register.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">request</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">formData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">formData</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Object</span><span class="p">.</span><span class="nx">fromEntries</span><span class="p">(</span><span class="nx">formData</span><span class="p">);</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/auth/register&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">redirect</span><span class="p">(</span><span class="s1">&#39;/login&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">error</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
<p>App.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">action</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">registerAction</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./pages/Register&#39;</span><span class="p">;</span>

<span class="p">{</span>
<span class="w">  </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;register&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">element</span><span class="o">:</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">Register</span><span class="w"> </span><span class="p">/&gt;,</span>
<span class="w">  </span><span class="nx">action</span><span class="o">:</span><span class="nx">registerAction</span>
<span class="p">},</span>
</pre></div>
</div>
</section>
<section id="usenavigation-and-navigation-state">
<h1>useNavigation() and navigation.state<a class="headerlink" href="#usenavigation-and-navigation-state" title="Link to this heading"></a></h1>
<p>This hook tells you everything you need to know about a page navigation to build pending navigation indicators and optimistic UI on data mutations. Things like:</p>
<ul class="simple">
<li><p>Global loading indicators</p></li>
<li><p>Adding busy indicators to submit buttons</p></li>
</ul>
<p>Navigation State</p>
<p>idle - There is no navigation pending.
submitting - A route action is being called due to a form submission using POST, PUT, PATCH, or DELETE
loading - The loaders for the next routes are being called to render the next page</p>
<p>Register.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">Register</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">navigation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useNavigation</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">isSubmitting</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">navigation</span><span class="p">.</span><span class="nx">state</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;submitting&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Wrapper</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Form</span><span class="w"> </span><span class="nx">method</span><span class="o">=</span><span class="s1">&#39;post&#39;</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form&#39;</span><span class="o">&gt;</span>
<span class="w">        </span><span class="p">....</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;submit&#39;</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;btn btn-block&#39;</span><span class="w"> </span><span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="nx">isSubmitting</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">          </span><span class="p">{</span><span class="nx">isSubmitting</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;submitting...&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;submit&#39;</span><span class="p">}</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">        </span><span class="p">...</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Form&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Wrapper&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Register</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="react-toastify">
<h1>React-Toastify<a class="headerlink" href="#react-toastify" title="Link to this heading"></a></h1>
<p>Import and set up the react-toastify library.</p>
<p><a class="reference external" href="https://fkhadra.github.io/react-toastify/introduction">React Toastify</a></p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>i<span class="w"> </span>react-toastify@9.1.2
</pre></div>
</div>
<p>main.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;react-toastify/dist/ReactToastify.css&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ToastContainer</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-toastify&#39;</span><span class="p">;</span>
<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">createRoot</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;root&#39;</span><span class="p">)).</span><span class="nx">render</span><span class="p">(</span>
<span class="w">  </span><span class="o">&lt;</span><span class="nx">React</span><span class="p">.</span><span class="nx">StrictMode</span><span class="o">&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">App</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">ToastContainer</span><span class="w"> </span><span class="nx">position</span><span class="o">=</span><span class="s1">&#39;top-center&#39;</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="err">/React.StrictMode&gt;</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Register.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">toast</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-toastify&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">request</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">formData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">formData</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Object</span><span class="p">.</span><span class="nx">fromEntries</span><span class="p">(</span><span class="nx">formData</span><span class="p">);</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/auth/register&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="p">);</span>
<span class="w">    </span><span class="nx">toast</span><span class="p">.</span><span class="nx">success</span><span class="p">(</span><span class="s1">&#39;Registration successful&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">redirect</span><span class="p">(</span><span class="s1">&#39;/login&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">toast</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="o">?</span><span class="p">.</span><span class="nx">response</span><span class="o">?</span><span class="p">.</span><span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">msg</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">error</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="id4">
<h1>Login User<a class="headerlink" href="#id4" title="Link to this heading"></a></h1>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Link</span><span class="p">,</span><span class="w"> </span><span class="nx">Form</span><span class="p">,</span><span class="w"> </span><span class="nx">redirect</span><span class="p">,</span><span class="w"> </span><span class="nx">useNavigation</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/RegisterAndLoginPage&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">FormRow</span><span class="p">,</span><span class="w"> </span><span class="nx">Logo</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">customFetch</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../utils/customFetch&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">toast</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-toastify&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">request</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">formData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">formData</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Object</span><span class="p">.</span><span class="nx">fromEntries</span><span class="p">(</span><span class="nx">formData</span><span class="p">);</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/auth/login&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="p">);</span>
<span class="w">    </span><span class="nx">toast</span><span class="p">.</span><span class="nx">success</span><span class="p">(</span><span class="s1">&#39;Login successful&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">redirect</span><span class="p">(</span><span class="s1">&#39;/dashboard&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">toast</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="o">?</span><span class="p">.</span><span class="nx">response</span><span class="o">?</span><span class="p">.</span><span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">msg</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">error</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Login</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">navigation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useNavigation</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">isSubmitting</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">navigation</span><span class="p">.</span><span class="nx">state</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;submitting&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Wrapper</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Form</span><span class="w"> </span><span class="nx">method</span><span class="o">=</span><span class="s1">&#39;post&#39;</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form&#39;</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Logo</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">h4</span><span class="o">&gt;</span><span class="nx">login</span><span class="o">&lt;</span><span class="err">/h4&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">FormRow</span><span class="w"> </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;email&#39;</span><span class="w"> </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;email&#39;</span><span class="w"> </span><span class="nx">defaultValue</span><span class="o">=</span><span class="s1">&#39;john@gmail.com&#39;</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">FormRow</span><span class="w"> </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;password&#39;</span><span class="w"> </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;password&#39;</span><span class="w"> </span><span class="nx">defaultValue</span><span class="o">=</span><span class="s1">&#39;secret123&#39;</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;submit&#39;</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;btn btn-block&#39;</span><span class="w"> </span><span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="nx">isSubmitting</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">          </span><span class="p">{</span><span class="nx">isSubmitting</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;submitting...&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;submit&#39;</span><span class="p">}</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;button&#39;</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;btn btn-block&#39;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="nx">explore</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">app</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span>
<span class="w">          </span><span class="nx">Not</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">member</span><span class="w"> </span><span class="nx">yet</span><span class="o">?</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">Link</span><span class="w"> </span><span class="nx">to</span><span class="o">=</span><span class="s1">&#39;/register&#39;</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;member-btn&#39;</span><span class="o">&gt;</span>
<span class="w">            </span><span class="nx">Register</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/Link&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/p&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Form&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Wrapper&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Login</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="access-action-data-optional">
<h1>Access Action Data (optional)<a class="headerlink" href="#access-action-data-optional" title="Link to this heading"></a></h1>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useActionData</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">request</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">formData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">formData</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Object</span><span class="p">.</span><span class="nx">fromEntries</span><span class="p">(</span><span class="nx">formData</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">errors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="p">};</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">password</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">errors</span><span class="p">.</span><span class="nx">msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;password too short&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">errors</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/auth/login&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="p">);</span>
<span class="w">    </span><span class="nx">toast</span><span class="p">.</span><span class="nx">success</span><span class="p">(</span><span class="s1">&#39;Login successful&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">redirect</span><span class="p">(</span><span class="s1">&#39;/dashboard&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// toast.error(error?.response?.data?.msg);</span>
<span class="w">    </span><span class="nx">errors</span><span class="p">.</span><span class="nx">msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">msg</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">errors</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Login</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">errors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useActionData</span><span class="p">();</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Wrapper</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Form</span><span class="w"> </span><span class="nx">method</span><span class="o">=</span><span class="s1">&#39;post&#39;</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form&#39;</span><span class="o">&gt;</span>
<span class="w">        </span><span class="p">...</span>
<span class="w">        </span><span class="p">{</span><span class="nx">errors</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">p</span><span class="w"> </span><span class="nx">style</span><span class="o">=</span><span class="p">{{</span><span class="w"> </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;red&#39;</span><span class="w"> </span><span class="p">}}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">errors</span><span class="p">.</span><span class="nx">msg</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/p&gt;}</span>
<span class="w">        </span><span class="p">...</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Form&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Wrapper&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Login</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="id5">
<h1>Get Current User<a class="headerlink" href="#id5" title="Link to this heading"></a></h1>
<p>Each route can define a “loader” function to provide data to the route element before it renders.</p>
<ul class="simple">
<li><p>must return a value</p></li>
</ul>
<p>DashboardLayout.jsx</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Outlet</span><span class="p">,</span><span class="w"> </span><span class="nx">redirect</span><span class="p">,</span><span class="w"> </span><span class="nx">useLoaderData</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">customFetch</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../utils/customFetch&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">loader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">(</span><span class="s1">&#39;/users/current-user&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">data</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">redirect</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>


<span class="kd">const</span><span class="w"> </span><span class="nx">DashboardLayout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">isDarkThemeEnabled</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useLoaderData</span><span class="p">();</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">DashboardContext</span><span class="p">.</span><span class="na">Provider</span>
<span class="w">      </span><span class="na">value</span><span class="o">=</span><span class="p">{{</span>
<span class="w">        </span><span class="nx">user</span><span class="p">,</span>
<span class="w">        </span><span class="nx">showSidebar</span><span class="p">,</span>
<span class="w">        </span><span class="nx">isDarkTheme</span><span class="p">,</span>
<span class="w">        </span><span class="nx">toggleDarkTheme</span><span class="p">,</span>
<span class="w">        </span><span class="nx">toggleSidebar</span><span class="p">,</span>
<span class="w">        </span><span class="nx">logoutUser</span><span class="p">,</span>
<span class="w">      </span><span class="p">}}</span>
<span class="w">    </span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">Wrapper</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">main</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;dashboard&#39;</span><span class="p">&gt;</span>
<span class="w">         </span><span class="p">...</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&#39;dashboard-page&#39;</span><span class="p">&gt;</span>
<span class="w">              </span><span class="p">&lt;</span><span class="nt">Outlet</span><span class="w"> </span><span class="na">context</span><span class="o">=</span><span class="p">{{</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="p">}}</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">            </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">Wrapper</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">DashboardContext</span><span class="p">.</span><span class="na">Provider</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">useDashboardContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">useContext</span><span class="p">(</span><span class="nx">DashboardContext</span><span class="p">);</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">DashboardLayout</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="id6">
<h1>Logout User<a class="headerlink" href="#id6" title="Link to this heading"></a></h1>
<p>DashboardLayout.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useNavigate</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">toast</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-toastify&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">DashboardLayout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">navigate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useNavigate</span><span class="p">();</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">logoutUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">navigate</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/auth/logout&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="nx">toast</span><span class="p">.</span><span class="nx">success</span><span class="p">(</span><span class="s1">&#39;Logging out...&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="addjob-structure">
<h1>AddJob - Structure<a class="headerlink" href="#addjob-structure" title="Link to this heading"></a></h1>
<p>pages/AddJob.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">FormRow</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/DashboardFormPage&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useOutletContext</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">JOB_STATUS</span><span class="p">,</span><span class="w"> </span><span class="nx">JOB_TYPE</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../../../utils/constants&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Form</span><span class="p">,</span><span class="w"> </span><span class="nx">useNavigation</span><span class="p">,</span><span class="w"> </span><span class="nx">redirect</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">toast</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-toastify&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">customFetch</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../utils/customFetch&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">AddJob</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useOutletContext</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">navigation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useNavigation</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">isSubmitting</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">navigation</span><span class="p">.</span><span class="nx">state</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;submitting&#39;</span><span class="p">;</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Wrapper</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Form</span><span class="w"> </span><span class="nx">method</span><span class="o">=</span><span class="s1">&#39;post&#39;</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form&#39;</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">h4</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form-title&#39;</span><span class="o">&gt;</span><span class="nx">add</span><span class="w"> </span><span class="nx">job</span><span class="o">&lt;</span><span class="err">/h4&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form-center&#39;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">FormRow</span><span class="w"> </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;text&#39;</span><span class="w"> </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;position&#39;</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">FormRow</span><span class="w"> </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;text&#39;</span><span class="w"> </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;company&#39;</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">FormRow</span>
<span class="w">            </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;text&#39;</span>
<span class="w">            </span><span class="nx">labelText</span><span class="o">=</span><span class="s1">&#39;job location&#39;</span>
<span class="w">            </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;jobLocation&#39;</span>
<span class="w">            </span><span class="nx">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="nx">user</span><span class="p">.</span><span class="nx">location</span><span class="p">}</span>
<span class="w">          </span><span class="o">/&gt;</span>

<span class="w">          </span><span class="o">&lt;</span><span class="nx">button</span>
<span class="w">            </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;submit&#39;</span>
<span class="w">            </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;btn btn-block form-btn &#39;</span>
<span class="w">            </span><span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="nx">isSubmitting</span><span class="p">}</span>
<span class="w">          </span><span class="o">&gt;</span>
<span class="w">            </span><span class="p">{</span><span class="nx">isSubmitting</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;submitting...&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;submit&#39;</span><span class="p">}</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Form&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Wrapper&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">AddJob</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="select-input">
<h1>Select Input<a class="headerlink" href="#select-input" title="Link to this heading"></a></h1>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form-row&#39;</span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="nx">label</span><span class="w"> </span><span class="nx">htmlFor</span><span class="o">=</span><span class="s1">&#39;jobStatus&#39;</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form-label&#39;</span><span class="o">&gt;</span>
<span class="w">    </span><span class="nx">job</span><span class="w"> </span><span class="nx">status</span>
<span class="w">  </span><span class="o">&lt;</span><span class="err">/label&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="nx">select</span>
<span class="w">    </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;jobStatus&#39;</span>
<span class="w">    </span><span class="nx">id</span><span class="o">=</span><span class="s1">&#39;jobStatus&#39;</span>
<span class="w">    </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form-select&#39;</span>
<span class="w">    </span><span class="nx">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="nx">JOB_TYPE</span><span class="p">.</span><span class="nx">FULL_TIME</span><span class="p">}</span>
<span class="w">  </span><span class="o">&gt;</span>
<span class="w">    </span><span class="p">{</span><span class="nb">Object</span><span class="p">.</span><span class="nx">values</span><span class="p">(</span><span class="nx">JOB_TYPE</span><span class="p">).</span><span class="nx">map</span><span class="p">((</span><span class="nx">itemValue</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">option</span><span class="w"> </span><span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">itemValue</span><span class="p">}</span><span class="w"> </span><span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">itemValue</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">          </span><span class="p">{</span><span class="nx">itemValue</span><span class="p">}</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/option&gt;</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">})}</span>
<span class="w">  </span><span class="o">&lt;</span><span class="err">/select&gt;</span>
<span class="o">&lt;</span><span class="err">/div&gt;</span>
</pre></div>
</div>
</section>
<section id="formrowselect-component">
<h1>FormRowSelect Component<a class="headerlink" href="#formrowselect-component" title="Link to this heading"></a></h1>
<p>components/FormRowSelect.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">FormRowSelect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">labelText</span><span class="p">,</span><span class="w"> </span><span class="nx">list</span><span class="p">,</span><span class="w"> </span><span class="nx">defaultValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form-row&#39;</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">label</span><span class="w"> </span><span class="nx">htmlFor</span><span class="o">=</span><span class="p">{</span><span class="nx">name</span><span class="p">}</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form-label&#39;</span><span class="o">&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="nx">labelText</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">name</span><span class="p">}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/label&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">select</span>
<span class="w">        </span><span class="nx">name</span><span class="o">=</span><span class="p">{</span><span class="nx">name</span><span class="p">}</span>
<span class="w">        </span><span class="nx">id</span><span class="o">=</span><span class="p">{</span><span class="nx">name</span><span class="p">}</span>
<span class="w">        </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form-select&#39;</span>
<span class="w">        </span><span class="nx">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="nx">defaultValue</span><span class="p">}</span>
<span class="w">      </span><span class="o">&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="nx">list</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">itemValue</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">option</span><span class="w"> </span><span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">itemValue</span><span class="p">}</span><span class="w"> </span><span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">itemValue</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">              </span><span class="p">{</span><span class="nx">itemValue</span><span class="p">}</span>
<span class="w">            </span><span class="o">&lt;</span><span class="err">/option&gt;</span>
<span class="w">          </span><span class="p">);</span>
<span class="w">        </span><span class="p">})}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/select&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">FormRowSelect</span><span class="p">;</span>
</pre></div>
</div>
<p>pages/AddJob.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nx">FormRowSelect</span>
<span class="w">  </span><span class="nx">labelText</span><span class="o">=</span><span class="s1">&#39;job status&#39;</span>
<span class="w">  </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;jobStatus&#39;</span>
<span class="w">  </span><span class="nx">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="nx">JOB_STATUS</span><span class="p">.</span><span class="nx">PENDING</span><span class="p">}</span>
<span class="w">  </span><span class="nx">list</span><span class="o">=</span><span class="p">{</span><span class="nb">Object</span><span class="p">.</span><span class="nx">values</span><span class="p">(</span><span class="nx">JOB_STATUS</span><span class="p">)}</span>
<span class="w">  </span><span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="nx">FormRowSelect</span>
<span class="w">  </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;jobType&#39;</span>
<span class="w">  </span><span class="nx">labelText</span><span class="o">=</span><span class="s1">&#39;job type&#39;</span>
<span class="w">  </span><span class="nx">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="nx">JOB_TYPE</span><span class="p">.</span><span class="nx">FULL_TIME</span><span class="p">}</span>
<span class="w">  </span><span class="nx">list</span><span class="o">=</span><span class="p">{</span><span class="nb">Object</span><span class="p">.</span><span class="nx">values</span><span class="p">(</span><span class="nx">JOB_TYPE</span><span class="p">)}</span>
<span class="w">  </span><span class="o">/&gt;</span>
</pre></div>
</div>
</section>
<section id="id7">
<h1>Create Job<a class="headerlink" href="#id7" title="Link to this heading"></a></h1>
<p>AddJob.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">request</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">formData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">formData</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Object</span><span class="p">.</span><span class="nx">fromEntries</span><span class="p">(</span><span class="nx">formData</span><span class="p">);</span>

<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/jobs&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="p">);</span>
<span class="w">    </span><span class="nx">toast</span><span class="p">.</span><span class="nx">success</span><span class="p">(</span><span class="s1">&#39;Job added successfully&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">toast</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="o">?</span><span class="p">.</span><span class="nx">response</span><span class="o">?</span><span class="p">.</span><span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">msg</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">error</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="pending-class-and-redirect">
<h1>Pending Class and Redirect<a class="headerlink" href="#pending-class-and-redirect" title="Link to this heading"></a></h1>
<p>wrappers/BigSidebar.js</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="p">.</span><span class="nc">pending</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">background</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--background-color</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>AddJob.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">request</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">formData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">formData</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Object</span><span class="p">.</span><span class="nx">fromEntries</span><span class="p">(</span><span class="nx">formData</span><span class="p">);</span>

<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/jobs&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="p">);</span>
<span class="w">    </span><span class="nx">toast</span><span class="p">.</span><span class="nx">success</span><span class="p">(</span><span class="s1">&#39;Job added successfully&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">redirect</span><span class="p">(</span><span class="s1">&#39;all-jobs&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">toast</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="o">?</span><span class="p">.</span><span class="nx">response</span><span class="o">?</span><span class="p">.</span><span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">msg</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">error</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="add-job-css-optional">
<h1>Add Job - CSS(optional)<a class="headerlink" href="#add-job-css-optional" title="Link to this heading"></a></h1>
<p>wrappers/DashboardFormPage.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">styled</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;styled-components&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">styled</span><span class="p">.</span><span class="nx">section</span><span class="sb">`</span>
<span class="sb">  border-radius: var(--border-radius);</span>
<span class="sb">  width: 100%;</span>
<span class="sb">  background: var(--background-secondary-color);</span>
<span class="sb">  padding: 3rem 2rem 4rem;</span>
<span class="sb">  box-shadow: var(--shadow-2);</span>
<span class="sb">  .form-title {</span>
<span class="sb">    margin-bottom: 2rem;</span>
<span class="sb">  }</span>

<span class="sb">  .form {</span>
<span class="sb">    margin: 0;</span>
<span class="sb">    border-radius: 0;</span>
<span class="sb">    box-shadow: none;</span>
<span class="sb">    padding: 0;</span>
<span class="sb">    max-width: 100%;</span>
<span class="sb">    width: 100%;</span>
<span class="sb">  }</span>
<span class="sb">  .form-row {</span>
<span class="sb">    margin-bottom: 0;</span>
<span class="sb">  }</span>
<span class="sb">  .form-center {</span>
<span class="sb">    display: grid;</span>
<span class="sb">    row-gap: 1rem;</span>
<span class="sb">  }</span>
<span class="sb">  .form-btn {</span>
<span class="sb">    align-self: end;</span>
<span class="sb">    margin-top: 1rem;</span>
<span class="sb">    display: grid;</span>
<span class="sb">    place-items: center;</span>
<span class="sb">  }</span>

<span class="sb">  @media (min-width: 992px) {</span>
<span class="sb">    .form-center {</span>
<span class="sb">      grid-template-columns: 1fr 1fr;</span>
<span class="sb">      align-items: center;</span>
<span class="sb">      column-gap: 1rem;</span>
<span class="sb">    }</span>
<span class="sb">  }</span>
<span class="sb">  @media (min-width: 1120px) {</span>
<span class="sb">    .form-center {</span>
<span class="sb">      grid-template-columns: 1fr 1fr 1fr;</span>
<span class="sb">    }</span>
<span class="sb">  }</span>
<span class="sb">`</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Wrapper</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="all-jobs-structure">
<h1>All Jobs - Structure<a class="headerlink" href="#all-jobs-structure" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>create JobsContainer and SearchContainer (export)</p></li>
<li><p>handle loader in App.jsx</p></li>
</ul>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">toast</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-toastify&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">JobsContainer</span><span class="p">,</span><span class="w"> </span><span class="nx">SearchContainer</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">customFetch</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../utils/customFetch&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useLoaderData</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useContext</span><span class="p">,</span><span class="w"> </span><span class="nx">createContext</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">loader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">request</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/jobs&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">data</span><span class="p">,</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">toast</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="o">?</span><span class="p">.</span><span class="nx">response</span><span class="o">?</span><span class="p">.</span><span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">msg</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">error</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">AllJobs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useLoaderData</span><span class="p">();</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">SearchContainer</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">JobsContainer</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">AllJobs</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="setup-all-jobs-context">
<h1>Setup All Jobs Context<a class="headerlink" href="#setup-all-jobs-context" title="Link to this heading"></a></h1>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">AllJobsContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createContext</span><span class="p">();</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">AllJobs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useLoaderData</span><span class="p">();</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">AllJobsContext</span><span class="p">.</span><span class="nx">Provider</span><span class="w"> </span><span class="nx">value</span><span class="o">=</span><span class="p">{{</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="p">}}</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">SearchContainer</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">JobsContainer</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/AllJobsContext.Provider&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">useAllJobsContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">useContext</span><span class="p">(</span><span class="nx">AllJobsContext</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="render-jobs">
<h1>Render Jobs<a class="headerlink" href="#render-jobs" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>create Job.jsx</p></li>
</ul>
<p>JobsContainer.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">Job</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./Job&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/JobsContainer&#39;</span><span class="p">;</span>

<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useAllJobsContext</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../pages/AllJobs&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">JobsContainer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useAllJobsContext</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">jobs</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">data</span><span class="p">;</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">jobs</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Wrapper</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">h2</span><span class="o">&gt;</span><span class="nx">No</span><span class="w"> </span><span class="nx">jobs</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">display</span><span class="p">...</span><span class="o">&lt;</span><span class="err">/h2&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Wrapper&gt;</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Wrapper</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;jobs&#39;</span><span class="o">&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="nx">jobs</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">job</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">Job</span><span class="w"> </span><span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">job</span><span class="p">.</span><span class="nx">_id</span><span class="p">}</span><span class="w"> </span><span class="p">{...</span><span class="nx">job</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">;</span>
<span class="w">        </span><span class="p">})}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Wrapper&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">JobsContainer</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="jobscontainer-css-optional">
<h1>JobsContainer - CSS (optional)<a class="headerlink" href="#jobscontainer-css-optional" title="Link to this heading"></a></h1>
<p>wrappers/JobsContainer.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">styled</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;styled-components&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">styled</span><span class="p">.</span><span class="nx">section</span><span class="sb">`</span>
<span class="sb">  margin-top: 4rem;</span>
<span class="sb">  h2 {</span>
<span class="sb">    text-transform: none;</span>
<span class="sb">  }</span>
<span class="sb">  &amp; &gt; h5 {</span>
<span class="sb">    font-weight: 700;</span>
<span class="sb">    margin-bottom: 1.5rem;</span>
<span class="sb">  }</span>
<span class="sb">  .jobs {</span>
<span class="sb">    display: grid;</span>
<span class="sb">    grid-template-columns: 1fr;</span>
<span class="sb">    row-gap: 2rem;</span>
<span class="sb">  }</span>
<span class="sb">  @media (min-width: 1120px) {</span>
<span class="sb">    .jobs {</span>
<span class="sb">      display: grid;</span>
<span class="sb">      grid-template-columns: 1fr 1fr;</span>
<span class="sb">      gap: 2rem;</span>
<span class="sb">    }</span>
<span class="sb">  }</span>
<span class="sb">`</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Wrapper</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="dayjs">
<h1>Dayjs<a class="headerlink" href="#dayjs" title="Link to this heading"></a></h1>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>i<span class="w"> </span>dayjs@1.11.7
</pre></div>
</div>
<p><a class="reference external" href="https://day.js.org/docs/en/installation/installation">Dayjs Docs</a></p>
</section>
<section id="job-component">
<h1>Job Component<a class="headerlink" href="#job-component" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>create JobInfo component</p></li>
</ul>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">FaLocationArrow</span><span class="p">,</span><span class="w"> </span><span class="nx">FaBriefcase</span><span class="p">,</span><span class="w"> </span><span class="nx">FaCalendarAlt</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-icons/fa&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Link</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/Job&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">JobInfo</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./JobInfo&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Form</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">day</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;dayjs&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">advancedFormat</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;dayjs/plugin/advancedFormat&#39;</span><span class="p">;</span>
<span class="nx">day</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">advancedFormat</span><span class="p">);</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span>
<span class="w">  </span><span class="nx">_id</span><span class="p">,</span>
<span class="w">  </span><span class="nx">position</span><span class="p">,</span>
<span class="w">  </span><span class="nx">company</span><span class="p">,</span>
<span class="w">  </span><span class="nx">jobLocation</span><span class="p">,</span>
<span class="w">  </span><span class="nx">jobType</span><span class="p">,</span>
<span class="w">  </span><span class="nx">createdAt</span><span class="p">,</span>
<span class="w">  </span><span class="nx">jobStatus</span><span class="p">,</span>
<span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">date</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">day</span><span class="p">(</span><span class="nx">createdAt</span><span class="p">).</span><span class="nx">format</span><span class="p">(</span><span class="s1">&#39;MMM Do, YYYY&#39;</span><span class="p">);</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Wrapper</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">header</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;main-icon&#39;</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">company</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mf">0</span><span class="p">)}</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;info&#39;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">h5</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">position</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h5&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">company</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/header&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;content&#39;</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;content-center&#39;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">JobInfo</span><span class="w"> </span><span class="nx">icon</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="nx">FaLocationArrow</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">}</span><span class="w"> </span><span class="nx">text</span><span class="o">=</span><span class="p">{</span><span class="nx">jobLocation</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">JobInfo</span><span class="w"> </span><span class="nx">icon</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="nx">FaCalendarAlt</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">}</span><span class="w"> </span><span class="nx">text</span><span class="o">=</span><span class="p">{</span><span class="nx">date</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">JobInfo</span><span class="w"> </span><span class="nx">icon</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="nx">FaBriefcase</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">}</span><span class="w"> </span><span class="nx">text</span><span class="o">=</span><span class="p">{</span><span class="nx">jobType</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="sb">`status </span><span class="si">${</span><span class="nx">jobStatus</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">jobStatus</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/div&gt;</span>

<span class="w">        </span><span class="o">&lt;</span><span class="nx">footer</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;actions&#39;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">Link</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;btn edit-btn&#39;</span><span class="o">&gt;</span><span class="nx">Edit</span><span class="o">&lt;</span><span class="err">/Link&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">Form</span><span class="o">&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;submit&#39;</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;btn delete-btn&#39;</span><span class="o">&gt;</span>
<span class="w">              </span><span class="nx">Delete</span>
<span class="w">            </span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/Form&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/footer&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Wrapper&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Job</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="jobinfo-component">
<h1>JobInfo Component<a class="headerlink" href="#jobinfo-component" title="Link to this heading"></a></h1>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/JobInfo&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">JobInfo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">icon</span><span class="p">,</span><span class="w"> </span><span class="nx">text</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Wrapper</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">span</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;job-icon&#39;</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">icon</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/span&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">span</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;job-text&#39;</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">text</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/span&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Wrapper&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">JobInfo</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="jobinfo-css-optional">
<h1>JobInfo - CSS (optional)<a class="headerlink" href="#jobinfo-css-optional" title="Link to this heading"></a></h1>
<p>wrappers/JobInfo.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">styled</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;styled-components&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">styled</span><span class="p">.</span><span class="nx">div</span><span class="sb">`</span>
<span class="sb">  display: flex;</span>
<span class="sb">  align-items: center;</span>

<span class="sb">  .job-icon {</span>
<span class="sb">    font-size: 1rem;</span>
<span class="sb">    margin-right: 1rem;</span>
<span class="sb">    display: flex;</span>
<span class="sb">    align-items: center;</span>
<span class="sb">    svg {</span>
<span class="sb">      color: var(--text-secondary-color);</span>
<span class="sb">    }</span>
<span class="sb">  }</span>
<span class="sb">  .job-text {</span>
<span class="sb">    text-transform: capitalize;</span>
<span class="sb">    letter-spacing: var(--letter-spacing);</span>
<span class="sb">  }</span>
<span class="sb">`</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Wrapper</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="job-css-optional">
<h1>Job - CSS (optional)<a class="headerlink" href="#job-css-optional" title="Link to this heading"></a></h1>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">styled</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;styled-components&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">styled</span><span class="p">.</span><span class="nx">article</span><span class="sb">`</span>
<span class="sb">  background: var(--background-secondary-color);</span>
<span class="sb">  border-radius: var(--border-radius);</span>
<span class="sb">  display: grid;</span>
<span class="sb">  grid-template-rows: 1fr auto;</span>
<span class="sb">  box-shadow: var(--shadow-2);</span>

<span class="sb">  header {</span>
<span class="sb">    padding: 1rem 1.5rem;</span>
<span class="sb">    border-bottom: 1px solid var(--grey-100);</span>
<span class="sb">    display: grid;</span>
<span class="sb">    grid-template-columns: auto 1fr;</span>
<span class="sb">    align-items: center;</span>
<span class="sb">  }</span>
<span class="sb">  .main-icon {</span>
<span class="sb">    width: 60px;</span>
<span class="sb">    height: 60px;</span>
<span class="sb">    display: grid;</span>
<span class="sb">    place-items: center;</span>
<span class="sb">    background: var(--primary-500);</span>
<span class="sb">    border-radius: var(--border-radius);</span>
<span class="sb">    font-size: 1.5rem;</span>
<span class="sb">    font-weight: 700;</span>
<span class="sb">    text-transform: uppercase;</span>
<span class="sb">    color: var(--white);</span>
<span class="sb">    margin-right: 2rem;</span>
<span class="sb">  }</span>
<span class="sb">  .info {</span>
<span class="sb">    h5 {</span>
<span class="sb">      margin-bottom: 0.5rem;</span>
<span class="sb">    }</span>
<span class="sb">    p {</span>
<span class="sb">      margin: 0;</span>
<span class="sb">      text-transform: capitalize;</span>
<span class="sb">      color: var(--text-secondary-color);</span>
<span class="sb">      letter-spacing: var(--letter-spacing);</span>
<span class="sb">    }</span>
<span class="sb">  }</span>

<span class="sb">  .content {</span>
<span class="sb">    padding: 1rem 1.5rem;</span>
<span class="sb">  }</span>
<span class="sb">  .content-center {</span>
<span class="sb">    display: grid;</span>
<span class="sb">    margin-top: 1rem;</span>
<span class="sb">    margin-bottom: 1.5rem;</span>
<span class="sb">    grid-template-columns: 1fr;</span>
<span class="sb">    row-gap: 1.5rem;</span>
<span class="sb">    align-items: center;</span>
<span class="sb">    @media (min-width: 576px) {</span>
<span class="sb">      grid-template-columns: 1fr 1fr;</span>
<span class="sb">    }</span>
<span class="sb">  }</span>

<span class="sb">  .status {</span>
<span class="sb">    border-radius: var(--border-radius);</span>
<span class="sb">    text-transform: capitalize;</span>
<span class="sb">    letter-spacing: var(--letter-spacing);</span>
<span class="sb">    text-align: center;</span>
<span class="sb">    width: 100px;</span>
<span class="sb">    height: 30px;</span>
<span class="sb">    display: grid;</span>
<span class="sb">    align-items: center;</span>
<span class="sb">  }</span>
<span class="sb">  .actions {</span>
<span class="sb">    margin-top: 1rem;</span>
<span class="sb">    display: flex;</span>
<span class="sb">    align-items: center;</span>
<span class="sb">  }</span>
<span class="sb">  .edit-btn,</span>
<span class="sb">  .delete-btn {</span>
<span class="sb">    height: 30px;</span>
<span class="sb">    font-size: 0.85rem;</span>
<span class="sb">    display: flex;</span>
<span class="sb">    align-items: center;</span>
<span class="sb">  }</span>
<span class="sb">  .edit-btn {</span>
<span class="sb">    margin-right: 0.5rem;</span>
<span class="sb">  }</span>
<span class="sb">`</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Wrapper</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="edit-job-setup">
<h1>Edit Job - Setup<a class="headerlink" href="#edit-job-setup" title="Link to this heading"></a></h1>
<p>Job.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nx">Link</span><span class="w"> </span><span class="nx">to</span><span class="o">=</span><span class="p">{</span><span class="sb">`../edit-job/</span><span class="si">${</span><span class="nx">_id</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;btn edit-btn&#39;</span><span class="o">&gt;</span>
<span class="w">  </span><span class="nx">Edit</span>
<span class="o">&lt;</span><span class="err">/Link&gt;</span>
</pre></div>
</div>
<p>pages/EditJob.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">FormRow</span><span class="p">,</span><span class="w"> </span><span class="nx">FormRowSelect</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/DashboardFormPage&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useLoaderData</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">JOB_STATUS</span><span class="p">,</span><span class="w"> </span><span class="nx">JOB_TYPE</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../../../utils/constants&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Form</span><span class="p">,</span><span class="w"> </span><span class="nx">useNavigation</span><span class="p">,</span><span class="w"> </span><span class="nx">redirect</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">toast</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-toastify&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">customFetch</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../utils/customFetch&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">loader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">EditJob</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">EditJob</span><span class="w"> </span><span class="nx">Page</span><span class="o">&lt;</span><span class="err">/h1&gt;;</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">EditJob</span><span class="p">;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>import EditJob page
App.jsx</p></li>
</ul>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">loader</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">editJobLoader</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./pages/EditJob&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">action</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">editJobAction</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./pages/EditJob&#39;</span><span class="p">;</span>


<span class="p">{</span>
<span class="w">  </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;edit-job/:id&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">element</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">EditJob</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">loader</span><span class="o">:</span><span class="w"> </span><span class="nx">editJobLoader</span><span class="p">,</span>
<span class="w">  </span><span class="nx">action</span><span class="o">:</span><span class="w"> </span><span class="nx">editJobAction</span><span class="p">,</span>
<span class="p">},</span>
</pre></div>
</div>
<p>pages/EditJob.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">loader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">params</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="sb">`/jobs/</span><span class="si">${</span><span class="nx">params</span><span class="p">.</span><span class="nx">id</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">data</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">toast</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">msg</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">redirect</span><span class="p">(</span><span class="s1">&#39;/dashboard/all-jobs&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">EditJob</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useParams</span><span class="p">();</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">params</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useLoaderData</span><span class="p">();</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">navigation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useNavigation</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">isSubmitting</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">navigation</span><span class="p">.</span><span class="nx">state</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;submitting&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">EditJob</span><span class="w"> </span><span class="nx">Page</span><span class="o">&lt;</span><span class="err">/h1&gt;;</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">EditJob</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="edit-job-complete">
<h1>Edit Job - Complete<a class="headerlink" href="#edit-job-complete" title="Link to this heading"></a></h1>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">request</span><span class="p">,</span><span class="w"> </span><span class="nx">params</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">formData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">formData</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Object</span><span class="p">.</span><span class="nx">fromEntries</span><span class="p">(</span><span class="nx">formData</span><span class="p">);</span>

<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">patch</span><span class="p">(</span><span class="sb">`/jobs/</span><span class="si">${</span><span class="nx">params</span><span class="p">.</span><span class="nx">id</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="p">);</span>
<span class="w">    </span><span class="nx">toast</span><span class="p">.</span><span class="nx">success</span><span class="p">(</span><span class="s1">&#39;Job edited successfully&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">redirect</span><span class="p">(</span><span class="s1">&#39;/dashboard/all-jobs&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">toast</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">msg</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">error</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">EditJob</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useLoaderData</span><span class="p">();</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">navigation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useNavigation</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">isSubmitting</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">navigation</span><span class="p">.</span><span class="nx">state</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;submitting&#39;</span><span class="p">;</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Wrapper</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Form</span><span class="w"> </span><span class="nx">method</span><span class="o">=</span><span class="s1">&#39;post&#39;</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form&#39;</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">h4</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form-title&#39;</span><span class="o">&gt;</span><span class="nx">edit</span><span class="w"> </span><span class="nx">job</span><span class="o">&lt;</span><span class="err">/h4&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form-center&#39;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">FormRow</span><span class="w"> </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;text&#39;</span><span class="w"> </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;position&#39;</span><span class="w"> </span><span class="nx">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="nx">job</span><span class="p">.</span><span class="nx">position</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">FormRow</span><span class="w"> </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;text&#39;</span><span class="w"> </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;company&#39;</span><span class="w"> </span><span class="nx">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="nx">job</span><span class="p">.</span><span class="nx">company</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">FormRow</span>
<span class="w">            </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;text&#39;</span>
<span class="w">            </span><span class="nx">labelText</span><span class="o">=</span><span class="s1">&#39;job location&#39;</span>
<span class="w">            </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;jobLocation&#39;</span>
<span class="w">            </span><span class="nx">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="nx">job</span><span class="p">.</span><span class="nx">jobLocation</span><span class="p">}</span>
<span class="w">          </span><span class="o">/&gt;</span>

<span class="w">          </span><span class="o">&lt;</span><span class="nx">FormRowSelect</span>
<span class="w">            </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;jobStatus&#39;</span>
<span class="w">            </span><span class="nx">labelText</span><span class="o">=</span><span class="s1">&#39;job status&#39;</span>
<span class="w">            </span><span class="nx">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="nx">job</span><span class="p">.</span><span class="nx">jobStatus</span><span class="p">}</span>
<span class="w">            </span><span class="nx">list</span><span class="o">=</span><span class="p">{</span><span class="nb">Object</span><span class="p">.</span><span class="nx">values</span><span class="p">(</span><span class="nx">JOB_STATUS</span><span class="p">)}</span>
<span class="w">          </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">FormRowSelect</span>
<span class="w">            </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;jobType&#39;</span>
<span class="w">            </span><span class="nx">labelText</span><span class="o">=</span><span class="s1">&#39;job type&#39;</span>
<span class="w">            </span><span class="nx">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="nx">job</span><span class="p">.</span><span class="nx">jobType</span><span class="p">}</span>
<span class="w">            </span><span class="nx">list</span><span class="o">=</span><span class="p">{</span><span class="nb">Object</span><span class="p">.</span><span class="nx">values</span><span class="p">(</span><span class="nx">JOB_TYPE</span><span class="p">)}</span>
<span class="w">          </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">button</span>
<span class="w">            </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;submit&#39;</span>
<span class="w">            </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;btn btn-block form-btn &#39;</span>
<span class="w">            </span><span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="nx">isSubmitting</span><span class="p">}</span>
<span class="w">          </span><span class="o">&gt;</span>
<span class="w">            </span><span class="p">{</span><span class="nx">isSubmitting</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;submitting...&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;submit&#39;</span><span class="p">}</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Form&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Wrapper&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">EditJob</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="id8">
<h1>Delete Job<a class="headerlink" href="#id8" title="Link to this heading"></a></h1>
<p>Job.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nx">Form</span><span class="w"> </span><span class="nx">method</span><span class="o">=</span><span class="s1">&#39;post&#39;</span><span class="w"> </span><span class="nx">action</span><span class="o">=</span><span class="p">{</span><span class="sb">`../delete-job/</span><span class="si">${</span><span class="nx">_id</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;submit&#39;</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;btn delete-btn&#39;</span><span class="o">&gt;</span>
<span class="w">    </span><span class="nx">Delete</span>
<span class="w">  </span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="o">&lt;</span><span class="err">/Form&gt;</span>
</pre></div>
</div>
<p>pages/DeleteJob.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">redirect</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">customFetch</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../utils/customFetch&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">toast</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-toastify&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">action</span><span class="p">({</span><span class="w"> </span><span class="nx">params</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="ow">delete</span><span class="p">(</span><span class="sb">`/jobs/</span><span class="si">${</span><span class="nx">params</span><span class="p">.</span><span class="nx">id</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">    </span><span class="nx">toast</span><span class="p">.</span><span class="nx">success</span><span class="p">(</span><span class="s1">&#39;Job deleted successfully&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">toast</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">msg</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">redirect</span><span class="p">(</span><span class="s1">&#39;/dashboard/all-jobs&#39;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>App.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">action</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">deleteJobAction</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./pages/DeleteJob&#39;</span><span class="p">;</span>

<span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;delete-job/:id&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">action</span><span class="o">:</span><span class="w"> </span><span class="nx">deleteJobAction</span><span class="w"> </span><span class="p">},</span>
</pre></div>
</div>
</section>
<section id="admin-page">
<h1>Admin Page<a class="headerlink" href="#admin-page" title="Link to this heading"></a></h1>
<p>pages/Admin.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">FaSuitcaseRolling</span><span class="p">,</span><span class="w"> </span><span class="nx">FaCalendarCheck</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-icons/fa&#39;</span><span class="p">;</span>

<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useLoaderData</span><span class="p">,</span><span class="w"> </span><span class="nx">redirect</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">customFetch</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../utils/customFetch&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/StatsContainer&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">toast</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-toastify&#39;</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">loader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/users/admin/app-stats&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">toast</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;You are not authorized to view this page&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">redirect</span><span class="p">(</span><span class="s1">&#39;/dashboard&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Admin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">users</span><span class="p">,</span><span class="w"> </span><span class="nx">jobs</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useLoaderData</span><span class="p">();</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Wrapper</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">h2</span><span class="o">&gt;</span><span class="nx">admin</span><span class="w"> </span><span class="nx">page</span><span class="o">&lt;</span><span class="err">/h2&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Wrapper&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Admin</span><span class="p">;</span>
</pre></div>
</div>
<p>App.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">loader</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">adminLoader</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./pages/Admin&#39;</span><span class="p">;</span>

<span class="p">{</span>
<span class="w">  </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;admin&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">element</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">Admin</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">loader</span><span class="o">:</span><span class="w"> </span><span class="nx">adminLoader</span><span class="p">,</span>
<span class="p">},</span>
</pre></div>
</div>
<p>NavLinks.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nx">links</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">link</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">text</span><span class="p">,</span><span class="w"> </span><span class="nx">path</span><span class="p">,</span><span class="w"> </span><span class="nx">icon</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">link</span><span class="p">;</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">role</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">user</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">role</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="s1">&#39;admin&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">path</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;admin&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="p">;</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="statitem-component">
<h1>StatItem Component<a class="headerlink" href="#statitem-component" title="Link to this heading"></a></h1>
<ul>
<li><p>create StatItem.jsx</p></li>
<li><p>import/export</p>
<p>StatItem.jsx</p>
</li>
</ul>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/StatItem&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">StatItem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">count</span><span class="p">,</span><span class="w"> </span><span class="nx">title</span><span class="p">,</span><span class="w"> </span><span class="nx">icon</span><span class="p">,</span><span class="w"> </span><span class="nx">color</span><span class="p">,</span><span class="w"> </span><span class="nx">bcg</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Wrapper</span><span class="w"> </span><span class="nx">color</span><span class="o">=</span><span class="p">{</span><span class="nx">color</span><span class="p">}</span><span class="w"> </span><span class="nx">bcg</span><span class="o">=</span><span class="p">{</span><span class="nx">bcg</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">header</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">span</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">count</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/span&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">span</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;icon&#39;</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">icon</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/span&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/header&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">h5</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;title&#39;</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">title</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h5&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Wrapper&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">StatItem</span><span class="p">;</span>
</pre></div>
</div>
<p>Admin.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">StatItem</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Admin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">users</span><span class="p">,</span><span class="w"> </span><span class="nx">jobs</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useLoaderData</span><span class="p">();</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Wrapper</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">StatItem</span>
<span class="w">        </span><span class="nx">title</span><span class="o">=</span><span class="s1">&#39;current users&#39;</span>
<span class="w">        </span><span class="nx">count</span><span class="o">=</span><span class="p">{</span><span class="nx">users</span><span class="p">}</span>
<span class="w">        </span><span class="nx">color</span><span class="o">=</span><span class="s1">&#39;#e9b949&#39;</span>
<span class="w">        </span><span class="nx">bcg</span><span class="o">=</span><span class="s1">&#39;#fcefc7&#39;</span>
<span class="w">        </span><span class="nx">icon</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="nx">FaSuitcaseRolling</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">}</span>
<span class="w">      </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">StatItem</span>
<span class="w">        </span><span class="nx">title</span><span class="o">=</span><span class="s1">&#39;total jobs&#39;</span>
<span class="w">        </span><span class="nx">count</span><span class="o">=</span><span class="p">{</span><span class="nx">jobs</span><span class="p">}</span>
<span class="w">        </span><span class="nx">color</span><span class="o">=</span><span class="s1">&#39;#647acb&#39;</span>
<span class="w">        </span><span class="nx">bcg</span><span class="o">=</span><span class="s1">&#39;#e0e8f9&#39;</span>
<span class="w">        </span><span class="nx">icon</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="nx">FaCalendarCheck</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">}</span>
<span class="w">      </span><span class="o">/&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Wrapper&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Admin</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="admin-css-optional">
<h1>Admin - CSS (optional)<a class="headerlink" href="#admin-css-optional" title="Link to this heading"></a></h1>
<p>wrappers/StatsContainer.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">styled</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;styled-components&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">styled</span><span class="p">.</span><span class="nx">section</span><span class="sb">`</span>
<span class="sb">  display: grid;</span>
<span class="sb">  row-gap: 2rem;</span>
<span class="sb">  @media (min-width: 768px) {</span>
<span class="sb">    grid-template-columns: 1fr 1fr;</span>
<span class="sb">    column-gap: 1rem;</span>
<span class="sb">  }</span>
<span class="sb">  @media (min-width: 1120px) {</span>
<span class="sb">    grid-template-columns: 1fr 1fr 1fr;</span>
<span class="sb">    column-gap: 1rem;</span>
<span class="sb">  }</span>
<span class="sb">`</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Wrapper</span><span class="p">;</span>
</pre></div>
</div>
<p>wrappers/StatItem.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">styled</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;styled-components&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">styled</span><span class="p">.</span><span class="nx">article</span><span class="sb">`</span>
<span class="sb">  padding: 2rem;</span>
<span class="sb">  background: var(--background-secondary-color);</span>
<span class="sb">  border-radius: var(--border-radius);</span>
<span class="sb">  border-bottom: 5px solid </span><span class="si">${</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">props</span><span class="p">.</span><span class="nx">color</span><span class="si">}</span><span class="sb">;</span>
<span class="sb">  header {</span>
<span class="sb">    display: flex;</span>
<span class="sb">    align-items: center;</span>
<span class="sb">    justify-content: space-between;</span>
<span class="sb">  }</span>
<span class="sb">  .count {</span>
<span class="sb">    display: block;</span>
<span class="sb">    font-weight: 700;</span>
<span class="sb">    font-size: 50px;</span>
<span class="sb">    color: </span><span class="si">${</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">props</span><span class="p">.</span><span class="nx">color</span><span class="si">}</span><span class="sb">;</span>
<span class="sb">    line-height: 2;</span>
<span class="sb">  }</span>
<span class="sb">  .title {</span>
<span class="sb">    margin: 0;</span>
<span class="sb">    text-transform: capitalize;</span>
<span class="sb">    letter-spacing: var(--letter-spacing);</span>
<span class="sb">    text-align: left;</span>
<span class="sb">    margin-top: 0.5rem;</span>
<span class="sb">    font-size: 1.25rem;</span>
<span class="sb">  }</span>
<span class="sb">  .icon {</span>
<span class="sb">    width: 70px;</span>
<span class="sb">    height: 60px;</span>
<span class="sb">    background: </span><span class="si">${</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">props</span><span class="p">.</span><span class="nx">bcg</span><span class="si">}</span><span class="sb">;</span>
<span class="sb">    border-radius: var(--border-radius);</span>
<span class="sb">    display: flex;</span>
<span class="sb">    align-items: center;</span>
<span class="sb">    justify-content: center;</span>
<span class="sb">    svg {</span>
<span class="sb">      font-size: 2rem;</span>
<span class="sb">      color: </span><span class="si">${</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">props</span><span class="p">.</span><span class="nx">color</span><span class="si">}</span><span class="sb">;</span>
<span class="sb">    }</span>
<span class="sb">  }</span>
<span class="sb">`</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Wrapper</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="avatar-image">
<h1>Avatar Image<a class="headerlink" href="#avatar-image" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>get two images from pexels</p></li>
</ul>
<p><a class="reference external" href="https://www.pexels.com/search/person/">pexels</a></p>
</section>
<section id="setup-public-folder">
<h1>Setup Public Folder<a class="headerlink" href="#setup-public-folder" title="Link to this heading"></a></h1>
<p>server.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">dirname</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;path&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">fileURLToPath</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;url&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">path</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;path&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">__dirname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">dirname</span><span class="p">(</span><span class="nx">fileURLToPath</span><span class="p">(</span><span class="k">import</span><span class="p">.</span><span class="nx">meta</span><span class="p">.</span><span class="nx">url</span><span class="p">));</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">express</span><span class="p">.</span><span class="k">static</span><span class="p">(</span><span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;./public&#39;</span><span class="p">)));</span>
</pre></div>
</div>
<ul class="simple">
<li><p>http://localhost:5100/imageName</p></li>
</ul>
</section>
<section id="profile-page-initial-setup">
<h1>Profile Page - Initial Setup<a class="headerlink" href="#profile-page-initial-setup" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>remove jobs,users from DB</p></li>
<li><p>add avatar property in the user model</p></li>
</ul>
<p>models/UserModel.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">UserSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">mongoose</span><span class="p">.</span><span class="nx">Schema</span><span class="p">({</span>
<span class="w">  </span><span class="nx">avatar</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">  </span><span class="nx">avatarPublicId</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="p">});</span>
</pre></div>
</div>
</section>
<section id="profile-page-structure">
<h1>Profile Page - Structure<a class="headerlink" href="#profile-page-structure" title="Link to this heading"></a></h1>
<p>pages/Profile.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">FormRow</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/DashboardFormPage&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useOutletContext</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useNavigation</span><span class="p">,</span><span class="w"> </span><span class="nx">Form</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">customFetch</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../utils/customFetch&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">toast</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-toastify&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Profile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useOutletContext</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">lastName</span><span class="p">,</span><span class="w"> </span><span class="nx">email</span><span class="p">,</span><span class="w"> </span><span class="nx">location</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">user</span><span class="p">;</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">navigation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useNavigation</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">isSubmitting</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">navigation</span><span class="p">.</span><span class="nx">state</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;submitting&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Wrapper</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Form</span><span class="w"> </span><span class="nx">method</span><span class="o">=</span><span class="s1">&#39;post&#39;</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form&#39;</span><span class="w"> </span><span class="nx">encType</span><span class="o">=</span><span class="s1">&#39;multipart/form-data&#39;</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">h4</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form-title&#39;</span><span class="o">&gt;</span><span class="nx">profile</span><span class="o">&lt;</span><span class="err">/h4&gt;</span>

<span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form-center&#39;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form-row&#39;</span><span class="o">&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">label</span><span class="w"> </span><span class="nx">htmlFor</span><span class="o">=</span><span class="s1">&#39;image&#39;</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form-label&#39;</span><span class="o">&gt;</span>
<span class="w">              </span><span class="nx">Select</span><span class="w"> </span><span class="nx">an</span><span class="w"> </span><span class="nx">image</span><span class="w"> </span><span class="nx">file</span><span class="w"> </span><span class="p">(</span><span class="nx">max</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="nx">MB</span><span class="p">)</span><span class="o">:</span>
<span class="w">            </span><span class="o">&lt;</span><span class="err">/label&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">input</span>
<span class="w">              </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;file&#39;</span>
<span class="w">              </span><span class="nx">id</span><span class="o">=</span><span class="s1">&#39;avatar&#39;</span>
<span class="w">              </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;avatar&#39;</span>
<span class="w">              </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form-input&#39;</span>
<span class="w">              </span><span class="nx">accept</span><span class="o">=</span><span class="s1">&#39;image/*&#39;</span>
<span class="w">            </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">FormRow</span><span class="w"> </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;text&#39;</span><span class="w"> </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;name&#39;</span><span class="w"> </span><span class="nx">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="nx">name</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">FormRow</span>
<span class="w">            </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;text&#39;</span>
<span class="w">            </span><span class="nx">labelText</span><span class="o">=</span><span class="s1">&#39;last name&#39;</span>
<span class="w">            </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;lastName&#39;</span>
<span class="w">            </span><span class="nx">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="nx">lastName</span><span class="p">}</span>
<span class="w">          </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">FormRow</span><span class="w"> </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;email&#39;</span><span class="w"> </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;email&#39;</span><span class="w"> </span><span class="nx">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="nx">email</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">FormRow</span><span class="w"> </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;text&#39;</span><span class="w"> </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;location&#39;</span><span class="w"> </span><span class="nx">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="nx">location</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">button</span>
<span class="w">            </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;btn btn-block form-btn&#39;</span>
<span class="w">            </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;submit&#39;</span>
<span class="w">            </span><span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="nx">isSubmitting</span><span class="p">}</span>
<span class="w">          </span><span class="o">&gt;</span>
<span class="w">            </span><span class="p">{</span><span class="nx">isSubmitting</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;submitting...&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;save changes&#39;</span><span class="p">}</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Form&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Wrapper&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Profile</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="profile-page-action">
<h1>Profile Page - Action<a class="headerlink" href="#profile-page-action" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>import/export action (App.jsx)</p></li>
</ul>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">request</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">formData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">formData</span><span class="p">();</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">formData</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;avatar&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">file</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">file</span><span class="p">.</span><span class="nx">size</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">500000</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">toast</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Image size too large&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">patch</span><span class="p">(</span><span class="s1">&#39;/users/update-user&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">formData</span><span class="p">);</span>
<span class="w">    </span><span class="nx">toast</span><span class="p">.</span><span class="nx">success</span><span class="p">(</span><span class="s1">&#39;Profile updated successfully&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">toast</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="o">?</span><span class="p">.</span><span class="nx">response</span><span class="o">?</span><span class="p">.</span><span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">msg</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="update-user-server">
<h1>Update User - Server<a class="headerlink" href="#update-user-server" title="Link to this heading"></a></h1>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>i<span class="w"> </span>multer@1.4.5
</pre></div>
</div>
<p>Multer is a popular middleware package for handling multipart/form-data in Node.js web applications. It is commonly used for handling file uploads. Multer simplifies the process of accepting and storing files submitted through HTTP requests by providing an easy-to-use API. It integrates seamlessly with Express.js and allows developers to define upload destinations, file size limits, and other configurations.</p>
<ul class="simple">
<li><p>create middleware/multerMiddleware.js</p></li>
<li><p>setup multer</p></li>
</ul>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">multer</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;multer&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">storage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">multer</span><span class="p">.</span><span class="nx">diskStorage</span><span class="p">({</span>
<span class="w">  </span><span class="nx">destination</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">file</span><span class="p">,</span><span class="w"> </span><span class="nx">cb</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// set the directory where uploaded files will be stored</span>
<span class="w">    </span><span class="nx">cb</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;public/uploads&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nx">filename</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">file</span><span class="p">,</span><span class="w"> </span><span class="nx">cb</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">fileName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">file</span><span class="p">.</span><span class="nx">originalname</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// set the name of the uploaded file</span>
<span class="w">    </span><span class="nx">cb</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="nx">fileName</span><span class="p">);</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">});</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">upload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">multer</span><span class="p">({</span><span class="w"> </span><span class="nx">storage</span><span class="w"> </span><span class="p">});</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">upload</span><span class="p">;</span>
</pre></div>
</div>
<p>routes/userRouter.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">upload</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../middleware/multerMiddleware.js&#39;</span><span class="p">;</span>

<span class="nx">router</span><span class="p">.</span><span class="nx">patch</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;/update-user&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">upload</span><span class="p">.</span><span class="nx">single</span><span class="p">(</span><span class="s1">&#39;avatar&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="nx">validateUpdateUserInput</span><span class="p">,</span>
<span class="w">  </span><span class="nx">updateUser</span>
<span class="p">);</span>
</pre></div>
</div>
<p>First, the multer package is imported.</p>
<p>Then, a storage object is created using multer.diskStorage(). This object specifies the configuration for storing uploaded files. In this case, the destination function determines the directory where the uploaded files will be saved, which is set to ‘public/uploads’. The filename function defines the name of the uploaded file, which is set to the original filename.</p>
<p>Next, a multer middleware is created by passing the storage object as a configuration option. This multer middleware will be used to handle file uploads in the application.</p>
<p>In this case, upload is an instance of the Multer middleware that was created earlier. The .single() method is called on this instance to indicate that only one file will be uploaded. The argument ‘avatar’ specifies the name of the field in the HTTP request that corresponds to the uploaded file.</p>
<p>When this middleware is used in an HTTP route handler, it will process the incoming request and extract the file attached to the ‘avatar’ field. Multer will then save the file according to the specified storage configuration, which includes the destination directory and filename logic defined earlier. The uploaded file can be accessed in the route handler using req.file.</p>
</section>
<section id="cloudinary-create-account-get-api-keys">
<h1>Cloudinary - Create Account/Get API Keys<a class="headerlink" href="#cloudinary-create-account-get-api-keys" title="Link to this heading"></a></h1>
<p><a class="reference external" href="https://cloudinary.com/">Cloudinary</a></p>
<p>Cloudinary is a cloud-based media management platform that helps businesses store, optimize, and deliver images and videos across the web. It provides developers with an easy way to upload, manipulate, and serve media assets, enabling faster and more efficient delivery of visual content on websites and applications. Cloudinary also offers features like automatic resizing, format conversion, and responsive delivery to ensure optimal user experiences across different devices and network conditions.</p>
<p>.env</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nv">CLOUD_NAME</span><span class="o">=</span>
<span class="nv">CLOUD_API_KEY</span><span class="o">=</span>
<span class="nv">CLOUD_API_SECRET</span><span class="o">=</span>
</pre></div>
</div>
</section>
<section id="cloudinary-setup-instance">
<h1>Cloudinary - Setup Instance<a class="headerlink" href="#cloudinary-setup-instance" title="Link to this heading"></a></h1>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>i<span class="w"> </span>cloudinary@1.37.3
</pre></div>
</div>
<p>server</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">cloudinary</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;cloudinary&#39;</span><span class="p">;</span>

<span class="nx">cloudinary</span><span class="p">.</span><span class="nx">config</span><span class="p">({</span>
<span class="w">  </span><span class="nx">cloud_name</span><span class="o">:</span><span class="w"> </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">CLOUD_NAME</span><span class="p">,</span>
<span class="w">  </span><span class="nx">api_key</span><span class="o">:</span><span class="w"> </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">CLOUD_API_KEY</span><span class="p">,</span>
<span class="w">  </span><span class="nx">api_secret</span><span class="o">:</span><span class="w"> </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">CLOUD_API_SECRET</span><span class="p">,</span>
<span class="p">});</span>
</pre></div>
</div>
</section>
<section id="update-user-controller">
<h1>Update User Controller<a class="headerlink" href="#update-user-controller" title="Link to this heading"></a></h1>
<p>controllers/userController.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">cloudinary</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;cloudinary&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">promises</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">fs</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;fs&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">updateUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">newUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="w"> </span><span class="p">};</span>
<span class="w">  </span><span class="ow">delete</span><span class="w"> </span><span class="nx">newUser</span><span class="p">.</span><span class="nx">password</span><span class="p">;</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">file</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">cloudinary</span><span class="p">.</span><span class="nx">v2</span><span class="p">.</span><span class="nx">uploader</span><span class="p">.</span><span class="nx">upload</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">file</span><span class="p">.</span><span class="nx">path</span><span class="p">);</span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">fs</span><span class="p">.</span><span class="nx">unlink</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">file</span><span class="p">.</span><span class="nx">path</span><span class="p">);</span>
<span class="w">    </span><span class="nx">newUser</span><span class="p">.</span><span class="nx">avatar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">secure_url</span><span class="p">;</span>
<span class="w">    </span><span class="nx">newUser</span><span class="p">.</span><span class="nx">avatarPublicId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">public_id</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">updatedUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">User</span><span class="p">.</span><span class="nx">findByIdAndUpdate</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">userId</span><span class="p">,</span><span class="w"> </span><span class="nx">newUser</span><span class="p">);</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">file</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">updatedUser</span><span class="p">.</span><span class="nx">avatarPublicId</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">cloudinary</span><span class="p">.</span><span class="nx">v2</span><span class="p">.</span><span class="nx">uploader</span><span class="p">.</span><span class="nx">destroy</span><span class="p">(</span><span class="nx">updatedUser</span><span class="p">.</span><span class="nx">avatarPublicId</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="nx">StatusCodes</span><span class="p">.</span><span class="nx">OK</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;update user&#39;</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="logout-container">
<h1>Logout Container<a class="headerlink" href="#logout-container" title="Link to this heading"></a></h1>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nx">user</span><span class="p">.</span><span class="nx">avatar</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">img</span><span class="w"> </span><span class="nx">src</span><span class="o">=</span><span class="p">{</span><span class="nx">user</span><span class="p">.</span><span class="nx">avatar</span><span class="p">}</span><span class="w"> </span><span class="nx">alt</span><span class="o">=</span><span class="s1">&#39;avatar&#39;</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;img&#39;</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">FaUserCircle</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="submit-btn-component">
<h1>Submit Btn Component<a class="headerlink" href="#submit-btn-component" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>create component SubmitBtn (export/import)</p></li>
<li><p>add all classes, including’.form-btn’</p></li>
<li><p>setup in Register,Login, AddJob, EditJob, Profile</p></li>
<li><p>make sure to add formBtn prop</p></li>
</ul>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useNavigation</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">SubmitBtn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">formBtn</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">navigation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useNavigation</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">isSubmitting</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">navigation</span><span class="p">.</span><span class="nx">state</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;submitting&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">button</span>
<span class="w">      </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;submit&#39;</span>
<span class="w">      </span><span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="sb">`btn btn-block </span><span class="si">${</span><span class="nx">formBtn</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="s1">&#39;form-btn&#39;</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span>
<span class="w">      </span><span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="nx">isSubmitting</span><span class="p">}</span>
<span class="w">    </span><span class="o">&gt;</span>
<span class="w">      </span><span class="p">{</span><span class="nx">isSubmitting</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;submitting...&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;submit&#39;</span><span class="p">}</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">SubmitBtn</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="test-user">
<h1>Test User<a class="headerlink" href="#test-user" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>create test user</p></li>
<li><p>feel free to use one of the chatGPT options</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Zippy&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;test@test.com&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;password&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;secret123&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;lastName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ShakeAndBake&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;location&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Codeville&quot;</span>
<span class="p">}</span>
<span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Chuckleberry&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;test@test.com&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;password&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;secret123&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;lastName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Gigglepants&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;location&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Laughterland&quot;</span>
<span class="p">}</span>

<span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Bubbles McLaughster&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;test@test.com&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;password&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;secret123&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;lastName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Ticklebottom&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;location&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Giggle City&quot;</span>
<span class="p">}</span>


<span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Gigglesworth&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;test@test.com&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;password&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;secret123&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;lastName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Snickerdoodle&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;location&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Chuckleburg&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="test-user-login-page">
<h1>Test User - Login Page<a class="headerlink" href="#test-user-login-page" title="Link to this heading"></a></h1>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useNavigate</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Login</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">navigate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useNavigate</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">loginDemoUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;test@test.com&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">password</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;secret123&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/auth/login&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="p">);</span>
<span class="w">      </span><span class="nx">toast</span><span class="p">.</span><span class="nx">success</span><span class="p">(</span><span class="s1">&#39;take a test drive&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="nx">navigate</span><span class="p">(</span><span class="s1">&#39;/dashboard&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">toast</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="o">?</span><span class="p">.</span><span class="nx">response</span><span class="o">?</span><span class="p">.</span><span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">msg</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">};</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Wrapper</span><span class="o">&gt;</span>
<span class="w">      </span><span class="p">...</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;button&#39;</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;btn btn-block&#39;</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">loginDemoUser</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">          </span><span class="nx">explore</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">app</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">        </span><span class="p">...</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Form&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Wrapper&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Login</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="test-user-restrict-access">
<h1>Test User - Restrict Access<a class="headerlink" href="#test-user-restrict-access" title="Link to this heading"></a></h1>
<p>authMiddleware</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">BadRequestError</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../errors/customErrors.js&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">authenticateUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">,</span><span class="w"> </span><span class="nx">next</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="p">...</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">userId</span><span class="p">,</span><span class="w"> </span><span class="nx">role</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">verifyJWT</span><span class="p">(</span><span class="nx">token</span><span class="p">);</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">testUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">userId</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;testUserId&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">userId</span><span class="p">,</span><span class="w"> </span><span class="nx">role</span><span class="p">,</span><span class="w"> </span><span class="nx">testUser</span><span class="w"> </span><span class="p">};</span>
<span class="w">    </span><span class="nx">next</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="p">....</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">checkForTestUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">,</span><span class="w"> </span><span class="nx">next</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">testUser</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">BadRequestError</span><span class="p">(</span><span class="s1">&#39;Demo User. Read Only!&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="nx">next</span><span class="p">();</span>
<span class="p">};</span>
</pre></div>
</div>
<ul class="simple">
<li><p>add to updateUser, createJob, updateJob, deleteJob</p></li>
</ul>
</section>
<section id="mock-data">
<h1>Mock Data<a class="headerlink" href="#mock-data" title="Link to this heading"></a></h1>
<p><a class="reference external" href="https://www.mockaroo.com/">Mockaroo </a></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;company&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Cogidoo&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;position&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Help Desk Technician&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;jobLocation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Vyksa&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;jobStatus&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pending&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;jobType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;part-time&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;createdAt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2022-07-25T21:26:23Z&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>rename and save json in utils</p></li>
</ul>
</section>
<section id="populate-db">
<h1>Populate DB<a class="headerlink" href="#populate-db" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>create populate.js</p></li>
<li><p>setup for test user and admin</p></li>
</ul>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">readFile</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;fs/promises&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">mongoose</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;mongoose&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">dotenv</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;dotenv&#39;</span><span class="p">;</span>
<span class="nx">dotenv</span><span class="p">.</span><span class="nx">config</span><span class="p">();</span>

<span class="k">import</span><span class="w"> </span><span class="nx">Job</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./models/JobModel.js&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">User</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./models/UserModel.js&#39;</span><span class="p">;</span>
<span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">await</span><span class="w"> </span><span class="nx">mongoose</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">MONGO_URL</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// const user = await User.findOne({ email: &#39;john@gmail.com&#39; });</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">User</span><span class="p">.</span><span class="nx">findOne</span><span class="p">({</span><span class="w"> </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;test@test.com&#39;</span><span class="w"> </span><span class="p">});</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">jsonJobs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">readFile</span><span class="p">(</span><span class="ow">new</span><span class="w"> </span><span class="nx">URL</span><span class="p">(</span><span class="s1">&#39;./utils/mockData.json&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">import</span><span class="p">.</span><span class="nx">meta</span><span class="p">.</span><span class="nx">url</span><span class="p">))</span>
<span class="w">  </span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">jobs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">jsonJobs</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">job</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="nx">job</span><span class="p">,</span><span class="w"> </span><span class="nx">createdBy</span><span class="o">:</span><span class="w"> </span><span class="nx">user</span><span class="p">.</span><span class="nx">_id</span><span class="w"> </span><span class="p">};</span>
<span class="w">  </span><span class="p">});</span>
<span class="w">  </span><span class="k">await</span><span class="w"> </span><span class="nx">Job</span><span class="p">.</span><span class="nx">deleteMany</span><span class="p">({</span><span class="w"> </span><span class="nx">createdBy</span><span class="o">:</span><span class="w"> </span><span class="nx">user</span><span class="p">.</span><span class="nx">_id</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="k">await</span><span class="w"> </span><span class="nx">Job</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">jobs</span><span class="p">);</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Success!!!&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="w">  </span><span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mf">1</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="stats-setup">
<h1>Stats - Setup<a class="headerlink" href="#stats-setup" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>create controller</p></li>
<li><p>setup route and thunder client</p></li>
<li><p>install/setup dayjs on the server</p></li>
</ul>
<p>jobController.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">mongoose</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;mongoose&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">day</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;dayjs&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">showStats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">defaultStats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">pending</span><span class="o">:</span><span class="w"> </span><span class="mf">22</span><span class="p">,</span>
<span class="w">    </span><span class="nx">interview</span><span class="o">:</span><span class="w"> </span><span class="mf">11</span><span class="p">,</span>
<span class="w">    </span><span class="nx">declined</span><span class="o">:</span><span class="w"> </span><span class="mf">4</span><span class="p">,</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">monthlyApplications</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">date</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;May 23&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="mf">12</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">date</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Jun 23&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="mf">9</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">date</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Jul 23&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="mf">3</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">];</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="nx">StatusCodes</span><span class="p">.</span><span class="nx">OK</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">defaultStats</span><span class="p">,</span><span class="w"> </span><span class="nx">monthlyApplications</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="stats-complete-server-functionality">
<h1>Stats - Complete Server Functionality<a class="headerlink" href="#stats-complete-server-functionality" title="Link to this heading"></a></h1>
<p><a class="reference external" href="https://www.mongodb.com/docs/manual/core/aggregation-pipeline/">MongoDB Docs</a></p>
<p>The MongoDB aggregation pipeline is like a factory line for data. Data enters, it goes through different stages like cleaning, sorting, or grouping, and comes out at the end changed in some way. It’s a way to process data inside MongoDB.</p>
<p>jobController.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">showStats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">stats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">Job</span><span class="p">.</span><span class="nx">aggregate</span><span class="p">([</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">$match</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">createdBy</span><span class="o">:</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">mongoose</span><span class="p">.</span><span class="nx">Types</span><span class="p">.</span><span class="nx">ObjectId</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">userId</span><span class="p">)</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">$group</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">_id</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;$jobStatus&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$sum</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="p">]);</span>
<span class="w">  </span><span class="nx">stats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">stats</span><span class="p">.</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">acc</span><span class="p">,</span><span class="w"> </span><span class="nx">curr</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">_id</span><span class="o">:</span><span class="w"> </span><span class="nx">title</span><span class="p">,</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">curr</span><span class="p">;</span>
<span class="w">    </span><span class="nx">acc</span><span class="p">[</span><span class="nx">title</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">count</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">acc</span><span class="p">;</span>
<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="p">{});</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">defaultStats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">pending</span><span class="o">:</span><span class="w"> </span><span class="nx">stats</span><span class="p">.</span><span class="nx">pending</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">    </span><span class="nx">interview</span><span class="o">:</span><span class="w"> </span><span class="nx">stats</span><span class="p">.</span><span class="nx">interview</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">    </span><span class="nx">declined</span><span class="o">:</span><span class="w"> </span><span class="nx">stats</span><span class="p">.</span><span class="nx">declined</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">monthlyApplications</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">Job</span><span class="p">.</span><span class="nx">aggregate</span><span class="p">([</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">$match</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">createdBy</span><span class="o">:</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">mongoose</span><span class="p">.</span><span class="nx">Types</span><span class="p">.</span><span class="nx">ObjectId</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">userId</span><span class="p">)</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">$group</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">_id</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">year</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$year</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;$createdAt&#39;</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="nx">month</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$month</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;$createdAt&#39;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">        </span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$sum</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="p">},</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">$sort</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">&#39;_id.year&#39;</span><span class="o">:</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;_id.month&#39;</span><span class="o">:</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">$limit</span><span class="o">:</span><span class="w"> </span><span class="mf">6</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="p">]);</span>
<span class="w">  </span><span class="nx">monthlyApplications</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">monthlyApplications</span>
<span class="w">    </span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">item</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">_id</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">year</span><span class="p">,</span><span class="w"> </span><span class="nx">month</span><span class="w"> </span><span class="p">},</span>
<span class="w">        </span><span class="nx">count</span><span class="p">,</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">item</span><span class="p">;</span>

<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">date</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">day</span><span class="p">()</span>
<span class="w">        </span><span class="p">.</span><span class="nx">month</span><span class="p">(</span><span class="nx">month</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="nx">year</span><span class="p">(</span><span class="nx">year</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s1">&#39;MMM YY&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">date</span><span class="p">,</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="p">};</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">    </span><span class="p">.</span><span class="nx">reverse</span><span class="p">();</span>

<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="nx">StatusCodes</span><span class="p">.</span><span class="nx">OK</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">defaultStats</span><span class="p">,</span><span class="w"> </span><span class="nx">monthlyApplications</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="commentary">
<h1>Commentary<a class="headerlink" href="#commentary" title="Link to this heading"></a></h1>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="nx">stats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">Job</span><span class="p">.</span><span class="nx">aggregate</span><span class="p">([</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">$match</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">createdBy</span><span class="o">:</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">mongoose</span><span class="p">.</span><span class="nx">Types</span><span class="p">.</span><span class="nx">ObjectId</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">userId</span><span class="p">)</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">$group</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">_id</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;$jobStatus&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$sum</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="p">]);</span>
</pre></div>
</div>
<p>let stats = await Job.aggregate([ … ]); This line says we’re going to perform an aggregation operation on the Job collection in MongoDB and save the result in a variable called stats. The await keyword is used to wait for the operation to finish before continuing, as the operation is asynchronous (i.e., it runs in the background).</p>
<p>{ $match: { createdBy: new mongoose.Types.ObjectId(req.user.userId) } } This is the first stage of the pipeline. It filters the jobs so that only the ones created by the user specified by req.user.userId are passed to the next stage. The new mongoose.Types.ObjectId(req.user.userId) part converts req.user.userId into an ObjectId (which is the format MongoDB uses for ids).</p>
<p>{ $group: { _id: ‘$jobStatus’, count: { $sum: 1 } } } This is the second stage of the pipeline. It groups the remaining jobs by their status (the jobStatus field). For each group, it calculates the count of jobs by adding 1 for each job ({ $sum: 1 }), and stores this in a field called count.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="nx">monthlyApplications</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">Job</span><span class="p">.</span><span class="nx">aggregate</span><span class="p">([</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">$match</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">createdBy</span><span class="o">:</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">mongoose</span><span class="p">.</span><span class="nx">Types</span><span class="p">.</span><span class="nx">ObjectId</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">userId</span><span class="p">)</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">$group</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">_id</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">year</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$year</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;$createdAt&#39;</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="nx">month</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$month</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;$createdAt&#39;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">      </span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$sum</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">$sort</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">&#39;_id.year&#39;</span><span class="o">:</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;_id.month&#39;</span><span class="o">:</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">$limit</span><span class="o">:</span><span class="w"> </span><span class="mf">6</span><span class="w"> </span><span class="p">},</span>
<span class="p">]);</span>
</pre></div>
</div>
<p>let monthlyApplications = await Job.aggregate([ … ]); This line indicates that an aggregation operation will be performed on the Job collection in MongoDB. The result will be stored in the variable monthlyApplications. The await keyword ensures that the code waits for this operation to complete before proceeding, as it is an asynchronous operation.</p>
<p>{ $match: { createdBy: new mongoose.Types.ObjectId(req.user.userId) } } This is the first stage of the pipeline. It filters the jobs to only those created by the user identified by req.user.userId.</p>
<p>{ $group: { _id: { year: { $year: ‘$createdAt’ }, month: { $month: ‘$createdAt’ } }, count: { $sum: 1 } } } This is the second stage of the pipeline. It groups the remaining jobs based on the year and month when they were created. For each group, it calculates the count of jobs by adding 1 for each job in the group.</p>
<p>{ $sort: { ‘_id.year’: -1, ‘_id.month’: -1 } } This is the third stage of the pipeline. It sorts the groups by year and month in descending order. The -1 indicates descending order. So it starts with the most recent year and month.</p>
<p>{ $limit: 6 } This is the fourth and last stage of the pipeline. It limits the output to the top 6 groups, after sorting. This is effectively getting the job count for the last 6 months.</p>
<p>So, monthlyApplications will be an array with up to 6 elements, each representing the number of jobs created by the user in a specific month and year. The array will be sorted by year and month, starting with the most recent.</p>
</section>
<section id="stats-front-end-setup">
<h1>Stats - Front-End Setup<a class="headerlink" href="#stats-front-end-setup" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>create four components</p></li>
<li><p>StatsContainer and ChartsContainer (import/export)</p></li>
<li><p>AreaChart, BarChart (local)</p></li>
</ul>
<p>pages/Stats.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ChartsContainer</span><span class="p">,</span><span class="w"> </span><span class="nx">StatsContainer</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">customFetch</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../utils/customFetch&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useLoaderData</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">loader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/jobs/stats&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">error</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Stats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">defaultStats</span><span class="p">,</span><span class="w"> </span><span class="nx">monthlyApplications</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useLoaderData</span><span class="p">();</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">StatsContainer</span><span class="w"> </span><span class="nx">defaultStats</span><span class="o">=</span><span class="p">{</span><span class="nx">defaultStats</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="p">{</span><span class="nx">monthlyApplications</span><span class="o">?</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">ChartsContainer</span><span class="w"> </span><span class="nx">data</span><span class="o">=</span><span class="p">{</span><span class="nx">monthlyApplications</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="p">)}</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Stats</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="stats-container">
<h1>Stats Container<a class="headerlink" href="#stats-container" title="Link to this heading"></a></h1>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">FaSuitcaseRolling</span><span class="p">,</span><span class="w"> </span><span class="nx">FaCalendarCheck</span><span class="p">,</span><span class="w"> </span><span class="nx">FaBug</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-icons/fa&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/StatsContainer&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">StatItem</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./StatItem&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">StatsContainer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">defaultStats</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">stats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;pending applications&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="nx">defaultStats</span><span class="o">?</span><span class="p">.</span><span class="nx">pending</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">      </span><span class="nx">icon</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">FaSuitcaseRolling</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;#f59e0b&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">bcg</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;#fef3c7&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;interviews scheduled&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="nx">defaultStats</span><span class="o">?</span><span class="p">.</span><span class="nx">interview</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">      </span><span class="nx">icon</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">FaCalendarCheck</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;#647acb&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">bcg</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;#e0e8f9&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;jobs declined&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="nx">defaultStats</span><span class="o">?</span><span class="p">.</span><span class="nx">declined</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">      </span><span class="nx">icon</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">FaBug</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;#d66a6a&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">bcg</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;#ffeeee&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">];</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Wrapper</span><span class="o">&gt;</span>
<span class="w">      </span><span class="p">{</span><span class="nx">stats</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">item</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">StatItem</span><span class="w"> </span><span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span><span class="w"> </span><span class="p">{...</span><span class="nx">item</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">;</span>
<span class="w">      </span><span class="p">})}</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Wrapper&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">StatsContainer</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="chartscontainer">
<h1>ChartsContainer<a class="headerlink" href="#chartscontainer" title="Link to this heading"></a></h1>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useState</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="k">import</span><span class="w"> </span><span class="nx">BarChart</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./BarChart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">AreaChart</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./AreaChart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/ChartsContainer&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">ChartsContainer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">barChart</span><span class="p">,</span><span class="w"> </span><span class="nx">setBarChart</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Wrapper</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">h4</span><span class="o">&gt;</span><span class="nx">Monthly</span><span class="w"> </span><span class="nx">Applications</span><span class="o">&lt;</span><span class="err">/h4&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;button&#39;</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setBarChart</span><span class="p">(</span><span class="o">!</span><span class="nx">barChart</span><span class="p">)}</span><span class="o">&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="nx">barChart</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;Area Chart&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Bar Chart&#39;</span><span class="p">}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">      </span><span class="p">{</span><span class="nx">barChart</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">BarChart</span><span class="w"> </span><span class="nx">data</span><span class="o">=</span><span class="p">{</span><span class="nx">data</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">AreaChart</span><span class="w"> </span><span class="nx">data</span><span class="o">=</span><span class="p">{</span><span class="nx">data</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">}</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Wrapper&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">ChartsContainer</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="charts">
<h1>Charts<a class="headerlink" href="#charts" title="Link to this heading"></a></h1>
<p><a class="reference external" href="https://recharts.org/en-US/">recharts</a></p>
<ul class="simple">
<li><p>in the client</p></li>
</ul>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>i<span class="w"> </span>recharts@2.5.0
</pre></div>
</div>
</section>
<section id="area-chart">
<h1>Area Chart<a class="headerlink" href="#area-chart" title="Link to this heading"></a></h1>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">ResponsiveContainer</span><span class="p">,</span>
<span class="w">  </span><span class="nx">AreaChart</span><span class="p">,</span>
<span class="w">  </span><span class="nx">Area</span><span class="p">,</span>
<span class="w">  </span><span class="nx">XAxis</span><span class="p">,</span>
<span class="w">  </span><span class="nx">YAxis</span><span class="p">,</span>
<span class="w">  </span><span class="nx">CartesianGrid</span><span class="p">,</span>
<span class="w">  </span><span class="nx">Tooltip</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;recharts&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">AreaChartComponent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">ResponsiveContainer</span><span class="w"> </span><span class="nx">width</span><span class="o">=</span><span class="s1">&#39;100%&#39;</span><span class="w"> </span><span class="nx">height</span><span class="o">=</span><span class="p">{</span><span class="mf">300</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">AreaChart</span><span class="w"> </span><span class="nx">data</span><span class="o">=</span><span class="p">{</span><span class="nx">data</span><span class="p">}</span><span class="w"> </span><span class="nx">margin</span><span class="o">=</span><span class="p">{{</span><span class="w"> </span><span class="nx">top</span><span class="o">:</span><span class="w"> </span><span class="mf">50</span><span class="w"> </span><span class="p">}}</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">CartesianGrid</span><span class="w"> </span><span class="nx">strokeDasharray</span><span class="o">=</span><span class="s1">&#39;3 3&#39;</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">XAxis</span><span class="w"> </span><span class="nx">dataKey</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">YAxis</span><span class="w"> </span><span class="nx">allowDecimals</span><span class="o">=</span><span class="p">{</span><span class="kc">false</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Tooltip</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Area</span><span class="w"> </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;monotone&#39;</span><span class="w"> </span><span class="nx">dataKey</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="w"> </span><span class="nx">stroke</span><span class="o">=</span><span class="s1">&#39;#2cb1bc&#39;</span><span class="w"> </span><span class="nx">fill</span><span class="o">=</span><span class="s1">&#39;#bef8fd&#39;</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/AreaChart&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/ResponsiveContainer&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">AreaChartComponent</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="bar-chart">
<h1>Bar Chart<a class="headerlink" href="#bar-chart" title="Link to this heading"></a></h1>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">BarChart</span><span class="p">,</span>
<span class="w">  </span><span class="nx">Bar</span><span class="p">,</span>
<span class="w">  </span><span class="nx">XAxis</span><span class="p">,</span>
<span class="w">  </span><span class="nx">YAxis</span><span class="p">,</span>
<span class="w">  </span><span class="nx">CartesianGrid</span><span class="p">,</span>
<span class="w">  </span><span class="nx">Tooltip</span><span class="p">,</span>
<span class="w">  </span><span class="nx">ResponsiveContainer</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;recharts&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">BarChartComponent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">ResponsiveContainer</span><span class="w"> </span><span class="nx">width</span><span class="o">=</span><span class="s1">&#39;100%&#39;</span><span class="w"> </span><span class="nx">height</span><span class="o">=</span><span class="p">{</span><span class="mf">300</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">BarChart</span><span class="w"> </span><span class="nx">data</span><span class="o">=</span><span class="p">{</span><span class="nx">data</span><span class="p">}</span><span class="w"> </span><span class="nx">margin</span><span class="o">=</span><span class="p">{{</span><span class="w"> </span><span class="nx">top</span><span class="o">:</span><span class="w"> </span><span class="mf">50</span><span class="w"> </span><span class="p">}}</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">CartesianGrid</span><span class="w"> </span><span class="nx">strokeDasharray</span><span class="o">=</span><span class="s1">&#39;3 3 &#39;</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">XAxis</span><span class="w"> </span><span class="nx">dataKey</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">YAxis</span><span class="w"> </span><span class="nx">allowDecimals</span><span class="o">=</span><span class="p">{</span><span class="kc">false</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Tooltip</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Bar</span><span class="w"> </span><span class="nx">dataKey</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="w"> </span><span class="nx">fill</span><span class="o">=</span><span class="s1">&#39;#2cb1bc&#39;</span><span class="w"> </span><span class="nx">barSize</span><span class="o">=</span><span class="p">{</span><span class="mf">75</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/BarChart&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/ResponsiveContainer&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">BarChartComponent</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="charts-css-optional">
<h1>Charts CSS (optional)<a class="headerlink" href="#charts-css-optional" title="Link to this heading"></a></h1>
<p>wrappers/ChartsContainer.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">styled</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;styled-components&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">styled</span><span class="p">.</span><span class="nx">section</span><span class="sb">`</span>
<span class="sb">  margin-top: 4rem;</span>
<span class="sb">  text-align: center;</span>
<span class="sb">  button {</span>
<span class="sb">    background: transparent;</span>
<span class="sb">    border-color: transparent;</span>
<span class="sb">    text-transform: capitalize;</span>
<span class="sb">    color: var(--primary-500);</span>
<span class="sb">    font-size: 1.25rem;</span>
<span class="sb">    cursor: pointer;</span>
<span class="sb">  }</span>
<span class="sb">  h4 {</span>
<span class="sb">    text-align: center;</span>
<span class="sb">    margin-bottom: 0.75rem;</span>
<span class="sb">  }</span>
<span class="sb">`</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Wrapper</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="get-all-jobs-server">
<h1>Get All Jobs - Server<a class="headerlink" href="#get-all-jobs-server" title="Link to this heading"></a></h1>
<p>jobController.js</p>
<p>Query parameters, also known as query strings or URL parameters, are used to pass information to a web server through the URL of a webpage. They are typically appended to the end of a URL after a question mark (?) and separated by ampersands (&amp;). Query parameters consist of a key-value pair, where the key represents the parameter name and the value represents the corresponding data being passed. They are commonly used in web applications to provide additional context or parameters for server-side processing or to filter and sort data.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">getAllJobs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">search</span><span class="p">,</span><span class="w"> </span><span class="nx">jobStatus</span><span class="p">,</span><span class="w"> </span><span class="nx">jobType</span><span class="p">,</span><span class="w"> </span><span class="nx">sort</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">query</span><span class="p">;</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">queryObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">createdBy</span><span class="o">:</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">userId</span><span class="p">,</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">search</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">queryObject</span><span class="p">.</span><span class="nx">$or</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span><span class="w"> </span><span class="nx">position</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$regex</span><span class="o">:</span><span class="w"> </span><span class="nx">search</span><span class="p">,</span><span class="w"> </span><span class="nx">$options</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;i&#39;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span><span class="w"> </span><span class="nx">company</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$regex</span><span class="o">:</span><span class="w"> </span><span class="nx">search</span><span class="p">,</span><span class="w"> </span><span class="nx">$options</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;i&#39;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">];</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">jobStatus</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">jobStatus</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="s1">&#39;all&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">queryObject</span><span class="p">.</span><span class="nx">jobStatus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">jobStatus</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">jobType</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">jobType</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="s1">&#39;all&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">queryObject</span><span class="p">.</span><span class="nx">jobType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">jobType</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">sortOptions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">newest</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;-createdAt&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">oldest</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;createdAt&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;a-z&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;position&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;z-a&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;-position&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">sortKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">sortOptions</span><span class="p">[</span><span class="nx">sort</span><span class="p">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">sortOptions</span><span class="p">.</span><span class="nx">newest</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// setup pagination</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">page</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Number</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">query</span><span class="p">.</span><span class="nx">page</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Number</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">query</span><span class="p">.</span><span class="nx">limit</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="mf">10</span><span class="p">;</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">skip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">page</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">limit</span><span class="p">;</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">jobs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">Job</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">queryObject</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="nx">sortKey</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="nx">skip</span><span class="p">(</span><span class="nx">skip</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="nx">limit</span><span class="p">(</span><span class="nx">limit</span><span class="p">);</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">totalJobs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">Job</span><span class="p">.</span><span class="nx">countDocuments</span><span class="p">(</span><span class="nx">queryObject</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">numOfPages</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nx">totalJobs</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nx">limit</span><span class="p">);</span>

<span class="w">  </span><span class="nx">res</span>
<span class="w">    </span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="nx">StatusCodes</span><span class="p">.</span><span class="nx">OK</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">totalJobs</span><span class="p">,</span><span class="w"> </span><span class="nx">numOfPages</span><span class="p">,</span><span class="w"> </span><span class="nx">currentPage</span><span class="o">:</span><span class="w"> </span><span class="nx">page</span><span class="p">,</span><span class="w"> </span><span class="nx">jobs</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="search-container">
<h1>Search Container<a class="headerlink" href="#search-container" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>setup log in AllJobs loader</p></li>
</ul>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">FormRow</span><span class="p">,</span><span class="w"> </span><span class="nx">FormRowSelect</span><span class="p">,</span><span class="w"> </span><span class="nx">SubmitBtn</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;.&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/DashboardFormPage&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Form</span><span class="p">,</span><span class="w"> </span><span class="nx">useSubmit</span><span class="p">,</span><span class="w"> </span><span class="nx">Link</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">JOB_TYPE</span><span class="p">,</span><span class="w"> </span><span class="nx">JOB_STATUS</span><span class="p">,</span><span class="w"> </span><span class="nx">JOB_SORT_BY</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../../../utils/constants&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useAllJobsContext</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../pages/AllJobs&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">SearchContainer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Wrapper</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Form</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form&#39;</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">h5</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form-title&#39;</span><span class="o">&gt;</span><span class="nx">search</span><span class="w"> </span><span class="nx">form</span><span class="o">&lt;</span><span class="err">/h5&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form-center&#39;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="p">{</span><span class="cm">/* search position */</span><span class="p">}</span>

<span class="w">          </span><span class="o">&lt;</span><span class="nx">FormRow</span><span class="w"> </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;search&#39;</span><span class="w"> </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;search&#39;</span><span class="w"> </span><span class="nx">defaultValue</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">FormRowSelect</span>
<span class="w">            </span><span class="nx">labelText</span><span class="o">=</span><span class="s1">&#39;job status&#39;</span>
<span class="w">            </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;jobStatus&#39;</span>
<span class="w">            </span><span class="nx">list</span><span class="o">=</span><span class="p">{[</span><span class="s1">&#39;all&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="nb">Object</span><span class="p">.</span><span class="nx">values</span><span class="p">(</span><span class="nx">JOB_STATUS</span><span class="p">)]}</span>
<span class="w">            </span><span class="nx">defaultValue</span><span class="o">=</span><span class="s1">&#39;all&#39;</span>
<span class="w">          </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">FormRowSelect</span>
<span class="w">            </span><span class="nx">labelText</span><span class="o">=</span><span class="s1">&#39;job type&#39;</span>
<span class="w">            </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;jobType&#39;</span>
<span class="w">            </span><span class="nx">list</span><span class="o">=</span><span class="p">{[</span><span class="s1">&#39;all&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="nb">Object</span><span class="p">.</span><span class="nx">values</span><span class="p">(</span><span class="nx">JOB_TYPE</span><span class="p">)]}</span>
<span class="w">            </span><span class="nx">defaultValue</span><span class="o">=</span><span class="s1">&#39;all&#39;</span>
<span class="w">          </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">FormRowSelect</span>
<span class="w">            </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;sort&#39;</span>
<span class="w">            </span><span class="nx">defaultValue</span><span class="o">=</span><span class="s1">&#39;newest&#39;</span>
<span class="w">            </span><span class="nx">list</span><span class="o">=</span><span class="p">{[...</span><span class="nb">Object</span><span class="p">.</span><span class="nx">values</span><span class="p">(</span><span class="nx">JOB_SORT_BY</span><span class="p">)]}</span>
<span class="w">          </span><span class="o">/&gt;</span>

<span class="w">          </span><span class="o">&lt;</span><span class="nx">Link</span><span class="w"> </span><span class="nx">to</span><span class="o">=</span><span class="s1">&#39;/dashboard/all-jobs&#39;</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;btn form-btn delete-btn&#39;</span><span class="o">&gt;</span>
<span class="w">            </span><span class="nx">Reset</span><span class="w"> </span><span class="nx">Search</span><span class="w"> </span><span class="nx">Values</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/Link&gt;</span>
<span class="w">          </span><span class="p">{</span><span class="cm">/* TEMP!!!! */</span><span class="p">}</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">SubmitBtn</span><span class="w"> </span><span class="nx">formBtn</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Form&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Wrapper&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">SearchContainer</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="all-jobs-loader">
<h1>All Jobs Loader<a class="headerlink" href="#all-jobs-loader" title="Link to this heading"></a></h1>
<p>AllJobs.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">toast</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-toastify&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">JobsContainer</span><span class="p">,</span><span class="w"> </span><span class="nx">SearchContainer</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">customFetch</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../utils/customFetch&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useLoaderData</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useContext</span><span class="p">,</span><span class="w"> </span><span class="nx">createContext</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">AllJobsContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createContext</span><span class="p">();</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">loader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">request</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Object</span><span class="p">.</span><span class="nx">fromEntries</span><span class="p">([</span>
<span class="w">      </span><span class="p">...</span><span class="ow">new</span><span class="w"> </span><span class="nx">URL</span><span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">url</span><span class="p">).</span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">entries</span><span class="p">(),</span>
<span class="w">    </span><span class="p">]);</span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/jobs&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">params</span><span class="p">,</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">data</span><span class="p">,</span>
<span class="w">      </span><span class="nx">searchValues</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="nx">params</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">toast</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">msg</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">error</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">AllJobs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">searchValues</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useLoaderData</span><span class="p">();</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">AllJobsContext</span><span class="p">.</span><span class="nx">Provider</span><span class="w"> </span><span class="nx">value</span><span class="o">=</span><span class="p">{{</span><span class="w"> </span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">searchValues</span><span class="w"> </span><span class="p">}}</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">SearchContainer</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">JobsContainer</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/AllJobsContext.Provider&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">AllJobs</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">useAllJobsContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">useContext</span><span class="p">(</span><span class="nx">AllJobsContext</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Object</span><span class="p">.</span><span class="nx">fromEntries</span><span class="p">([</span>
<span class="w">  </span><span class="p">...</span><span class="ow">new</span><span class="w"> </span><span class="nx">URL</span><span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">url</span><span class="p">).</span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">entries</span><span class="p">(),</span>
<span class="p">]);</span>
</pre></div>
</div>
<p>new URL(request.url): This creates a new URL object by passing the request.url to the URL constructor. The URL object provides various methods and properties to work with URLs.</p>
<p>.searchParams: The searchParams property of the URL object gives you access to the query parameters in the URL. It is an instance of the URLSearchParams class, which provides methods to manipulate and access the parameters.</p>
<p>.entries(): The entries() method of searchParams returns an iterator containing arrays of key-value pairs for each query parameter. Each array contains two elements: the parameter name and its corresponding value.</p>
<p>([…new URL(request.url).searchParams.entries()]): The spread operator … is used to convert the iterator obtained from searchParams.entries() into an array. This allows us to pass the array to the Object.fromEntries() method.</p>
<p>Object.fromEntries(): This static method creates an object from an array of key-value pairs. It takes an iterable (in this case, the array of parameter key-value pairs) and returns a new object where the keys and values are derived from the iterable.</p>
<p>Putting it all together, the code retrieves the URL from the request.url property, extracts the search parameters using the searchParams property, converts them into an array of key-value pairs using entries(), and finally uses Object.fromEntries() to create an object with the parameter names as keys and their corresponding values. The resulting object, params, contains all the search parameters from the URL.</p>
</section>
<section id="submit-form-programmatically">
<h1>Submit Form Programmatically<a class="headerlink" href="#submit-form-programmatically" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>setup default values from the context</p></li>
<li><p>remove SubmitBtn</p></li>
<li><p>add onChange to FormRow, FormRowSelect and all inputs</p></li>
</ul>
<p>SearchContainer.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">FormRow</span><span class="p">,</span><span class="w"> </span><span class="nx">FormRowSelect</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;.&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/DashboardFormPage&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Form</span><span class="p">,</span><span class="w"> </span><span class="nx">useSubmit</span><span class="p">,</span><span class="w"> </span><span class="nx">Link</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">JOB_TYPE</span><span class="p">,</span><span class="w"> </span><span class="nx">JOB_STATUS</span><span class="p">,</span><span class="w"> </span><span class="nx">JOB_SORT_BY</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../../../utils/constants&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useAllJobsContext</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../pages/AllJobs&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">SearchContainer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">searchValues</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useAllJobsContext</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">search</span><span class="p">,</span><span class="w"> </span><span class="nx">jobStatus</span><span class="p">,</span><span class="w"> </span><span class="nx">jobType</span><span class="p">,</span><span class="w"> </span><span class="nx">sort</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">searchValues</span><span class="p">;</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">submit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useSubmit</span><span class="p">();</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Wrapper</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Form</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form&#39;</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">h5</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form-title&#39;</span><span class="o">&gt;</span><span class="nx">search</span><span class="w"> </span><span class="nx">form</span><span class="o">&lt;</span><span class="err">/h5&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form-center&#39;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="p">{</span><span class="cm">/* search position */</span><span class="p">}</span>

<span class="w">          </span><span class="o">&lt;</span><span class="nx">FormRow</span>
<span class="w">            </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;search&#39;</span>
<span class="w">            </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;search&#39;</span>
<span class="w">            </span><span class="nx">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="nx">search</span><span class="p">}</span>
<span class="w">            </span><span class="nx">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nx">submit</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">currentTarget</span><span class="p">.</span><span class="nx">form</span><span class="p">);</span>
<span class="w">            </span><span class="p">}}</span>
<span class="w">          </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">FormRowSelect</span>
<span class="w">            </span><span class="nx">labelText</span><span class="o">=</span><span class="s1">&#39;job status&#39;</span>
<span class="w">            </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;jobStatus&#39;</span>
<span class="w">            </span><span class="nx">list</span><span class="o">=</span><span class="p">{[</span><span class="s1">&#39;all&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="nb">Object</span><span class="p">.</span><span class="nx">values</span><span class="p">(</span><span class="nx">JOB_STATUS</span><span class="p">)]}</span>
<span class="w">            </span><span class="nx">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="nx">jobStatus</span><span class="p">}</span>
<span class="w">            </span><span class="nx">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nx">submit</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">currentTarget</span><span class="p">.</span><span class="nx">form</span><span class="p">);</span>
<span class="w">            </span><span class="p">}}</span>
<span class="w">          </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">FormRowSelect</span>
<span class="w">            </span><span class="nx">labelText</span><span class="o">=</span><span class="s1">&#39;job type&#39;</span>
<span class="w">            </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;jobType&#39;</span>
<span class="w">            </span><span class="nx">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="nx">jobType</span><span class="p">}</span>
<span class="w">            </span><span class="nx">list</span><span class="o">=</span><span class="p">{[</span><span class="s1">&#39;all&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="nb">Object</span><span class="p">.</span><span class="nx">values</span><span class="p">(</span><span class="nx">JOB_TYPE</span><span class="p">)]}</span>
<span class="w">            </span><span class="nx">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nx">submit</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">currentTarget</span><span class="p">.</span><span class="nx">form</span><span class="p">);</span>
<span class="w">            </span><span class="p">}}</span>
<span class="w">          </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">FormRowSelect</span>
<span class="w">            </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;sort&#39;</span>
<span class="w">            </span><span class="nx">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="nx">sort</span><span class="p">}</span>
<span class="w">            </span><span class="nx">list</span><span class="o">=</span><span class="p">{[...</span><span class="nb">Object</span><span class="p">.</span><span class="nx">values</span><span class="p">(</span><span class="nx">JOB_SORT_BY</span><span class="p">)]}</span>
<span class="w">            </span><span class="nx">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nx">submit</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">currentTarget</span><span class="p">.</span><span class="nx">form</span><span class="p">);</span>
<span class="w">            </span><span class="p">}}</span>
<span class="w">          </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">Link</span><span class="w"> </span><span class="nx">to</span><span class="o">=</span><span class="s1">&#39;/dashboard/all-jobs&#39;</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;btn form-btn delete-btn&#39;</span><span class="o">&gt;</span>
<span class="w">            </span><span class="nx">Reset</span><span class="w"> </span><span class="nx">Search</span><span class="w"> </span><span class="nx">Values</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/Link&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Form&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Wrapper&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">SearchContainer</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="debounce">
<h1>Debounce<a class="headerlink" href="#debounce" title="Link to this heading"></a></h1>
<p><a class="reference external" href="https://youtu.be/tYx6pXdvt1s">JS Nuggets - Debounce</a></p>
<p>In JavaScript, debounce is a way to limit how often a function gets called. It helps prevent rapid or repeated function executions by introducing a delay. This is useful for tasks like handling user input, where you want to wait for a pause before triggering an action to avoid unnecessary processing.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">debounce</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">onChange</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">timeout</span><span class="p">;</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">form</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">currentTarget</span><span class="p">.</span><span class="nx">form</span><span class="p">;</span>
<span class="w">    </span><span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">timeout</span><span class="p">);</span>
<span class="w">    </span><span class="nx">timeout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">onChange</span><span class="p">(</span><span class="nx">form</span><span class="p">);</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="mf">2000</span><span class="p">);</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">};</span>
<span class="o">&lt;</span><span class="nx">FormRow</span>
<span class="w">  </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;search&#39;</span>
<span class="w">  </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;search&#39;</span>
<span class="w">  </span><span class="nx">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="nx">search</span><span class="p">}</span>
<span class="w">  </span><span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">debounce</span><span class="p">((</span><span class="nx">form</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">submit</span><span class="p">(</span><span class="nx">form</span><span class="p">);</span>
<span class="w">  </span><span class="p">})}</span>
<span class="err">/&gt;;</span>
</pre></div>
</div>
</section>
<section id="pagination-setup">
<h1>Pagination - Setup<a class="headerlink" href="#pagination-setup" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>create PageBtnContainer</p></li>
</ul>
<p>JobsContainer.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">Job</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./Job&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/JobsContainer&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">PageBtnContainer</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./PageBtnContainer&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useAllJobsContext</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../pages/AllJobs&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">JobsContainer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useAllJobsContext</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">jobs</span><span class="p">,</span><span class="w"> </span><span class="nx">totalJobs</span><span class="p">,</span><span class="w"> </span><span class="nx">numOfPages</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">data</span><span class="p">;</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">jobs</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Wrapper</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">h2</span><span class="o">&gt;</span><span class="nx">No</span><span class="w"> </span><span class="nx">jobs</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">display</span><span class="p">...</span><span class="o">&lt;</span><span class="err">/h2&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Wrapper&gt;</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Wrapper</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">h5</span><span class="o">&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="nx">totalJobs</span><span class="p">}</span><span class="w"> </span><span class="nx">job</span><span class="p">{</span><span class="nx">jobs</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="s1">&#39;s&#39;</span><span class="p">}</span><span class="w"> </span><span class="nx">found</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/h5&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;jobs&#39;</span><span class="o">&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="nx">jobs</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">job</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">Job</span><span class="w"> </span><span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">job</span><span class="p">.</span><span class="nx">_id</span><span class="p">}</span><span class="w"> </span><span class="p">{...</span><span class="nx">job</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">;</span>
<span class="w">        </span><span class="p">})}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">      </span><span class="p">{</span><span class="nx">numOfPages</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">PageBtnContainer</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">}</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Wrapper&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">JobsContainer</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="basic-pagebtncontainer">
<h1>Basic PageBtnContainer<a class="headerlink" href="#basic-pagebtncontainer" title="Link to this heading"></a></h1>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">HiChevronDoubleLeft</span><span class="p">,</span><span class="w"> </span><span class="nx">HiChevronDoubleRight</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-icons/hi&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/PageBtnContainer&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useLocation</span><span class="p">,</span><span class="w"> </span><span class="nx">Link</span><span class="p">,</span><span class="w"> </span><span class="nx">useNavigate</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useAllJobsContext</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../pages/AllJobs&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">PageBtnContainer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">numOfPages</span><span class="p">,</span><span class="w"> </span><span class="nx">currentPage</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useAllJobsContext</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">search</span><span class="p">,</span><span class="w"> </span><span class="nx">pathname</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useLocation</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">navigate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useNavigate</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">pages</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Array</span><span class="p">.</span><span class="kr">from</span><span class="p">({</span><span class="w"> </span><span class="nx">length</span><span class="o">:</span><span class="w"> </span><span class="nx">numOfPages</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">(</span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">index</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">index</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">);</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">handlePageChange</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">pageNumber</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">searchParams</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">URLSearchParams</span><span class="p">(</span><span class="nx">search</span><span class="p">);</span>
<span class="w">    </span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;page&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">pageNumber</span><span class="p">);</span>
<span class="w">    </span><span class="nx">navigate</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="nx">pathname</span><span class="si">}</span><span class="sb">?</span><span class="si">${</span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Wrapper</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">button</span>
<span class="w">        </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;btn prev-btn&#39;</span>
<span class="w">        </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="kd">let</span><span class="w"> </span><span class="nx">prevPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">currentPage</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>
<span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">prevPage</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="nx">prevPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">numOfPages</span><span class="p">;</span>
<span class="w">          </span><span class="nx">handlePageChange</span><span class="p">(</span><span class="nx">prevPage</span><span class="p">);</span>
<span class="w">        </span><span class="p">}}</span>
<span class="w">      </span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">HiChevronDoubleLeft</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="nx">prev</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;btn-container&#39;</span><span class="o">&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="nx">pages</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">pageNumber</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">button</span>
<span class="w">            </span><span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="sb">`btn page-btn </span><span class="si">${</span><span class="nx">pageNumber</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">currentPage</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="s1">&#39;active&#39;</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span>
<span class="w">            </span><span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">pageNumber</span><span class="p">}</span>
<span class="w">            </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">handlePageChange</span><span class="p">(</span><span class="nx">pageNumber</span><span class="p">)}</span>
<span class="w">          </span><span class="o">&gt;</span>
<span class="w">            </span><span class="p">{</span><span class="nx">pageNumber</span><span class="p">}</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">        </span><span class="p">))}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">button</span>
<span class="w">        </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;btn next-btn&#39;</span>
<span class="w">        </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="kd">let</span><span class="w"> </span><span class="nx">nextPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">currentPage</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>
<span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">nextPage</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nx">numOfPages</span><span class="p">)</span><span class="w"> </span><span class="nx">nextPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>
<span class="w">          </span><span class="nx">handlePageChange</span><span class="p">(</span><span class="nx">nextPage</span><span class="p">);</span>
<span class="w">        </span><span class="p">}}</span>
<span class="w">      </span><span class="o">&gt;</span>
<span class="w">        </span><span class="nx">next</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">HiChevronDoubleRight</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Wrapper&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">PageBtnContainer</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="complex-pagebtncontainer">
<h1>Complex - PageBtnContainer<a class="headerlink" href="#complex-pagebtncontainer" title="Link to this heading"></a></h1>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">HiChevronDoubleLeft</span><span class="p">,</span><span class="w"> </span><span class="nx">HiChevronDoubleRight</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-icons/hi&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/PageBtnContainer&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useLocation</span><span class="p">,</span><span class="w"> </span><span class="nx">Link</span><span class="p">,</span><span class="w"> </span><span class="nx">useNavigate</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useAllJobsContext</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../pages/AllJobs&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">PageBtnContainer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">numOfPages</span><span class="p">,</span><span class="w"> </span><span class="nx">currentPage</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useAllJobsContext</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">search</span><span class="p">,</span><span class="w"> </span><span class="nx">pathname</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useLocation</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">navigate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useNavigate</span><span class="p">();</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">handlePageChange</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">pageNumber</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">searchParams</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">URLSearchParams</span><span class="p">(</span><span class="nx">search</span><span class="p">);</span>
<span class="w">    </span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;page&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">pageNumber</span><span class="p">);</span>
<span class="w">    </span><span class="nx">navigate</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="nx">pathname</span><span class="si">}</span><span class="sb">?</span><span class="si">${</span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">addPageButton</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">pageNumber</span><span class="p">,</span><span class="w"> </span><span class="nx">activeClass</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">button</span>
<span class="w">        </span><span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="sb">`btn page-btn </span><span class="si">${</span><span class="nx">activeClass</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="s1">&#39;active&#39;</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span>
<span class="w">        </span><span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">pageNumber</span><span class="p">}</span>
<span class="w">        </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">handlePageChange</span><span class="p">(</span><span class="nx">pageNumber</span><span class="p">)}</span>
<span class="w">      </span><span class="o">&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="nx">pageNumber</span><span class="p">}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">renderPageButtons</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">pageButtons</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>

<span class="w">    </span><span class="c1">// Add the first page button</span>
<span class="w">    </span><span class="nx">pageButtons</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
<span class="w">      </span><span class="nx">addPageButton</span><span class="p">({</span><span class="w"> </span><span class="nx">pageNumber</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">activeClass</span><span class="o">:</span><span class="w"> </span><span class="nx">currentPage</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="p">})</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">    </span><span class="c1">// Add the dots before the current page if there are more than 3 pages</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">currentPage</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">pageButtons</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">span</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;page-btn dots&#39;</span><span class="w"> </span><span class="nx">key</span><span class="o">=</span><span class="s1">&#39;dots-1&#39;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="p">....</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/span&gt;</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="c1">// one before current page</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">currentPage</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">currentPage</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="mf">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">pageButtons</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
<span class="w">        </span><span class="nx">addPageButton</span><span class="p">({</span><span class="w"> </span><span class="nx">pageNumber</span><span class="o">:</span><span class="w"> </span><span class="nx">currentPage</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">activeClass</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="p">})</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Add the current page button</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">currentPage</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">currentPage</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="nx">numOfPages</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">pageButtons</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
<span class="w">        </span><span class="nx">addPageButton</span><span class="p">({</span><span class="w"> </span><span class="nx">pageNumber</span><span class="o">:</span><span class="w"> </span><span class="nx">currentPage</span><span class="p">,</span><span class="w"> </span><span class="nx">activeClass</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">})</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// one after current page</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">currentPage</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="nx">numOfPages</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">currentPage</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="nx">numOfPages</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">pageButtons</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
<span class="w">        </span><span class="nx">addPageButton</span><span class="p">({</span><span class="w"> </span><span class="nx">pageNumber</span><span class="o">:</span><span class="w"> </span><span class="nx">currentPage</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">activeClass</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="p">})</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">currentPage</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">numOfPages</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">pageButtons</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">span</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39; page-btn dots&#39;</span><span class="w"> </span><span class="nx">key</span><span class="o">=</span><span class="s1">&#39;dots+1&#39;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="p">....</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/span&gt;</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Add the last page button</span>
<span class="w">    </span><span class="nx">pageButtons</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
<span class="w">      </span><span class="nx">addPageButton</span><span class="p">({</span>
<span class="w">        </span><span class="nx">pageNumber</span><span class="o">:</span><span class="w"> </span><span class="nx">numOfPages</span><span class="p">,</span>
<span class="w">        </span><span class="nx">activeClass</span><span class="o">:</span><span class="w"> </span><span class="nx">currentPage</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">numOfPages</span><span class="p">,</span>
<span class="w">      </span><span class="p">})</span>
<span class="w">    </span><span class="p">);</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">pageButtons</span><span class="p">;</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Wrapper</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">button</span>
<span class="w">        </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;prev-btn&#39;</span>
<span class="w">        </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="kd">let</span><span class="w"> </span><span class="nx">prevPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">currentPage</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>
<span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">prevPage</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="nx">prevPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">numOfPages</span><span class="p">;</span>
<span class="w">          </span><span class="nx">handlePageChange</span><span class="p">(</span><span class="nx">prevPage</span><span class="p">);</span>
<span class="w">        </span><span class="p">}}</span>
<span class="w">      </span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">HiChevronDoubleLeft</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="nx">prev</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;btn-container&#39;</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">renderPageButtons</span><span class="p">()}</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">button</span>
<span class="w">        </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;btn next-btn&#39;</span>
<span class="w">        </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="kd">let</span><span class="w"> </span><span class="nx">nextPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">currentPage</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>
<span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">nextPage</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nx">numOfPages</span><span class="p">)</span><span class="w"> </span><span class="nx">nextPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>
<span class="w">          </span><span class="nx">handlePageChange</span><span class="p">(</span><span class="nx">nextPage</span><span class="p">);</span>
<span class="w">        </span><span class="p">}}</span>
<span class="w">      </span><span class="o">&gt;</span>
<span class="w">        </span><span class="nx">next</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">HiChevronDoubleRight</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Wrapper&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">PageBtnContainer</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="pagebtncontainer-css-optional">
<h1>PageBtnContainer CSS (optional)<a class="headerlink" href="#pagebtncontainer-css-optional" title="Link to this heading"></a></h1>
<p>wrappers/PageBtnContainer.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">styled</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;styled-components&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">styled</span><span class="p">.</span><span class="nx">section</span><span class="sb">`</span>
<span class="sb">  height: 6rem;</span>
<span class="sb">  margin-top: 2rem;</span>
<span class="sb">  display: flex;</span>
<span class="sb">  align-items: center;</span>
<span class="sb">  justify-content: end;</span>
<span class="sb">  flex-wrap: wrap;</span>
<span class="sb">  gap: 1rem;</span>
<span class="sb">  .btn-container {</span>
<span class="sb">    background: var(--background-secondary-color);</span>
<span class="sb">    border-radius: var(--border-radius);</span>
<span class="sb">    display: flex;</span>
<span class="sb">  }</span>
<span class="sb">  .page-btn {</span>
<span class="sb">    background: transparent;</span>
<span class="sb">    border-color: transparent;</span>
<span class="sb">    width: 50px;</span>
<span class="sb">    height: 40px;</span>
<span class="sb">    font-weight: 700;</span>
<span class="sb">    font-size: 1.25rem;</span>
<span class="sb">    color: var(--primary-500);</span>
<span class="sb">    border-radius: var(--border-radius);</span>
<span class="sb">    cursor:pointer:</span>
<span class="sb">  }</span>
<span class="sb">  .active{</span>
<span class="sb">    background:var(--primary-500);</span>
<span class="sb">        color: var(--white);</span>

<span class="sb">  }</span>
<span class="sb">  .prev-btn,.next-btn{</span>
<span class="sb">    background: var(--background-secondary-color);</span>
<span class="sb">    border-color: transparent;</span>
<span class="sb">        border-radius: var(--border-radius);</span>

<span class="sb">    width: 100px;</span>
<span class="sb">    height: 40px;</span>
<span class="sb">        color: var(--primary-500);</span>
<span class="sb">text-transform:capitalize;</span>
<span class="sb">letter-spacing:var(--letter-spacing);</span>
<span class="sb">display:flex;</span>
<span class="sb">align-items:center;</span>
<span class="sb">justify-content:center;</span>
<span class="sb">gap:0.5rem;</span>
<span class="sb">cursor:pointer;</span>
<span class="sb">  }</span>
<span class="sb">  .prev-btn:hover,.next-btn:hover{</span>
<span class="sb">    background:var(--primary-500);</span>
<span class="sb">        color: var(--white);</span>
<span class="sb">        transition:var(--transition);</span>
<span class="sb">  }</span>
<span class="sb">.dots{</span>
<span class="sb">  display:grid;</span>
<span class="sb">  place-items:center;</span>
<span class="sb">  cursor:text;</span>
<span class="sb">}</span>
<span class="sb">`</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Wrapper</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="local-build">
<h1>Local Build<a class="headerlink" href="#local-build" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>remove default values from inputs in Register and Login</p></li>
<li><p>navigate to client and build front-end</p></li>
</ul>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>client<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>npm<span class="w"> </span>run<span class="w"> </span>build
</pre></div>
</div>
<ul class="simple">
<li><p>copy/paste all the files/folders</p>
<ul>
<li><p>from client/dist</p></li>
<li><p>to server(root)/public</p></li>
</ul>
</li>
<li><p>in server.js point to index.html</p></li>
</ul>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">app</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">sendFile</span><span class="p">(</span><span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;./public&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;index.html&#39;</span><span class="p">));</span>
<span class="p">});</span>
</pre></div>
</div>
</section>
<section id="deploy-on-render">
<h1>Deploy On Render<a class="headerlink" href="#deploy-on-render" title="Link to this heading"></a></h1>
<p><a class="reference external" href="https://render.com/">Render</a></p>
<ul class="simple">
<li><p>sign up of for account</p></li>
<li><p>create git repository</p></li>
</ul>
</section>
<section id="build-front-end-on-render">
<h1>Build Front-End on Render<a class="headerlink" href="#build-front-end-on-render" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>add script</p></li>
<li><p>change path</p></li>
</ul>
<p>package.json</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="s2">&quot;scripts&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s2">&quot;setup-production-app&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;npm i &amp;&amp; cd client &amp;&amp; npm i &amp;&amp; npm run build&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="p">},</span>
</pre></div>
</div>
<p>server.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">express</span><span class="p">.</span><span class="k">static</span><span class="p">(</span><span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;./client/dist&#39;</span><span class="p">)));</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">sendFile</span><span class="p">(</span><span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;./client/dist&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;index.html&#39;</span><span class="p">));</span>
<span class="p">});</span>
</pre></div>
</div>
</section>
<section id="test-locally">
<h1>Test Locally<a class="headerlink" href="#test-locally" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>remove client/dist and client/node_modules</p></li>
<li><p>remove node_modules and package-lock.json (optional)</p></li>
<li><p>run “npm run setup-production-app”, followed by “node server”</p></li>
</ul>
</section>
<section id="test-in-production">
<h1>Test in Production<a class="headerlink" href="#test-in-production" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>change build command on render</p></li>
</ul>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>run<span class="w"> </span>setup-production-app
</pre></div>
</div>
<ul class="simple">
<li><p>push up to github</p></li>
</ul>
</section>
<section id="upload-image-as-buffer">
<h1>Upload Image As Buffer<a class="headerlink" href="#upload-image-as-buffer" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>remove public folder</p></li>
</ul>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>i<span class="w"> </span>datauri@4.1.0
</pre></div>
</div>
<p>middleware/multerMiddleware.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">multer</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;multer&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">DataParser</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;datauri/parser.js&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">path</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;path&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">storage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">multer</span><span class="p">.</span><span class="nx">memoryStorage</span><span class="p">();</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">upload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">multer</span><span class="p">({</span><span class="w"> </span><span class="nx">storage</span><span class="w"> </span><span class="p">});</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">parser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">DataParser</span><span class="p">();</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">formatImage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">file</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">fileExtension</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">path</span><span class="p">.</span><span class="nx">extname</span><span class="p">(</span><span class="nx">file</span><span class="p">.</span><span class="nx">originalname</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">parser</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="nx">fileExtension</span><span class="p">,</span><span class="w"> </span><span class="nx">file</span><span class="p">.</span><span class="nx">buffer</span><span class="p">).</span><span class="nx">content</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">upload</span><span class="p">;</span>
</pre></div>
</div>
<p>controller/userController.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">formatImage</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../middleware/multerMiddleware.js&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">updateUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">newUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="w"> </span><span class="p">};</span>
<span class="w">  </span><span class="ow">delete</span><span class="w"> </span><span class="nx">newUser</span><span class="p">.</span><span class="nx">password</span><span class="p">;</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">file</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">formatImage</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">file</span><span class="p">);</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">cloudinary</span><span class="p">.</span><span class="nx">v2</span><span class="p">.</span><span class="nx">uploader</span><span class="p">.</span><span class="nx">upload</span><span class="p">(</span><span class="nx">file</span><span class="p">);</span>
<span class="w">    </span><span class="nx">newUser</span><span class="p">.</span><span class="nx">avatar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">secure_url</span><span class="p">;</span>
<span class="w">    </span><span class="nx">newUser</span><span class="p">.</span><span class="nx">avatarPublicId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">public_id</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">updatedUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">User</span><span class="p">.</span><span class="nx">findByIdAndUpdate</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">userId</span><span class="p">,</span><span class="w"> </span><span class="nx">newUser</span><span class="p">);</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">file</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">updatedUser</span><span class="p">.</span><span class="nx">avatarPublicId</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">cloudinary</span><span class="p">.</span><span class="nx">v2</span><span class="p">.</span><span class="nx">uploader</span><span class="p">.</span><span class="nx">destroy</span><span class="p">(</span><span class="nx">updatedUser</span><span class="p">.</span><span class="nx">avatarPublicId</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="nx">StatusCodes</span><span class="p">.</span><span class="nx">OK</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;update user&#39;</span><span class="w"> </span><span class="p">});</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="setup-global-loading">
<h1>Setup Global Loading<a class="headerlink" href="#setup-global-loading" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>create loading component (import/export)</p></li>
<li><p>check for loading in DashboardLayout page</p></li>
</ul>
<p>components/Loading.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">Loading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;loading&#39;</span><span class="o">&gt;&lt;</span><span class="err">/div&gt;;</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Loading</span><span class="p">;</span>
</pre></div>
</div>
<p>DashboardLayout.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useNavigation</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Loading</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">DashboardLayout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">isDarkThemeEnabled</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">navigation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useNavigation</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">isPageLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">navigation</span><span class="p">.</span><span class="nx">state</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;loading&#39;</span><span class="p">;</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Wrapper</span><span class="o">&gt;</span>
<span class="w">      </span><span class="p">...</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;dashboard-page&#39;</span><span class="o">&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="nx">isPageLoading</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">Loading</span><span class="w"> </span><span class="o">/&gt;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">Outlet</span><span class="w"> </span><span class="nx">context</span><span class="o">=</span><span class="p">{{</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="p">}}</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">      </span><span class="p">...</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Wrapper&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="react-query">
<h1>React Query<a class="headerlink" href="#react-query" title="Link to this heading"></a></h1>
<p>React Query is a powerful library that simplifies data fetching, caching, and synchronization in React applications. It provides a declarative and intuitive way to manage remote data by abstracting away the complex logic of fetching and caching data from APIs. React Query offers features like automatic background data refetching, optimistic updates, pagination support, and more, making it easier to build performant and responsive applications that rely on fetching and manipulating data.</p>
<p><a class="reference external" href="https://tanstack.com/query/v4/docs/react/overview">React Query Docs</a></p>
<ul class="simple">
<li><p>in the client</p></li>
</ul>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>i<span class="w"> </span>@tanstack/react-query@4.29.5<span class="w"> </span>@tanstack/react-query-devtools@4.29.6
</pre></div>
</div>
<p>App.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">QueryClient</span><span class="p">,</span><span class="w"> </span><span class="nx">QueryClientProvider</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@tanstack/react-query&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ReactQueryDevtools</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@tanstack/react-query-devtools&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">queryClient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">QueryClient</span><span class="p">({</span>
<span class="w">  </span><span class="nx">defaultOptions</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">queries</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">staleTime</span><span class="o">:</span><span class="w"> </span><span class="mf">1000</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">60</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">5</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">});</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">App</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">QueryClientProvider</span><span class="w"> </span><span class="nx">client</span><span class="o">=</span><span class="p">{</span><span class="nx">queryClient</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">RouterProvider</span><span class="w"> </span><span class="nx">router</span><span class="o">=</span><span class="p">{</span><span class="nx">router</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">ReactQueryDevtools</span><span class="w"> </span><span class="nx">initialIsOpen</span><span class="o">=</span><span class="p">{</span><span class="kc">false</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/QueryClientProvider&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="page-error-element">
<h1>Page Error Element<a class="headerlink" href="#page-error-element" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>create components/ErrorElement</p></li>
</ul>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useRouteError</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="ne">Error</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">error</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useRouteError</span><span class="p">();</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">h4</span><span class="o">&gt;</span><span class="nx">There</span><span class="w"> </span><span class="nx">was</span><span class="w"> </span><span class="nx">an</span><span class="w"> </span><span class="nx">error</span><span class="p">...</span><span class="o">&lt;</span><span class="err">/h4&gt;;</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">ErrorElement</span><span class="p">;</span>
</pre></div>
</div>
<p>Stats.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">loader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/jobs/stats&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p>App.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;stats&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">element</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">Stats</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">loader</span><span class="o">:</span><span class="w"> </span><span class="nx">statsLoader</span><span class="p">,</span>
<span class="w">  </span><span class="nx">errorElement</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">h4</span><span class="o">&gt;</span><span class="nx">There</span><span class="w"> </span><span class="nx">was</span><span class="w"> </span><span class="nx">an</span><span class="w"> </span><span class="nx">error</span><span class="p">...</span><span class="o">&lt;</span><span class="err">/h4&gt;</span>
<span class="p">},</span>
</pre></div>
</div>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;stats&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">element</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">Stats</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">loader</span><span class="o">:</span><span class="w"> </span><span class="nx">statsLoader</span><span class="p">,</span>
<span class="w">  </span><span class="nx">errorElement</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">ErrorElement</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">,</span>
<span class="p">},</span>
</pre></div>
</div>
</section>
<section id="first-query">
<h1>First Query<a class="headerlink" href="#first-query" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>navigate to stats</p></li>
</ul>
<p>Stats.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ChartsContainer</span><span class="p">,</span><span class="w"> </span><span class="nx">StatsContainer</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">customFetch</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../utils/customFetch&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useLoaderData</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useQuery</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@tanstack/react-query&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">loader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Stats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useQuery</span><span class="p">({</span>
<span class="w">    </span><span class="nx">queryKey</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;stats&#39;</span><span class="p">],</span>
<span class="w">    </span><span class="nx">queryFn</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/jobs/stats&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="p">});</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">isLoading</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Loading</span><span class="p">...</span><span class="o">&lt;</span><span class="err">/h1&gt;;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">react</span><span class="w"> </span><span class="nx">query</span><span class="o">&lt;</span><span class="err">/h1&gt;;</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">StatsContainer</span><span class="w"> </span><span class="nx">defaultStats</span><span class="o">=</span><span class="p">{</span><span class="nx">defaultStats</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="p">{</span><span class="nx">monthlyApplications</span><span class="o">?</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">ChartsContainer</span><span class="w"> </span><span class="nx">data</span><span class="o">=</span><span class="p">{</span><span class="nx">monthlyApplications</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="p">)}</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Stats</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useQuery</span><span class="p">({</span>
<span class="w">  </span><span class="nx">queryKey</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;stats&#39;</span><span class="p">],</span>
<span class="w">  </span><span class="nx">queryFn</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/jobs/stats&#39;</span><span class="p">),</span>
<span class="p">});</span>
</pre></div>
</div>
<p>const data = useQuery({ … });: This line declares a constant variable named data and assigns it the result of the useQuery hook. The useQuery hook is provided by React Query and is used to perform data fetching.</p>
<p>queryKey: [‘stats’],: The queryKey property is an array that serves as a unique identifier for the query. In this case, the query key is set to [‘stats’], indicating that this query is fetching statistics related to jobs.</p>
<p>queryFn: () =&gt; customFetch.get(‘/jobs/stats’),: The queryFn property specifies the function that will be executed when the query is triggered. In this case, it uses an arrow function that calls customFetch.get(‘/jobs/stats’). The customFetch object is likely a custom wrapper around the fetch function or an external HTTP client library, used to make the actual API request to retrieve job statistics.In React Query, the queryFn property expects a function that returns a promise. The promise should resolve with the data you want to fetch and store in the query cache.</p>
<p>customFetch.get(‘/jobs/stats’): This line is making an HTTP GET request to the /jobs/stats endpoint, which is the API route that provides the job statistics data.</p>
</section>
<section id="get-stats-with-react-query">
<h1>Get Stats with React Query<a class="headerlink" href="#get-stats-with-react-query" title="Link to this heading"></a></h1>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">statsQuery</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">queryKey</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;stats&#39;</span><span class="p">],</span>
<span class="w">  </span><span class="nx">queryFn</span><span class="o">:</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/jobs/stats&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">loader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Stats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">isLoading</span><span class="p">,</span><span class="w"> </span><span class="nx">isError</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useQuery</span><span class="p">(</span><span class="nx">statsQuery</span><span class="p">);</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">isLoading</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">h4</span><span class="o">&gt;</span><span class="nx">Loading</span><span class="p">...</span><span class="o">&lt;</span><span class="err">/h4&gt;;</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">isError</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">h4</span><span class="o">&gt;</span><span class="ne">Error</span><span class="p">...</span><span class="o">&lt;</span><span class="err">/h4&gt;;</span>
<span class="w">  </span><span class="c1">// after loading/error or ?.</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">defaultStats</span><span class="p">,</span><span class="w"> </span><span class="nx">monthlyApplications</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">data</span><span class="p">;</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">StatsContainer</span><span class="w"> </span><span class="nx">defaultStats</span><span class="o">=</span><span class="p">{</span><span class="nx">defaultStats</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="p">{</span><span class="nx">monthlyApplications</span><span class="o">?</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">ChartsContainer</span><span class="w"> </span><span class="nx">data</span><span class="o">=</span><span class="p">{</span><span class="nx">monthlyApplications</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="p">)}</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Stats</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="react-query-in-stats-loader">
<h1>React Query in Stats Loader<a class="headerlink" href="#react-query-in-stats-loader" title="Link to this heading"></a></h1>
<p>App.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;stats&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">element</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">Stats</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">loader</span><span class="o">:</span><span class="w"> </span><span class="nx">statsLoader</span><span class="p">(</span><span class="nx">queryClient</span><span class="p">),</span>
<span class="w">  </span><span class="nx">errorElement</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">ErrorElement</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">,</span>
<span class="p">},</span>
</pre></div>
</div>
<p>Stats.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ChartsContainer</span><span class="p">,</span><span class="w"> </span><span class="nx">StatsContainer</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">customFetch</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../utils/customFetch&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useQuery</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@tanstack/react-query&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">statsQuery</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">queryKey</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;stats&#39;</span><span class="p">],</span>
<span class="w">  </span><span class="nx">queryFn</span><span class="o">:</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/jobs/statss&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">loader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">queryClient</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">queryClient</span><span class="p">.</span><span class="nx">ensureQueryData</span><span class="p">(</span><span class="nx">statsQuery</span><span class="p">);</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">data</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Stats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useQuery</span><span class="p">(</span><span class="nx">statsQuery</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">defaultStats</span><span class="p">,</span><span class="w"> </span><span class="nx">monthlyApplications</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">data</span><span class="p">;</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">StatsContainer</span><span class="w"> </span><span class="nx">defaultStats</span><span class="o">=</span><span class="p">{</span><span class="nx">defaultStats</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="p">{</span><span class="nx">monthlyApplications</span><span class="o">?</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">ChartsContainer</span><span class="w"> </span><span class="nx">data</span><span class="o">=</span><span class="p">{</span><span class="nx">monthlyApplications</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="p">)}</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Stats</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="react-query-for-current-user">
<h1>React Query for Current User<a class="headerlink" href="#react-query-for-current-user" title="Link to this heading"></a></h1>
<p>DashboardLayout.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">userQuery</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">queryKey</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">],</span>
<span class="w">  </span><span class="nx">queryFn</span><span class="o">:</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">(</span><span class="s1">&#39;/users/current-user&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">data</span><span class="p">;</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">loader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">queryClient</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">queryClient</span><span class="p">.</span><span class="nx">ensureQueryData</span><span class="p">(</span><span class="nx">userQuery</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">redirect</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Dashboard</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">prefersDarkMode</span><span class="p">,</span><span class="w"> </span><span class="nx">queryClient</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useQuery</span><span class="p">(</span><span class="nx">userQuery</span><span class="p">)</span><span class="o">?</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="invalidate-queries">
<h1>Invalidate Queries<a class="headerlink" href="#invalidate-queries" title="Link to this heading"></a></h1>
<p>Login.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">action</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="p">(</span><span class="nx">queryClient</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span>
<span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">request</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">formData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">formData</span><span class="p">();</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Object</span><span class="p">.</span><span class="nx">fromEntries</span><span class="p">(</span><span class="nx">formData</span><span class="p">);</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">await</span><span class="w"> </span><span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/api/v1/auth/login&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="p">);</span>
<span class="w">      </span><span class="nx">queryClient</span><span class="p">.</span><span class="nx">invalidateQueries</span><span class="p">();</span>
<span class="w">      </span><span class="nx">toast</span><span class="p">.</span><span class="nx">success</span><span class="p">(</span><span class="s1">&#39;Login successful&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">redirect</span><span class="p">(</span><span class="s1">&#39;/dashboard&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">toast</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">msg</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">error</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">};</span>
</pre></div>
</div>
<p>DashboardLayout.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">logoutUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">navigate</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/auth/logout&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="nx">queryClient</span><span class="p">.</span><span class="nx">invalidateQueries</span><span class="p">();</span>
<span class="w">  </span><span class="nx">toast</span><span class="p">.</span><span class="nx">success</span><span class="p">(</span><span class="s1">&#39;Logging out...&#39;</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Profile.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">action</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="p">(</span><span class="nx">queryClient</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span>
<span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">request</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">formData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">formData</span><span class="p">();</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">formData</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;avatar&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">file</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">file</span><span class="p">.</span><span class="nx">size</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">500000</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">toast</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Image size too large&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">patch</span><span class="p">(</span><span class="s1">&#39;/users/update-user&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">formData</span><span class="p">);</span>
<span class="w">      </span><span class="nx">queryClient</span><span class="p">.</span><span class="nx">invalidateQueries</span><span class="p">([</span><span class="s1">&#39;user&#39;</span><span class="p">]);</span>
<span class="w">      </span><span class="nx">toast</span><span class="p">.</span><span class="nx">success</span><span class="p">(</span><span class="s1">&#39;Profile updated successfully&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">redirect</span><span class="p">(</span><span class="s1">&#39;/dashboard&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">toast</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="o">?</span><span class="p">.</span><span class="nx">response</span><span class="o">?</span><span class="p">.</span><span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">msg</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">};</span>
</pre></div>
</div>
</section>
<section id="all-jobs-query">
<h1>All Jobs Query<a class="headerlink" href="#all-jobs-query" title="Link to this heading"></a></h1>
<p>AllJobs.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">toast</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-toastify&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">JobsContainer</span><span class="p">,</span><span class="w"> </span><span class="nx">SearchContainer</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">customFetch</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../utils/customFetch&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useLoaderData</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useContext</span><span class="p">,</span><span class="w"> </span><span class="nx">createContext</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useQuery</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@tanstack/react-query&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">AllJobsContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createContext</span><span class="p">();</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">allJobsQuery</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">params</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">search</span><span class="p">,</span><span class="w"> </span><span class="nx">jobStatus</span><span class="p">,</span><span class="w"> </span><span class="nx">jobType</span><span class="p">,</span><span class="w"> </span><span class="nx">sort</span><span class="p">,</span><span class="w"> </span><span class="nx">page</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">params</span><span class="p">;</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">queryKey</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s1">&#39;jobs&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">search</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">jobStatus</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="s1">&#39;all&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">jobType</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="s1">&#39;all&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">sort</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="s1">&#39;newest&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">page</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nx">queryFn</span><span class="o">:</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/jobs&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">params</span><span class="p">,</span>
<span class="w">      </span><span class="p">});</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">data</span><span class="p">;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">loader</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="p">(</span><span class="nx">queryClient</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span>
<span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">request</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Object</span><span class="p">.</span><span class="nx">fromEntries</span><span class="p">([</span>
<span class="w">      </span><span class="p">...</span><span class="ow">new</span><span class="w"> </span><span class="nx">URL</span><span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">url</span><span class="p">).</span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">entries</span><span class="p">(),</span>
<span class="w">    </span><span class="p">]);</span>

<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">queryClient</span><span class="p">.</span><span class="nx">ensureQueryData</span><span class="p">(</span><span class="nx">allJobsQuery</span><span class="p">(</span><span class="nx">params</span><span class="p">));</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">searchValues</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="nx">params</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">};</span>
<span class="w">  </span><span class="p">};</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">AllJobs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">searchValues</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useLoaderData</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useQuery</span><span class="p">(</span><span class="nx">allJobsQuery</span><span class="p">(</span><span class="nx">searchValues</span><span class="p">));</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">AllJobsContext</span><span class="p">.</span><span class="nx">Provider</span><span class="w"> </span><span class="nx">value</span><span class="o">=</span><span class="p">{{</span><span class="w"> </span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">searchValues</span><span class="w"> </span><span class="p">}}</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">SearchContainer</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">JobsContainer</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/AllJobsContext.Provider&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">AllJobs</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">useAllJobsContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">useContext</span><span class="p">(</span><span class="nx">AllJobsContext</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="invalidate-jobs">
<h1>Invalidate Jobs<a class="headerlink" href="#invalidate-jobs" title="Link to this heading"></a></h1>
<p>AddJob.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">action</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="p">(</span><span class="nx">queryClient</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span>
<span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">request</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">formData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">formData</span><span class="p">();</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Object</span><span class="p">.</span><span class="nx">fromEntries</span><span class="p">(</span><span class="nx">formData</span><span class="p">);</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/jobs&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="p">);</span>
<span class="w">      </span><span class="nx">queryClient</span><span class="p">.</span><span class="nx">invalidateQueries</span><span class="p">([</span><span class="s1">&#39;jobs&#39;</span><span class="p">]);</span>
<span class="w">      </span><span class="nx">toast</span><span class="p">.</span><span class="nx">success</span><span class="p">(</span><span class="s1">&#39;Job added successfully &#39;</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">redirect</span><span class="p">(</span><span class="s1">&#39;all-jobs&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">toast</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="o">?</span><span class="p">.</span><span class="nx">response</span><span class="o">?</span><span class="p">.</span><span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">msg</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">error</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">};</span>
</pre></div>
</div>
<p>EditJob.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">action</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="p">(</span><span class="nx">queryClient</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span>
<span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">request</span><span class="p">,</span><span class="w"> </span><span class="nx">params</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">formData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">formData</span><span class="p">();</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Object</span><span class="p">.</span><span class="nx">fromEntries</span><span class="p">(</span><span class="nx">formData</span><span class="p">);</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">patch</span><span class="p">(</span><span class="sb">`/jobs/</span><span class="si">${</span><span class="nx">params</span><span class="p">.</span><span class="nx">id</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="p">);</span>
<span class="w">      </span><span class="nx">queryClient</span><span class="p">.</span><span class="nx">invalidateQueries</span><span class="p">([</span><span class="s1">&#39;jobs&#39;</span><span class="p">]);</span>
<span class="w">      </span><span class="nx">toast</span><span class="p">.</span><span class="nx">success</span><span class="p">(</span><span class="s1">&#39;Job edited successfully&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">redirect</span><span class="p">(</span><span class="s1">&#39;/dashboard/all-jobs&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">toast</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="o">?</span><span class="p">.</span><span class="nx">response</span><span class="o">?</span><span class="p">.</span><span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">msg</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">error</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">};</span>
</pre></div>
</div>
<p>DeleteJob.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">action</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="p">(</span><span class="nx">queryClient</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span>
<span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">params</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="ow">delete</span><span class="p">(</span><span class="sb">`/jobs/</span><span class="si">${</span><span class="nx">params</span><span class="p">.</span><span class="nx">id</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">      </span><span class="nx">queryClient</span><span class="p">.</span><span class="nx">invalidateQueries</span><span class="p">([</span><span class="s1">&#39;jobs&#39;</span><span class="p">]);</span>
<span class="w">      </span><span class="nx">toast</span><span class="p">.</span><span class="nx">success</span><span class="p">(</span><span class="s1">&#39;Job deleted successfully&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">toast</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="o">?</span><span class="p">.</span><span class="nx">response</span><span class="o">?</span><span class="p">.</span><span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">msg</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">redirect</span><span class="p">(</span><span class="s1">&#39;/dashboard/all-jobs&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">};</span>
</pre></div>
</div>
</section>
<section id="edit-job-loader">
<h1>Edit Job Loader<a class="headerlink" href="#edit-job-loader" title="Link to this heading"></a></h1>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">FormRow</span><span class="p">,</span><span class="w"> </span><span class="nx">FormRowSelect</span><span class="p">,</span><span class="w"> </span><span class="nx">SubmitBtn</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Wrapper</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../assets/wrappers/DashboardFormPage&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useLoaderData</span><span class="p">,</span><span class="w"> </span><span class="nx">useParams</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">JOB_STATUS</span><span class="p">,</span><span class="w"> </span><span class="nx">JOB_TYPE</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../../../utils/constants&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Form</span><span class="p">,</span><span class="w"> </span><span class="nx">redirect</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">toast</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-toastify&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">customFetch</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../utils/customFetch&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useQuery</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@tanstack/react-query&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">singleJobQuery</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">id</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">queryKey</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;job&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">id</span><span class="p">],</span>
<span class="w">    </span><span class="nx">queryFn</span><span class="o">:</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="sb">`/jobs/</span><span class="si">${</span><span class="nx">id</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">data</span><span class="p">;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">loader</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="p">(</span><span class="nx">queryClient</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span>
<span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">params</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">await</span><span class="w"> </span><span class="nx">queryClient</span><span class="p">.</span><span class="nx">ensureQueryData</span><span class="p">(</span><span class="nx">singleJobQuery</span><span class="p">(</span><span class="nx">params</span><span class="p">.</span><span class="nx">id</span><span class="p">));</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">params</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">toast</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="o">?</span><span class="p">.</span><span class="nx">response</span><span class="o">?</span><span class="p">.</span><span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">msg</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">redirect</span><span class="p">(</span><span class="s1">&#39;/dashboard/all-jobs&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">action</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="p">(</span><span class="nx">queryClient</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span>
<span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">request</span><span class="p">,</span><span class="w"> </span><span class="nx">params</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">formData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">formData</span><span class="p">();</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Object</span><span class="p">.</span><span class="nx">fromEntries</span><span class="p">(</span><span class="nx">formData</span><span class="p">);</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">patch</span><span class="p">(</span><span class="sb">`/jobs/</span><span class="si">${</span><span class="nx">params</span><span class="p">.</span><span class="nx">id</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="p">);</span>
<span class="w">      </span><span class="nx">queryClient</span><span class="p">.</span><span class="nx">invalidateQueries</span><span class="p">([</span><span class="s1">&#39;jobs&#39;</span><span class="p">]);</span>

<span class="w">      </span><span class="nx">toast</span><span class="p">.</span><span class="nx">success</span><span class="p">(</span><span class="s1">&#39;Job edited successfully&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">redirect</span><span class="p">(</span><span class="s1">&#39;/dashboard/all-jobs&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">toast</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="o">?</span><span class="p">.</span><span class="nx">response</span><span class="o">?</span><span class="p">.</span><span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">msg</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">error</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">};</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">EditJob</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useLoaderData</span><span class="p">();</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">job</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useQuery</span><span class="p">(</span><span class="nx">singleJobQuery</span><span class="p">(</span><span class="nx">id</span><span class="p">));</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Wrapper</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Form</span><span class="w"> </span><span class="nx">method</span><span class="o">=</span><span class="s1">&#39;post&#39;</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form&#39;</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">h4</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form-title&#39;</span><span class="o">&gt;</span><span class="nx">edit</span><span class="w"> </span><span class="nx">job</span><span class="o">&lt;</span><span class="err">/h4&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s1">&#39;form-center&#39;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">FormRow</span><span class="w"> </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;text&#39;</span><span class="w"> </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;position&#39;</span><span class="w"> </span><span class="nx">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="nx">job</span><span class="p">.</span><span class="nx">position</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">FormRow</span><span class="w"> </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;text&#39;</span><span class="w"> </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;company&#39;</span><span class="w"> </span><span class="nx">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="nx">job</span><span class="p">.</span><span class="nx">company</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">FormRow</span>
<span class="w">            </span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;text&#39;</span>
<span class="w">            </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;jobLocation&#39;</span>
<span class="w">            </span><span class="nx">labelText</span><span class="o">=</span><span class="s1">&#39;job location&#39;</span>
<span class="w">            </span><span class="nx">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="nx">job</span><span class="p">.</span><span class="nx">jobLocation</span><span class="p">}</span>
<span class="w">          </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">FormRowSelect</span>
<span class="w">            </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;jobStatus&#39;</span>
<span class="w">            </span><span class="nx">labelText</span><span class="o">=</span><span class="s1">&#39;job status&#39;</span>
<span class="w">            </span><span class="nx">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="nx">job</span><span class="p">.</span><span class="nx">jobStatus</span><span class="p">}</span>
<span class="w">            </span><span class="nx">list</span><span class="o">=</span><span class="p">{</span><span class="nb">Object</span><span class="p">.</span><span class="nx">values</span><span class="p">(</span><span class="nx">JOB_STATUS</span><span class="p">)}</span>
<span class="w">          </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">FormRowSelect</span>
<span class="w">            </span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;jobType&#39;</span>
<span class="w">            </span><span class="nx">labelText</span><span class="o">=</span><span class="s1">&#39;job type&#39;</span>
<span class="w">            </span><span class="nx">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="nx">job</span><span class="p">.</span><span class="nx">jobType</span><span class="p">}</span>
<span class="w">            </span><span class="nx">list</span><span class="o">=</span><span class="p">{</span><span class="nb">Object</span><span class="p">.</span><span class="nx">values</span><span class="p">(</span><span class="nx">JOB_TYPE</span><span class="p">)}</span>
<span class="w">          </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">SubmitBtn</span><span class="w"> </span><span class="nx">formBtn</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Form&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Wrapper&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">EditJob</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="axios-interceptors">
<h1>Axios Interceptors<a class="headerlink" href="#axios-interceptors" title="Link to this heading"></a></h1>
<p>DashboardLayout.jsx</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">DashboardContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createContext</span><span class="p">();</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">DashboardLayout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">isDarkThemeEnabled</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">isAuthError</span><span class="p">,</span><span class="w"> </span><span class="nx">setIsAuthError</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">logoutUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/auth/logout&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="nx">toast</span><span class="p">.</span><span class="nx">success</span><span class="p">(</span><span class="s1">&#39;Logging out...&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="nx">navigate</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="nx">customFetch</span><span class="p">.</span><span class="nx">interceptors</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span>
<span class="w">    </span><span class="p">(</span><span class="nx">response</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">response</span><span class="p">;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="o">?</span><span class="p">.</span><span class="nx">response</span><span class="o">?</span><span class="p">.</span><span class="nx">status</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">401</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">setIsAuthError</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nb">Promise</span><span class="p">.</span><span class="nx">reject</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">);</span>
<span class="w">  </span><span class="nx">useEffect</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">isAuthError</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="p">;</span>
<span class="w">    </span><span class="nx">logoutUser</span><span class="p">();</span>
<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="p">[</span><span class="nx">isAuthError</span><span class="p">]);</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">...</span>
<span class="w">  </span><span class="p">)</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="security">
<h1>Security<a class="headerlink" href="#security" title="Link to this heading"></a></h1>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>install<span class="w"> </span>helmet<span class="w"> </span>express-mongo-sanitize<span class="w"> </span>express-rate-limit
</pre></div>
</div>
<p>Package: helmet
Description: helmet is a security package for Express.js applications that helps protect them by setting various HTTP headers to enhance security, prevent common web vulnerabilities, and improve overall application security posture.
Need: The package is needed to safeguard web applications from potential security threats, such as cross-site scripting (XSS) attacks, clickjacking, and other security exploits.</p>
<p>Package: express-mongo-sanitize
Description: express-mongo-sanitize is a middleware for Express.js that sanitizes user-supplied data coming from request parameters, body, and query strings to prevent potential NoSQL injection attacks on MongoDB databases.
Need: The package addresses the need to protect MongoDB databases from malicious attempts to manipulate data and helps ensure the integrity of data storage and retrieval.</p>
<p>Package: express-rate-limit
Description: express-rate-limit is an Express.js middleware that helps control and limit the rate of incoming requests from a specific IP address or a set of IP addresses to protect the server from abuse, brute-force attacks, and potential denial-of-service (DoS) attacks.
Need: This package is necessary to manage and regulate the number of requests made to the server within a given time frame, preventing excessive usage and improving the overall stability and performance of the application.</p>
<p>server.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">helmet</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;helmet&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">mongoSanitize</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;express-mongo-sanitize&#39;</span><span class="p">;</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">helmet</span><span class="p">());</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">mongoSanitize</span><span class="p">());</span>
</pre></div>
</div>
<p>routes/authRouter.js</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">rateLimiter</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;express-rate-limit&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">apiLimiter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">rateLimiter</span><span class="p">({</span>
<span class="w">  </span><span class="nx">windowMs</span><span class="o">:</span><span class="w"> </span><span class="mf">15</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">60</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1000</span><span class="p">,</span><span class="w"> </span><span class="c1">// 15 minutes</span>
<span class="w">  </span><span class="nx">max</span><span class="o">:</span><span class="w"> </span><span class="mf">15</span><span class="p">,</span>
<span class="w">  </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">msg</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;IP rate limit exceeded, retry in 15 minutes.&#39;</span><span class="w"> </span><span class="p">},</span>
<span class="p">});</span>
<span class="nx">router</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/register&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">apiLimiter</span><span class="p">,</span><span class="w"> </span><span class="nx">validateRegisterInput</span><span class="p">,</span><span class="w"> </span><span class="nx">register</span><span class="p">);</span>
<span class="nx">router</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/login&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">apiLimiter</span><span class="p">,</span><span class="w"> </span><span class="nx">validateLoginInput</span><span class="p">,</span><span class="w"> </span><span class="nx">login</span><span class="p">);</span>
</pre></div>
</div>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, chen.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>